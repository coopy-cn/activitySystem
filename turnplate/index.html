<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>凡科互动</title>
<script type="text/javascript">
    function hdFaiOperateImg(img, option){
        if(typeof hdFai === "undefined"){
            if(!hdFaiOperateImg.cache){
                hdFaiOperateImg.cache = [];
            }
            hdFaiOperateImg.cache.push(arguments);
        }else{
            if(typeof option != 'object'){
                var parent = $(img).parent();
                var mode = typeof option == 'number' ? option : hdFai.Img.MODE_SCALE_FILL;
                option = {width:parent.width(), height:parent.height(), mode:mode};
            }
            hdFai.Img.optimize(img,option);
        }   
    }
</script>
<style type="text/css">
    /*写在css里面 0% 会被压缩成 0 导致ie不识别 ，先放在jsp中*/
    .flex-1 {
        -webkit-box-flex: 1 1 0%;
        -webkit-flex: 1 1 0%;
        -ms-flex: 1 1 0%;
        flex: 1 1 0%;
    }
    #editActive .editDetail{
        -webkit-box-flex: 1 0 0%;
        -webkit-flex: 1 0 0%;
        -ms-flex: 1 0 0%;
        flex: 1 0 0%;
    }
</style>
<link href="css/base.min.css" rel="stylesheet" type="text/css" />
<link href="css/version3.min.css" rel="stylesheet" type="text/css" />
<link href="css/editActive_new3.min.css" rel="stylesheet" type="text/css"/>
</head>
<body class="version3">
<div id="editActContainer" ng-app="editActive" class="container editActContainer">
    <div class="headBar">
        <span class="middleHander"></span>
        <a href=http://hd.fkw.com target='_blank'><img class='logo' src='img/hdNewLogo.png?v=555'/></a>
        
        <a class="upgrade" onclick='openQuickPay(1000144,1);HdPortal.logDog(1000144, 27);' href='javascript:;'>前往升级</a>
        
        <div class="headerRight">
            <span class="middleHander"></span>
            
            
            <div class="headBtn mbtn main-Button" onclick="HdPortal.showPublishBoxById(4,game.$$verInfo)">发布</div>
            
            <div id="savePubButon" class="headBtn mbtn main-Button-blue">预览<div id="newSavePubButon" class="headBtn mbtn main-Button-blue" ng-hide="!isSave"><span class="view">预览</span><span class="viewSave hide">预览并保存</span></div>
            </div>
            <div id="saveButon" class="headBtn mbtn main-Button-blue" ng-class="{'disabled':!isSave}">保存</div>
            <a id="cancelButton" class="headBtn" href="javascript:;">退出编辑</a>
        </div>
    </div>
    <div id="editActiveWarp">
        <div id="editActive" class="editActBox flex">
            <div class="topBarWarp">
                <div class="topBarSrollBox">
                    <div class="topBar"></div>
                </div> 
            </div>
            <div class="phoneWarp flex-1">
                <div class="phoneBox">
                    <div class="phone">
                        <div class="wxTitle">
                            <div id="actName" class="actName" ng-bind="game.name"></div>
                        </div>
                        <div id="gameContent">
                            <iframe id="gamePreviewPage" src="xydzp.html" frameborder="0" scrolling="no" style="width:100%;height:100%;"></iframe>
                            <div id="imgSizeShow">
                                <div>宽：<span></span></div>
                                <div>高：<span></span></div>
                            </div>
                            
                            <div id="phonePreLoadWrap">
                                <div id="phonePreLoad">
                                    <div class="spinner">
                                        <div class="spinner-container container1">
                                            <div class="circle1"></div>
                                            <div class="circle2"></div>
                                            <div class="circle3"></div>
                                            <div class="circle4"></div>
                                        </div>
                                        <div class="spinner-container container2">
                                            <div class="circle1"></div>
                                            <div class="circle2"></div>
                                            <div class="circle3"></div>
                                            <div class="circle4"></div>
                                        </div>
                                        <div class="spinner-container container3">
                                            <div class="circle1"></div>
                                            <div class="circle2"></div>
                                            <div class="circle3"></div>
                                            <div class="circle4"></div>
                                        </div>
                                    </div>
                                    <div class="info">加载中...</div>
                                </div>
                            </div>
                        </div>
                        <div id='moduleLayerBox' class="moduleLayer"></div>
                    </div>
                    <div class="rightBar">
                        <div class="changePageBox">
                            <div class="changePage prev"><div class="img"></div></div>
                            <div class="currentPage">1/1</div>
                            <div class="changePage next"><div class="img"></div></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="editContent isOpenActiveABTest" ng-class="game.$$newEditSet">
                <div id="activeTab" class="commTabBox flex">
                    <div class="tabSetting commTab flex-1" ng-repeat="tabInfo in ::game.$tabSetting.tabs.list" option="{{tabInfo.val}}"  ng-click="game.$tabSetting.select(tabInfo.val,true);" ng-class="{checked:tabInfo.val==game.$tabSetting.val}">
                        <span class="commTabName tabSettingName" ng-bind="tabInfo.name"></span>
                        <div class="awardErrDot"></div>
                    </div>
                </div>
                <div class="editDetail " > 
                    <div id="baseSetting" class="settingBox scrollBox" option="0">
                        <p class="underLineWay">
                            <span class="fontWeight">基本选项</span>
                        </p>
                        <div id="actNameSetting" class="settingLine">
                            <div class="leftTitle">
                                <span class="name">活动标题：</span>
                            </div>
                            <div class="content flex-1">
                                <div class="main"><input id="name" class="activeName input mainInput" type="text" name="activeName" ng-model="game.name" ed-check-sensit-word /></div>
                            </div>
                            <div class="flag">*</div>
                        </div>
                        
                        <div id="setGameTimeBox" class="settingLine">
                            <div class="leftTitle">
                                <span class="name">活动时间：</span>
                            </div>
                            <div class="content flex-1">
                                <div class="main flex"><input id="beginTime" class="input flex-1" type="text" name="beginTime" readonly style="cursor:pointer" value="2018-08-31 17:34" />
                                <span class="mid">至</span>
                                <input id="endTime" name="endTime" class="input flex-1" type="text" class="input" readonly style="cursor:pointer" value="2018-09-07 17:34" /></div>
                            </div>
                            <div class="flag">*</div>
                        </div>
                        <div id="setLimitJoinNumBox" class="">
                            
                            <div id="joinNumBox" class="settingLine">
                                <div class="leftTitle">
                                    <span class="name">参与人数：</span>
                                    <span class="hoverContentBox">
                                        <p class="content">在活动首页{{game._flag.f2?'':'不'}}显示已有多少人参与{{game._flag.f2?'，且显示人数为实际人数与虚拟人数之和':''}}</p>
                                        <span class="target hoverIcon"></span>
                                    </span>
                                </div>
                                <div class="content flex-1">
                                    <div class="main">
                                        <input id="hideJoinNum" ng-model="game._flag.f2" ng-value=false type="radio" name="isShowJoinNum" /><label for="hideJoinNum">隐藏</label>
                                        <input id="showJoinNum" ng-model="game._flag.f2" ng-value=true type="radio" name="isShowJoinNum" /><label for="showJoinNum">展示</label> 
                                    </div>
                                    <div class="other virtualLine" ed-show="game._flag.f2" >
                                        <div>在实际参与人数基础上增加<input type="text" id="virtualJoinNum" ng-model="game._setting.vjn" model-format="int" maxlength="6" class="input onlyNum minInput" />人</div>
                                        
                                    </div>
                                </div>
                            </div>
                            
                            <div class="settingLine verTipsBox" ng-cloak>
                                <div class="leftTitle">
                                    <span class="powerIcon ver_biz flag"></span><span class="name">{{game.style == 71? "建团数量限制：" : (game.$$isOem ? (game.gameType == 1 ? "报名人数限制：" : "参与人数限制：") : "参与人数限制：")}}</span>
                                    <span class="hoverContentBox">
                                        
                                        <span class="target hoverIcon"></span>
                                    </span>
                                </div>
                                <div class="content flex-1">
                                    <div class="main">
                                        <input class="js_ver" _ver="2" _strict="true" id="noLimitNum" ng-model="game._flag.f4096" ng-value=false type="radio" name="isLimitNum" /><label for="noLimitNum">不限</label>
                                        <input id="LimitNum" ng-model="game._flag.f4096" ng-value=true type="radio" name="isLimitNum" /><label for="LimitNum">限制</label>
                                        <span id="limitNumBox" class="afterRadio" ed-show="game._flag.f4096">
                                            <input type="text" id="theLimitNum" maxlength="6" ng-model="game._setting.ljn" model-format="int" ng-blur="game.$$joinNumBlur('ljn')" class="input onlyNum minInput firstMinInput"/>{{game.style == 71? "个团" : (game.$$isOem ? (game.gameType == 1 ? "人报名" : "人参与") : "人参与")}}
                                            
                                            <div class="errMsg limitNumErr hide">互动免费版最大{{game.$$isOem ? (game.gameType == 1 ? "报名" : "参与") : "参与"}}人数限制为{{::game.$$playerLimit}}人</div>
                                            
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 强制关注功能 -->
                        <div id="attentionBefore" class="verTipsBox settingLine">
                            <div class="leftTitle flex-v">
                                
                                <div class="nameWrap">
                                    <span class="powerIcon ver_biz flag"></span><span class="name">强制关注：</span>
                                    <span class="hoverContentBox">
                                        <span ng-if="game._flagB.f512">
                                            <p class="content">开启后有被微信封停公众号的风险，请慎用！</p>
                                            
                                            <p class="content">由于微信接口问题，非已认证服务号体验会稍差，敬请见谅！<a class="aTips " href="javascript:;" onclick="Edit.showFansOnlySample()">查看示例</a></p>
                                            
                                        </span>
                                        
                                        
                                        
                                        <p class='content'>请先到个人中心开通强制关注功能<a href="http://hd.fkw.com/news/5249" target="_blank" class="aTips knowMore">详细教程</a></p>
                                        
                                        <span class="target hoverIcon quort"></span>
                                    </span>
                                </div>
                            </div>
                            <div class="content flex-1">
                                <div class="main">
                                    <input disabled type="radio" class="js_ver"  _ver="2" id="openFansOnly" name="forFansOnly" ng-model="game._flagB.f512" ng-value=true /><label for="openFansOnly">开启</label>
                                    <input  type="radio"  id="closeFansOnly" name="forFansOnly" ng-model="game._flagB.f512" ng-value=false /><label for="closeFansOnly">关闭</label>
                                </div>
                            </div>
                        </div>
                        
                        
                        
                        <div class="seniorSetBox transiton300ms">
                            <div class="seniorSetBoxOption underLineWay" ng-click="game.$setBaseBoxStatus('$base_hight_set')">
                                <span class="fontWeight">高级选项</span>
                                <div class="baseSeniorSet" ng-cloak>
                                    <span>{{ game.$base_hight_set ? "点击收起" : "更多设置" }}</span> 
                                    <span class='roteteArrow transiton300ms {{ game.$base_hight_set ? "" : "rotate180" }}' ></span>
                                </div>
                            </div>
                            <div class='seniorBoxInfo transiton300ms {{ game.$base_hight_set ? "" : "seniorBoxInfoClose" }}'>
                                <div class="settingLine verTipsBox">
                                    <div class="leftTitle">
                                        <span class="powerIcon ver_biz flag"></span><span class="name">首屏广告：</span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main">
                                            <input type="radio"  id="closeAdvertising" name="forAdvertising" ng-model="game._flagB.f1048576" ng-value=false /><label for="closeAdvertising">隐藏</label>
                                            <input type="radio" class="js_ver"  _ver="2" id="openAdvertising" name="forAdvertising" ng-model="game._flagB.f1048576" ng-value=true /><label for="openAdvertising" _info="显示首屏广告" _src1="3" _src1="22">显示</label><a class="aTips afterRadio" ng-show="game._flagB.f1048576" href="javascript:;" onclick="Edit.triggerEditBtn('.advertisingBox','广告页设置')" >查看设置</a>
                                        </div>
                                    </div>
                                </div>
                                
                                
                                
                                <div class="settingLine verTipsBox">
                                    <div class="leftTitle">
                                        <span class="powerIcon ver_by flag"></span><span class="name">轮播获奖信息：</span>
                                        <span class="hoverContentBox">
                                            <p class="content">有三名以上玩家获奖后，活动首页将轮播展示玩家中奖信息，优先展示等级较高的获奖者</p>
                                            <span class="target hoverIcon"></span>
                                        </span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main">
                                            <input class="js_ver" _ver="1" type="radio" id="openSlide" ng-model="game._flag.f536870912" ng-value=true name="showSlide" /><label for="openSlide">开启</label>
                                            <input type="radio" id="hideSlide" ng-model="game._flag.f536870912" ng-value=false name="showSlide" /><label for="hideSlide">关闭</label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="areaLimitBox" class="settingLine verTipsBox">
                                    <div class="leftTitle">
                                        <span class="powerIcon ver_by flag"></span><span class="name">可参与地区：</span>
                                        <span class="hoverContentBox">
                                            <p class="content">根据微信地理位置（基于GPS）判断玩家所在地区是否在可参与地区中</p>
                                            <span class="target hoverIcon"></span>
                                        </span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main">
                                            <input type="radio" ng-model="game._flagB.f64" ng-value=false id="allArea" name="openAreaLimit" /><label for="allArea">全部</label>
                                            <input type="radio" ng-model="game._flagB.f64" ng-value=true id="someArea" name="openAreaLimit" class="js_ver" _ver="1" /><label for="someArea">部分</label><a class="aTips afterRadio" href="javascript:;" onclick="Edit.showFaiArea(this,'game._setting.areaLimitList')" ng-show="game._flagB.f64">查看设置</a>
                                        </div>
                                    </div>
                                </div>
                                <div id="accessKey" class="settingLine verTipsBox accessKeyBox">
                                    <div class="leftTitle">
                                        <span class="powerIcon ver_biz flag"></span><span class="name">访问密钥：</span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main">
                                            <input type="radio" name="isUsualKey" ng-model="game._setting.accessrule" ng-value="-1" id="closeAccessKey"><label for="closeAccessKey">关闭</label>
                                            <input type="radio" name="isUsualKey" class="js_ver" ng-model="game._setting.accessrule" ng-value="0" _ver="2" id="oneAccessKey"><label for="oneAccessKey">一人一码</label>
                                            <input type="radio" name="isUsualKey" class="js_ver" ng-model="game._setting.accessrule" ng-value="1" _ver="2" id="publicAccessKey"><label for="publicAccessKey">通用码</label>
                                        </div>
                                        <div class="accessKeyTips other" ng-controller="AccessKeyTips">
                                            <span class="accessKeyBtn main-Button" ng-show="game._setting.accessrule == 0">管理密钥</span>
                                            <input type="text" class="mainInput" name="cusKey" id="cusKey" ng-model="usualKey" ng-show="game._setting.accessrule == 1">
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="activeExplainWarp" class="settingLine">
                                    <div class="leftTitle">
                                        <span class="name">活动说明：</span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><textarea id="activeExplain" ng-model="game._setting.ep" ed-check-sensit-word ng-trim="false" class="input scrollBox commTextarea"></textarea></div>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                    
                    <div id="gameTypeSetting" class="settingBox scrollBox" option="4">
                        
                        <div class="gameTypeTips">
                            当前选择：{{game.$gameTypeName}}<span class="tipsColor" ng-bind="::game.$$gameTypeInfo.length>1?'（活动发布后将无法修改）':'（该活动仅提供一种派奖方式）'"></span>
                            <div ng-if="::game.$$gameTypeInfo.length>1" class="setGameType hoverContentBox" _time="200" _args='["down",{"marginRight":-18},"right"]'>
                                <div class="hoverTipsBox auto hide">
                                    <div class="text flex gameTypeItemBox">
                                        <div class="gameTypeItem" ng-repeat="info in ::game.$$gameTypeInfo" ng-class="{'checked':game.gameType == info.type}"  ng-click="game.$$checkedGameType(info)" ng-bind="::info.font"></div>
                                        <div class="hoverContentBox" _args='["down",{"width":445,"marginRight":-3},"right"]'>
                                            <div class="hoverTipsBox auto hide">
                                                <div class="text">
                                                    <p class="gameTypeDetail content" ng-class="{checked:game.gameType == info.type}" ng-repeat="info in ::game.$$gameTypeInfo">{{info.font}}：{{info.text}}</p>
                                                </div>
                                                <div class="tipsBoxArrow"></div>
                                            </div>
                                            <div class="target hoverIcon"></div>
                                        </div>
                                    </div>
                                    <div class="tipsBoxArrow"></div>
                                </div>
                                <a class="target aTips" href="javascript:;">修改派奖方式</a>
                            </div>
                        </div>
                        <p class="underLineWay" ng-if="::!game.$$isQmKj">
                            <span class="fontWeight">{{game.gameType==0?"抽奖限制":(game.gameType==4?"送券设置":"派发设置")}}</span>
                        </p>
                        
                        <div id="drawSetBox" class="subTabsettingBox">
                        
                            
                            
                            <div id="playTimesSettingBox">
                                <div class="settingLine">
                                    <div class="leftTitle">
                                        <span class="name">总参与机会：</span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><input type="radio" ng-model="game._flagB.f16384" ng-value=false id="noLimitPlayTimes" name="isLimitPlayTimes" /><label for="noLimitPlayTimes">不限</label><input type="radio" ng-model="game._flagB.f16384" ng-value=true id="limitPlayTimes" name="isLimitPlayTimes" /><label for="limitPlayTimes">限制</label><span id="setDrawTotalBox" class="afterRadio" ed-show="game._flagB.f16384">每人最多有<input id="playTotalTimes" ng-model="game._setting.playTotalLimit" model-format="int" maxlength="2" class="input onlyNum minInput" type="text"/>次</span></div>
                                    </div>
                                </div>
                                <div class="settingLine dayPlayTimes">
                                    <div class="leftTitle">
                                        <span class="name">每日参与机会：</span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main">每人每日有<input id="playTimesLimit" maxlength="2" class="input onlyNum minInput" type="text" ng-model="game._setting.playTimesLimit" model-format="int" />次参与机会</div>
                                    </div>
                                </div>
                            </div>
                            
                            
                            <div id="drawInfoBox">
                                <div id="drawTimesSettingBox">
                                    <div class="settingLine" id="totalDrawTimes">
                                        <div class="leftTitle">
                                            <span class="name">{{::game.$$limitDraw.title}}</span>
                                        </div>
                                        <div class="content flex-1">
                                            <div class="main"><input type="radio" ng-model="game._flag.f268435456" ng-value=false id="noLimitDrawTimes" name="isLimitDrawTimes" /><label for="noLimitDrawTimes">不限</label><input type="radio" ng-model="game._flag.f268435456" ng-value=true id="limitDrawTimes" name="isLimitDrawTimes" /><label for="limitDrawTimes">限制</label><span class="afterRadio" id="setDrawTotalBox" ed-show="game._flag.f268435456">{{::game.$$limitDraw.drawTotalMsg1}}<input id="drawTotalTimes" ng-model="game._setting.drawTotal" model-format="int" maxlength="2" class="input onlyNum minInput" type="text"/>{{::game.$$limitDraw.drawTotalMsg2}}</span></div>
                                        </div>
                                    </div>
                                    <div class="settingLine" ng-if="!game.$$drawTimes.none" id="dayDrawTimes">
                                        <div class="leftTitle">
                                            <span class="name">{{::game.$$drawTimes.title}}</span>
                                        </div>
                                        <div class="content flex-1">
                                            <div class="main">{{::game.$$drawTimes.drawTotalMsg1}}<input id="drawTimesLimit" ng-model="game._setting.dtl" model-format="int" maxlength="2" class="input onlyNum minInput" type="text"/>{{::game.$$drawTimes.drawTotalMsg2}}</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <p class="underLineWay" ng-if="true ">
                                    <span class="fontWeight">中奖率</span>
                                </p>
                                <div id="prizedTotalBox" ed-show="game.gameType == 0 || game.gameType == 4">
                                    <div class="settingLine">
                                        <div class="leftTitle">
                                            <span class="name">每人中奖次数：</span>
                                        </div>
                                        <div class="content flex-1">
                                            <div class="main">每人最多可中奖<input id="awardTimesLimit" ng-model="game._setting.awardTimesLimit" model-format="int" maxlength="2" class="input onlyNum minInput" type="text"/>次</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="settingLine">
                                    <div class="leftTitle">
                                        <div class="bottomTips">（发布后不可切换）</div>
                                        <div class="nameWrap">
                                            <span class="name">抽奖模式：</span>
                                            <span class="hoverContentBox">
                                                <p class="content" ng-if="game._setting.winningMode == 1">可避免奖品过快被抽完的情况，在活动时间内生效，适用于长期，人流量较大的活动，若活动人流量较小，可能会有奖品剩余 <a class="aTips" href="http://hd.fkw.com/news/11187" target="_blank">了解更多</a></p>
                                                <span class="target hoverIcon"></span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><input type="radio" id="winByVisitor" ng-model="game._setting.winningMode" ng-value=::0 name="winingModeSetting" ng-disabled="::(game.$$isPublish && game._setting.winningMode != 0)"/><label for="winByVisitor">按人流量发放</label><input type="radio" id="winByTime" ng-model="game._setting.winningMode" ng-value=::1 name="winingModeSetting" ng-disabled="::(game.$$isPublish && game._setting.winningMode != 1)"/><label for="winByTime">时间均匀发放</label></div>
                                    </div>
                                </div>
                                <div ng-show="game._setting.winningMode == 0">
                                    <div class="settingLine">
                                        <div class="leftTitle">
                                            <span class="name">总中奖率：</span>
                                            <span class="hoverContentBox">
                                                <p class="content">{{game.$winningRateExp}} <a class="aTips" href="http://hd.fkw.com/news/4706" target="_blank">了解更多</a></p>
                                                <span class="target hoverIcon"></span>
                                            </span>
                                        </div>
                                        <div class="content flex-1">
                                            <div class="main"><input id="winningRate" ng-model="game._setting.winningRate" model-format="float" class="input onlyNum minInput" type="text">%<a id="simulationSum" class="aTips" style="margin-left:20px;">模拟计算</a></div>
                                            <!-- version3 -->
                                            <div id="winningRateErr" class="inputErrMsg hide"></div>
                                        </div>
                                    </div>
                                    <div class="settingLine">
                                        <div class="leftTitle">
                                            <span class="name">奖品分期投放：</span>
                                            <span class="hoverContentBox" ng-show="game._setting.winningCycle != 0">
                                                <p class="content">{{game.$winningCycleExp}}<a class="aTips" href="http://hd.fkw.com/news/11185" target="_blank">了解更多</a></p>
                                                <span class="target hoverIcon"></span>
                                            </span>
                                        </div>
                                        <div class="content flex-1">
                                            <div class="main">
                                                <input type="radio" id="cycleClose" ng-model="game._setting.winningCycle" ng-value=::0 name="cycleSetting"/><label for="cycleClose">关闭</label>
                                                <input type="radio" id="cycle12" ng-model="game._setting.winningCycle" ng-value=::12 name="cycleSetting" /><label for="cycle12">12小时</label>
                                                <input type="radio" id="cycle24" ng-model="game._setting.winningCycle" ng-value=::24 name="cycleSetting"/><label for="cycle24">24小时</label>
                                                <input type="radio" id="cycle48" ng-model="game._setting.winningCycle" ng-value=::48 name="cycleSetting"/><label for="cycle48">48小时</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                    
                                <p class="underLineWay" ng-if="game.style != 48">
                                    <span class="fontWeight">高级选项</span>
                                </p>
                            </div>
                            
                            <div id="helpSettingBox" ed-show="game.gameType == HdGameDef.GameType.DIRECT||(game.gameType == HdGameDef.GameType.RANK && game.$$showPlayTimeSetting)" >
                                <div class="verTipsBox settingLine">
                                    <div class="leftTitle">
                                        <div class="bottomTips">（发布后不可切换）</div>
                                        <div class="nameWrap">
                                            <span class="name"><span class="powerIcon ver_by flag"></span>好友助力：</span>
                                            <span class="hoverContentBox">
                                                <p class="content">开启有被微信朋友圈仅自己可见的风险，请慎用！</p>
                                                <span class="target hoverIcon quort"></span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main">
                                            <input type="radio" id="closeHelpSetting" ng-model="game._setting.helpType" ng-value=::1 name="HelpSetting" ng-disabled="::(game.$$isPublish && game._setting.helpType != 1)"/><label for="closeHelpSetting">关闭</label>
                                            <input type="radio" id="openHelpShare" ng-model="game._setting.helpType" ng-value=::2 class="js_ver" _ver="1" name="HelpSetting" ng-disabled="::(game.$$isPublish && game._setting.helpType != 2)"/><label for="openHelpShare">分享奖励</label>
                                            <input type="radio" id="openHelpInvite" ng-model="game._setting.helpType" ng-value=::3 class="js_ver" _ver="1" name="HelpSetting" ng-disabled="::(game.$$isPublish && game._setting.helpType != 3)"/><label for="openHelpInvite">邀请奖励</label>
                                        </div>
                                        <div id="settingForShare" class="other" ed-show="game._setting.helpType == 2">
                                            分享给好友或朋友圈，当天将额外获得<input id="addDrawTime1" ng-model="game._setting.addDrawTime" maxlength="2" class="input onlyNum minInput" model-format="int" type="text"/><span>次<span class="drawText">抽奖</span>机会</span>
                                            <span class="hoverContentBox" _args='["up",{"width":427,"marginRight":30},"right"]'>
                                                <p class="content">1、分享奖励仅当日首次分享有效；</p>
                                                <p class="content">2、因微信调整分享接口原因，无法获得玩家是否成功分享，当玩家点击分享好友或朋友圈，将被认定分享成功，将获得<span class="drawText">抽奖</span>机会奖励 <a href="https://mp.weixin.qq.com/cgi-bin/announce?action=getannouncement&announce_id=11526372695t90Dn&version=6206021f&lang=zh_CN&uin=&key=&devicetype=Windows+10&ascene=1&winzoom=1&scene=21#wechat_redirect" target="_blank">查看微信更新文档</a></p>
                                                <p class="content">3、分享提示语仅在<span class="drawText">抽奖</span>次数为零时提示，次数不为零时分享也会额外增加<span class="drawText">抽奖</span>机会；</p>
                                                <p class="content">4、开启有被微信朋友圈仅自己可见的风险，请慎用！</p>
                                                <span class="target hoverIcon"></span>
                                            </span>
                                            <div id="addDrawTimeErrForShare" class="inputErrMsg hide">最少1次最多99次</div>
                                        </div>
                                        <div id="settingForInvite" class="other" ed-show="game._setting.helpType == 3">
                                            
                                            每成功邀请一位好友，当天将额外获得一次<span class="drawText">抽奖</span>机会，每天最多获得<input id="inviteTimeLimit" ng-model="game._setting.inviteTimeLimit" maxlength="2" class="input onlyNum minInput" model-format="int" type="text"/>次
                                            
                                            <span class="hoverContentBox" _args='["up",{"width":350,"marginRight":30},"right"]'>
                                                
                                                <p class="content">1、好友成功参与后才能获得奖励，邀请同一位好友无效；</p>
                                                
                                                <p class="content">2、分享语仅在{{game.gameType == 3 ? "参与" : "抽奖"}}次数为零时提示，次数不为零时分享也会额外增加{{game.gameType == 3 ? "参与" : "抽奖"}}机会；</p>
                                                <p class="content">3、开启有被微信朋友圈仅自己可见的风险，请慎用！</p>
                                                <span class="target hoverIcon"></span>
                                            </span>
                                            <div id="addDrawTimeErrForInvite" class="inputErrMsg hide">最少1次最多99次</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            
                            <div id="openAwardLinkNoDrawBox" ng-hide="!game.$$afterLinkModify && game.gameType == HdGameDef.GameType.DIRECT">
                                
                                <div class="verTipsBox settingLine">
                                    <div class="leftTitle">
                                        <span class="name"><span class="powerIcon ver_by flag"></span>联系{{::game.$$afterLinkModify?"信息":"兑奖"}}：</span>
                                        <span class="hoverContentBox">
                                            
                                            <p class="content" ng-if="game.$openLinkMsg">{{game.$openLinkMsg}}</p>
                                            
                                            <span class="target hoverIcon"></span>
                                        </span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main">
                                        
                                            
                                            <input type="radio" id="closeAwardLinkNoDraw" ng-model="game._setting.linkInfotype" ng-value=::1 name="awardLinkNoDraw" /><label for="closeAwardLinkNoDraw" >关闭</label>
                                            
                                            <input type="radio" _ver="1" id="beforeJoinLink" class="showContactBox js_ver" ng-model="game._setting.linkInfotype" ng-value=::2 name="awardLinkNoDraw"  /><label for="beforeJoinLink">参与前填写</label>
                                            <span ng-if="::![0,1,2,24,54,55,64,65,66,67,68,75,77,79].contains(game.style) && (game.createTime < 1504657800000 || game.style != 57)" id="beforeDrawLink_span">
                                                <input  type="radio" _ver="1" id="beforeDrawLink" class="showContactBox js_ver" ng-model="game._setting.linkInfotype" ng-value=::3 name="awardLinkNoDraw" />
                                                <label for="beforeDrawLink" >{{game.gameType == HdGameDef.GameType.REGISTRATION ? "报名前" : (game.gameType == HdGameDef.GameType.RANK ? "参与后" : "抽奖前")}}填写</label>
                                            </span>
                                            <span id="setAfterAwardBox" ng-hide="game.$hideAfterAward">
                                                <input type="radio" _ver="1" id="afterAwardLink" class="showContactBox js_ver" ng-model="game._setting.linkInfotype" ng-value=::4 name="awardLinkNoDraw" /><label for="afterAwardLink">{{:: game.$$isQmkj ? "领取前" : "中奖后"}}填写</label>
                                            </span>
                                        
                                        </div>
                                    </div>
                                </div>
                                    
                                <div id="concactAward" class="contactBox settingLine" ed-show="game._setting.linkInfotype == 4">
                                    <div class="leftTitle">
                                        <span class="name">对应奖项：</span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><input id="openAllAward" type="radio" ng-value=true ng-model="game._setting.linkInfoAll" name="isOpenAllAward" /><label for="openAllAward">全部奖项</label>
                                        <input id="openPartAward" type="radio" ng-value=false ng-model="game._setting.linkInfoAll" name="isOpenAllAward" /><label for="openPartAward">部分奖项</label>
                                        <span class="toAwardTip tipsColor afterRadio" ng-show="!game._setting.linkInfoAll">请到对应的奖项中设置 <a class="aTips" href="javascript:;" ng-click="game.$tabSetting.select(1)">前往设置</a></span></div>
                                    </div>
                                </div>
                                    
                                <div id="contactBoxNoDraw" class="settingLine" ed-show='game._setting.linkInfotype != 1' ed-strict=false ed-watch="{contacts:game._setting._nodrawcontact}" >
                                
                                    <div class="leftTitle">
                                        <span class="name">需填信息：</span>
                                        
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><span ng-repeat="item in contacts track by ::item.key"><input id="check_{{item.key}}" class="checkContBtn" ng-disabled="::item.$disabled" ng-model="item.isOpen" type="checkbox" name="check_{{item.key}}" /><label for="check_{{item.key}}" ng-bind="item.name"></label></span><a class="afterRadio aTips" href="javascript:;" onclick="Edit.showUserDefineView()">自定义</a></div>
                                        <div id="contactErrNodraw" class="inputErrMsg hide">至少选择一个选项！</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="vaildateCode" class="settingLine">
                                <div class="leftTitle">
                                    <span class="name">电话短信验证：</span>
                                    <span class="hoverContentBox" ng-show="game._flagC.f524288">
                                        <p class="content">请保证活动时间内帐号中有充足的短信剩余数量{{game.$afterAwardTips}}，否则可能出现玩家{{game.$openVaildateMsg}}的情况。</p>
                                        <span class="target hoverIcon"></span>
                                    </span>
                                </div>
                                <div class="content flex-1">
                                    <div class="main"><input type="radio" id="openVaildateCode" ng-model="game._flagC.f524288" ng-value=false name="vaildateCode"/><label for="openVaildateCode">关闭</label>
                                    <input type="radio" id="closeVaildateCode" ng-model="game._flagC.f524288" ng-value=true name="vaildateCode"  disabled /><label for="closeVaildateCode"  onclick="showNoTempTips()" >开启</label></div>
                                    <div class="messageSetting other" ed-show="game._flagC.f524288">
                                        <div>预计需要短信：{{game.$needMsgTips}}</div>
                                        <div style="margin-top:10px;">
                                            帐户剩余短信：0条
                                            <span class="lessMsgAmount errMsg" ed-show="game.$$msgRemNum < game.$needMsgConut">帐号剩余短信不足，请尽快充值！</span>
                                            
                                            <a class="aTips" target="_blank" href="http://i.fkw.com/portal.jsp#appId=smsAccount&tab=1">充值</a>
                                            
                                        </div>
                                    </div>
                                    <div id="isAllowLimitTel" ed-show="game._flagC.f524288 && game._flagB.f64 && game._setting.areaLimitList.length != 0">
                                        禁止非允许手机号段填写：
                                        <span class="hoverContentBox">
                                            <p class="content">开启后，手机号段归属地不属于可参与地区的玩家将无法提交联系信息</p>
                                            <span class="target hoverIcon"></span>
                                        </span>
                                        <input type="radio" id="openAllowLimitTel" ng-model="game._flagC.f536870912" ng-value=true name="isAllowLimitTel" /><label for="openAllowLimitTel">开启</label>
                                        <input type="radio" id="closeAllowLimitTel" ng-model="game._flagC.f536870912" ng-value=false name="isAllowLimitTel"/><label for="closeAllowLimitTel">关闭</label>
                                    </div>
                                </div>
                            </div>
                            
                            
                            
                            
                            <div class="settingLine" ng-show="game.gameType == 0">
                                <div class="leftTitle">
                                    <span class="name">奖品派完提示：</span>
                                    <span class="hoverContentBox">
                                        <p ng-if="!game._flagC.f262144" class="content">奖品为零时，玩家抽奖会显示没中奖页</p>
                                        <p ng-if="game._flagC.f262144" class="content">奖品为零时，玩家抽奖会提醒奖品已经派完</p>
                                        <span class="target hoverIcon"></span>
                                    </span>
                                </div>
                                <div class="content flex-1">
                                    <div class="main"><input type="radio" id="closeNoAwardTips" ng-model="game._flagC.f262144" ng-value=false name="awardTips"/><label for="closeNoAwardTips">显示没中奖</label>
                                    <input type="radio" id="openNoAwardTips" ng-model="game._flagC.f262144" ng-value=true name="awardTips" /><label for="openNoAwardTips">提示已派完</label></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    
<div id="awardsSetting" ng-controller="awardListCtrl" class="settingBox" option="1">
    <div id="awardBoxTitleWarp">
        <div id="awardBoxTitle">                     
            <div class="awardNums commBg">
                
                <span class="topAwardExplain text">请设置活动需要派发的奖项</span>
                
                
                <div class="comfortCheckbox">
                    <input type="checkbox" id="comfortSetting" ng-model="game._flag.f16"/><label for="comfortSetting" style="margin: 0px;">设置安慰奖</label>
                </div>
                 
            </div>
            <div class="awardLevelBox">
                <div class="commTabBox">
                    <div class="commTab awardLevelItem norLevelItem" ng-class="{checked:game.$checkeIndex == index-1}" ng-repeat="index in getIntList(1,game._setting.an) track by index" ng-click="game.$checkeIndex = index-1">
                        <span class="commTabName awardItemName">{{::awardName}}{{::constant.numList[index]}}</span><div class="awardErrDot"></div>
                    </div><div class="commTab flex-1 awardLevelItem anwei" ng-if="game._flag.f16&&true" ng-class="{checked:game.$checkeIndex == 8}" ng-click="game.$checkeIndex = 8">
                        <span class="commTabName awardItemName">安慰奖</span><div class="awardErrDot"></div>
                    </div>
                </div>
                
                <div class="awardNumOptBox">
                    <div id="delAwardNum" ng-click="setAwardNum(-1)" ng-class="{disabled:game._setting.an <= 1}" class='awardNumOpt pointer delAwardNum'></div><div id="addAwardNum" ng-click="setAwardNum(1)" ng-class="{disabled:game._setting.an >= 8}" class='awardNumOpt pointer addAwardNum'></div>
                </div>
                
            </div>
        </div>
    </div>
    <div id="awardBox" class="scrollBox awardBox relative">
        <div id="awardBoxTitle_holder"></div>
        <div id="awardDetail" class="awardDetail">
            
            <div class="awardSettingBox" ng-repeat="award in ::game._awardList" _index="{{::index}}" ng-controller="awardCtrl" ng-class="::{'hide':index != game.$checkeIndex}" ed-lock="!award.$isOpenAward">
                <p class="underLineWay">
                    <span class="fontWeight">基本选项 · {{::index==8?'安慰奖':awardName+constant.numList[index+1]}}</span>
                </p>
                <div class="settingLine" ng-if="::!game.$$isQmKj">
                    <div class="leftTitle">
                        <span class="name">奖项等级：</span>
                    </div>
                    <div class="content flex-1">
                        <div class="main"><input ng-model="award.style" ed-check-sensit-word class="awardStyle input mainInput" type="text" /></div>
                    </div>
                    <div class="flag">*</div>
                </div>
                
                <div ng-if="award.awardType != -1 && !game.$$isQmKj" class="settingLine">
                    <div class="leftTitle">
                        <div class="bottomTips">（发布后不可修改）</div>
                        <div class="nameWrap">
                            <span class="name">奖品类型：</span>
                            <span class="hoverContentBox" ng-if="::!isComfort&&game.$$afterWXCardModify" ng-show="award.awardtype == 4">
                                <p class="content">生成卡券后，<span style="color:#f00">请勿</span>到微信公众平台内<span style="color:#f00">操作卡券</span></p>
                                <span class="target hoverIcon quort"></span>
                            </span>
                        </div>
                    </div>
                    <div class="content flex-1">
                        <div class="main awardTypeSetBox">
                            <div class="awardTypeValue divBeInput" ng-click="toggleAwardTypeBox()" ng-class="{'disableBg':award.$disabled}">
                                <span class="type">{{award.$awardTypeItem.name}}</span><span ng-if="award.$awardTypeItem.ver" style="margin-left:3px;" class="powerIcon flag" ng-class="game.$$verInfo.map[award.$awardTypeItem.ver].class"></span><span ng-if="award.$awardTypeItem.hot" class="hot"></span>
                                <div class="detailIcon"></div>
                                <div class="awardTypeBox" ng-show="showAwardTypeBox">
                                    <div ng-repeat="info in ::award.$$awardTypeList.list" ng-click="selectAwardType(info.val,$event)" ng-mouseenter="award.$checkedType = info.val" ng-mouseleave="award.$checkedType = award.awardtype" ng-class="{'checked':award.$checkedType == info.val}" class="option"><span class="type">{{::info.name}}</span><span ng-if="::info.ver" style="margin-left:3px;" class="powerIcon flag" ng-class="::game.$$verInfo.map[info.ver].class"></span><span ng-if="::info.hot" class="hot"></span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div ng-if="::game.$$afterWXCardModify" class="awardWXBrandNameBox settingLine" ed-show="award.awardtype == 4">
                    <div class="leftTitle">
                        <div class="bottomTips">（发布后不可修改）</div>
                        <div class="nameWrap">
                            <span class="name">卡券商户：</span>
                            <span class="hoverContentBox">
                                <p class="content">卡券商户名称请勿与授权公众号名称相差太大，否则将有可能被微信视为代建而查封，卡券将无法使用！<a href='http://hd.fkw.com/news/4232' target="_blank" class="aTips">了解更多</a></p>
                                <span class="target hoverIcon quort"></span>
                            </span>
                        </div>
                    </div>
                    <div class="content flex-1">
                        <div class="main"><input id="wxCardName{{index}}" ng-model="award.wxcardcomname" class="input mainInput hd-wxCardName-value" type="text" placeholder="请填写卡券的商户名称(如：海底捞)" ng-disabled="game.$$isPublish&&awardLast().genewxcard"></div>
                    </div>
                    <div class="flag">*</div>
                </div>
                
                <div ng-if="::!isComfort" class="settingLine" ed-show="award.awardtype == 5">
                    <div class="leftTitle">
                        <span class="name">领取方式：</span>
                        <span class="hoverContentBox">
                            <p class="content" ng-if="award.payment == 0">玩家进入公众号后台回复口令码领取红包<br>这种方式需要关注后方可领取，有可能被微信封公众号，请慎用！</p>
                            <p class="content" ng-if="award.payment == 1">玩家在奖品详情中点击“立即领取”直接领取红包</p>
                            <span class="target hoverIcon quort"></span>
                        </span>
                    </div>
                    <div class="content flex-1">
                        <div class="main"><input id="directPayment{{::index}}" ng-model="award.payment" ng-value=::1 type="radio" /><label for="directPayment{{::index}}">直接领取</label>
                        <input id="followPayment{{::index}}" ng-model="award.payment" ng-value=::0  type="radio" ng-disabled="!game.$$hasHbOpen && (awardLast().payment != 0)" /><label for="followPayment{{::index}}">关注后领取</label>
                        <span class="afterRadio hoverContentBox" ng-show="!game.$$hasHbOpen && (award.payment == 0)">
                            <p class="content">需要到个人中心开通公众号核销功<br>能后方可正常使用该功能</p>
                            <span class="target"><span class="hoverIcon"></span>不可用</span>
                        </span></div>
                    </div>
                </div>
                
                <div ng-if="::!isComfort" class="settingLine" ed-show="award.$type.isHdGift">
                    <div class="leftTitle">
                        <span class="name">兑奖方式：</span>
                        <span class="hoverContentBox">
                            <p class="content" ng-if="award.payment == 0">玩家进入公众号后台回复兑奖码进行兑奖<br>
                        这种方式需要关注后方可兑奖，有可能被微信封公众号，请慎用！</p>
                            <p class="content" ng-if="award.payment == 1">玩家在奖品详情中点击“立即兑奖”后，填写手机号即可兑奖</p>
                            <span class="target hoverIcon quort"></span>
                        </span>
                    </div>
                    <div class="content flex-1">
                        <div class="main"><input id="directGetment{{::index}}" ng-model="award.payment" ng-value=::1 type="radio" /><label for="directGetment{{::index}}">直接兑奖</label>
                        <input id="followGetment{{::index}}" ng-model="award.payment" ng-value=::0  type="radio" ng-disabled="!game.$$hasHbOpen && (awardLast().payment != 0)" /><label for="followGetment{{::index}}">关注后兑奖</label>
                        <span class="afterRadio hoverContentBox" ng-show="!game.$$hasHbOpen && (award.payment == 0)">
                            <p class="content">需要到个人中心开通公众号核销功<br>能后方可正常使用该功能</p>
                            <span class="target"><span class="hoverIcon"></span>不可用</span>
                        </span></div>
                    </div>
                </div>
                <div class="awardDescribeBox settingLine" ed-hide="award.$type.isHdGift || award.$type.isJZcoupon">
                    <div class="leftTitle">
                        <span class="name">{{::awardName}}名称：</span>
                    </div>
                    <div class="content flex-1">
                        <div class="main"><input ng-model="award.name" ng-disabled="(game.$$isPublish && awardLast().genewxcard)" class="awardDescribe input mainInput" type="text" /></div>
                    </div>
                    <div class="flag">*</div>
                </div>
                <div class="awardDescribeBox settingLine" ed-show="award.$type.isHdGift">
                    <div class="leftTitle">
                        <div class="bottomTips">（发布后不可修改）</div>
                        <div class="nameWrap">
                            <span class="name">选择礼品：</span>
                        </div>
                    </div>
                    <div class="content flex-1">
                        <div class="awardTypeSetBox main">
                            <div class="awardTypeValue divBeInput" ng-click="toggleGiftTypeBox()" ng-class="{'disableBg':award.$disabled}">
                                <span class="type" ng-model="award.giftTypeItem">{{award.giftTypeItem.name}}</span>
                                <div class="detailIcon"></div>
                                <div class="awardTypeBox" ng-repeat="giftType in ::getIntList(6,8)" ng-show="showGiftTypeBox && award.awardtype == giftType">
                                    <div ng-repeat="info in ::game.$$giftTypeDef[giftType]" ng-click="selectGiftType(info.val,giftType,$event)" ng-mouseenter="award.$checkedType = info.val" ng-mouseleave="award.$checkedType = award.giftTypeItem.val" ng-class="{'checked':award.$checkedType == info.val}" class="option"><span class="type">{{::info.name}}</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flag">*</div>
                </div>
                <div class="awardDescribeBox settingLine isYKY" ed-show="award.$type.isJZcoupon">
                    <div class="leftTitle">
                        <div class="bottomTips">（发布后不可修改）</div>
                        <div class="nameWrap">
                            <span class="name">{{::awardName}}名称：</span>
                        </div>
                    </div>
                    <div class="content flex-1">
                        <div class="main flex flex-align-center"><input ng-model="award.name" disabled="disabled" class="JZCouponsInput awardDescribe input flex-1" type="text" /><span class="selectBtn main-Button" ng-class="{'disabled':award.jzCouponId&&award.$disabled}" ng-click="selectJZCoupon(award)">+ 选择</span></div>
                    </div>
                    <div class="flag">*</div>
                </div>
                <div id="comAwardAmountSetting" ng-if="::isComfort && game.style != 71">
                    <div class="comLimtNumBox settingLine">
                        <div class="leftTitle">
                            <span class="name">数量限制：</span>
                            <span class="hoverContentBox">
                                <p class="content">未获得常规奖项时获得，每人最多获得一份，{{award.comLimitNum?'派完为止':'数量不限'}}</p>
                                <span class="target hoverIcon"></span>
                            </span>
                        </div>
                        <div class="content flex-1">
                            <div class="main"><input id="comfortNoLimitNum" ng-model="award.comLimitNum" ng-value=false type="radio" name="limitComNum" ng-disabled=""/><label for="comfortNoLimitNum">不限制</label>
                            <input id="comfortLimitNum" ng-model="award.comLimitNum" ng-value=true type="radio" name="limitComNum" ng-disabled="" /><label for="comfortLimitNum">限制</label></div>
                        </div>
                    </div>
                    <div ed-show="award.comLimitNum">
                        <!-- 未发布奖品显示逻辑 -->
                        <div ng-if="::!game.$$isPublish" class="settingLine amounLine">
                            <div class="leftTitle">
                                <span class="name">{{::awardNumName}}数量：</span>
                            </div>
                            <div class="content flex-1">
                                 <div class="main"><input ng-model="award.comNum" model-format="int" ng-blur="!award.comNum&&(award.comNum=0)" class="awardAmount input onlyNum mainInput" maxlength=6 type="text" name=""/></div>
                            </div>
                            <div class="flag">*</div>
                        </div>
                        <div ng-if="::!game.$$isPublish && game.$$isQmKj" class="settingLine amounLine">
                            <div class="leftTitle">
                                <span class="name">商品原价：</span>
                            </div>
                            <div class="content flex-1">
                                <div class="main"><input ng-model="award.awardprice" model-format="int" ng-blur="!award.awardprice&&(award.awardprice=0)" class="awardAmount input onlyNum mainInput" maxlength=6 type="text" name=""/></div>
                            </div>
                            <div class="flag">*</div>
                        </div>
                        <div ng-if="::game.$$isPublish" class="settingLine amounLine">
                            <div class="leftTitle">
                                <span class="name">{{::awardNumName}}剩余：</span>
                            </div>
                            <div class="content flex-1">
                                <div class="main flex relative">
                                    <div class="flex-1 divBeInput awardAmountBox comGroupNum relative">
                                        <span class="amount">{{award.comNum - game.$$prizedNum[index] >=0 ? award.comNum - game.$$prizedNum[index] : 0}}</span>
                                        <div class="amountIcon"></div>
                                    </div>  
                                    <div class="setAwardAmountBox hide" >
                                        <div class="tipsBoxArrow up"></div>
                                        <div>
                                            <input type="radio" ng-model="award.$isAddAmount" ng-value=true id="addAmount{{::index}}" class="addAwardAmount" name="amountOpt{{::index}}"/><label for="addAmount{{::index}}">增加{{::awardNumName}}</label>
                                            <input type="radio" ng-model="award.$isAddAmount" ng-value=false id="delAmount{{::index}}" class="delAwardAmount" name="amountOpt{{::index}}"/><label style="margin-right:0;" for="delAmount{{::index}}">减少{{::awardNumName}}</label>
                                        </div>
                                        <div style="line-height: 30px;">
                                            <div class="addCuscodeBox" ed-show="game.$$isPublish && award.iscuscode && award.$isAddAmount && !award.$type.isHdGift && !award.$type.isJZcoupon">
                                                <textarea class="awardTextArea addCuscode wxCardInput"></textarea>
                                                <div class="tipsColor">8,000个以上券号请分批添加，一行一个券号，请输入需要增加的券号</div>
                                            </div>
                                            <div class="amountModifyBox" ed-hide="game.$$isPublish && award.iscuscode && award.$isAddAmount && !award.$type.isHdGift && !award.$type.isJZcoupon">
                                                <input class="amountModify comfortAmountModify input onlyNum wxCardInput minInput firstMinInput" maxlength=6 onkeypress="javascript:return hdFai.isNumberKey(event);" type="text" name="" value="0" />份
                                            </div>  
                                        </div>
                                        <div class="buttonBox">
                                            <div class="bottomButon main-Button amountModifyBtn">确定</div><!--
                                         --><div class="bottomButon main-Button-blue amountCancelBtn">取消</div>
                                        </div>                                      
                                    </div>
                                    <div style="margin-left:30px;">已领：</div>
                                    <div class="flex-1"><input class="mainInput awardPrized prized input onlyNum" onkeypress="javascript:return hdFai.isNumberKey(event);" type="text" ng-value='::game.$$prizedNum[index]' disabled="disabled"/></div>
                                </div>
                                
                            </div>
                            <div class="flag">*</div>
                        </div>
                    </div>
                </div>
                
                <!-- 奖品图片 HYKJ -->
                <div ng-if="::!isComfort && game.style == 48" class="settingLine flex-align-center">
                    <div class="leftTitle">
                        <span class="name">奖品图片：</span>
                    </div>
                    <div class="content flex-1">
                        <div class="main comUploadWarp menuBox">
                            <div class="comUploadImg showImgBox">
                                <img ng-src="{{::award.aimg}}" onload="hdFaiOperateImg(this);">
                            </div>
                            <div class="comUploadBox">
                                <div id="selectPicHY{{::index}}" class="btn selectPicHY"></div>
                                <div class="comUploadExplain">请上传jpg、png、gif格式的图片</div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 未发布奖品显示逻辑 -->
                <div id="awardAmountSetting" class="awardAmountSetting">
                    <div ed-show="!isComfort && (!game.$$isPublish || award.level > game._setting.max_an)" class="settingLine amounLine">
                        <div class="leftTitle">
                            <span class="name">{{::awardNumName}}数量：</span>
                        </div>
                        <div class="content flex-1">
                            <div class="main">
                                
                                <input ng-model="award.amount" model-format="int" ng-blur="!award.amount&&(award.amount=0)" class="awardAmount awardTypeCount{{award.awardtype}} input onlyNum mainInput" maxlength=6 type="text" name=""/>
                                
                            </div>
                            
                        </div>
                        <div class="flag">*</div>
                    </div>
                    <div ed-show="!isComfort && game.$$isPublish &&  award.level <= game._setting.max_an" class="settingLine amounLine">
                        <div class="leftTitle">
                            <span class="name">{{::awardNumName}}剩余：</span>
                            <span class="hoverContentBox">
                                <p class="content" ng-if="award.$type.isJZcoupon">已领代表在游戏中获奖，但需要玩家在中奖页点击领取并前往建站商城中领取优惠券后，帐户中才会有该优惠券。</p>
                                <span class="target hoverIcon"></span>
                            </span>
                        </div>
                        <div class="content flex-1">
                             <div class="main flex" style="position: relative;">
                                <div class="flex-1 divBeInput awardAmountBox groupAwardAmountBox relative">
                                    
                                    <span class="amount awardTypeCount{{award.awardtype}}">{{award.amount - game.$$prizedNum[index] >= 0 ? award.amount - game.$$prizedNum[index] : 0}}</span>
                                    
                                    <div class="amountIcon"></div>
                                </div>
                                <div class="setAwardAmountBox hide" >
                                    <div class="tipsBoxArrow up"></div>
                                    <div>
                                        <input type="radio" ng-model="award.$isAddAmount" ng-value=true id="addAmount{{::index}}" class="addAwardAmount" name="amountOpt{{::index}}"/><label for="addAmount{{::index}}">增加{{::awardNumName}}</label>
                                        <input type="radio" ng-model="award.$isAddAmount" ng-value=false id="delAmount{{::index}}" class="delAwardAmount" name="amountOpt{{::index}}"/><label style="margin-right:0;" for="delAmount{{::index}}">减少{{::awardNumName}}</label>
                                    </div>
                                    <div style="line-height: 30px;">
                                        <div class="addCuscodeBox" ed-show="game.$$isPublish && award.iscuscode && award.$isAddAmount && !award.$type.isHdGift && !award.$type.isJZcoupon">
                                            <textarea class="awardTextArea addCuscode wxCardInput"></textarea>
                                            <div class="tipsColor">8,000个以上券号请分批添加，一行一个券号，请输入需要增加的券号</div>
                                        </div>
                                        <div class="amountModifyBox" ed-hide="game.$$isPublish && award.iscuscode && award.$isAddAmount && !award.$type.isHdGift && !award.$type.isJZcoupon">
                                            <input class="amountModify input onlyNum wxCardInput minInput firstMinInput" maxlength=6 onkeypress="javascript:return hdFai.isNumberKey(event);" type="text" name="" value="0" />份
                                        </div>  
                                    </div>
                                    <div class="buttonBox">
                                        <div class="bottomButon main-Button amountModifyBtn">确定</div><!--
                                     --><div class="bottomButon main-Button-blue amountCancelBtn">取消</div>
                                    </div>                                      
                                </div>
                                <div class="hasDrawTips" style="margin-left:30px;">已领：</div>
                                <div class="flex-1"><input class="mainInput awardPrized prized input onlyNum" onkeypress="javascript:return hdFai.isNumberKey(event);" type="text" ng-value='::game.$$prizedNum[index]' disabled="disabled"/></div>
                            </div>
                            
                        </div>
                        <div class="flag">*</div>
                    </div>
                </div>
                
                <div ng-if="::!isComfort && game.$$afterWXCardModify" class="setAwardQRCodeBox settingLine" ed-show="award.awardtype == 4">
                    <div class="leftTitle">
                        <div class="bottomTips">（发布后不可修改）</div>
                        <div class="nameWrap">
                            <span class="name">核销方式：</span>
                        </div>
                    </div>
                    <div class="content flex-1">
                        <div class="main"><input id="openAwardQRC{{::index}}" ng-model="award.opqrc" ng-value=true ng-disabled="award.$disabled&&!award.opqrc" class="openAwardQRC" type="radio" name="cusAwardQRC{{::index}}" /><label for="openAwardQRC{{::index}}">二维码</label>
                        <input id="closeAwardQRC{{::index}}" ng-model="award.opqrc" ng-value=false ng-disabled="award.$disabled&&award.opqrc" class="closeAwardQRC" type="radio" name="cusAwardQRC{{::index}}" /><label for="closeAwardQRC{{::index}}">仅卡券号</label></div>
                    </div>
                </div>
                
                <div ng-if="::!isComfort && game.$$afterWxCard" ed-show="award.awardtype == 5" class="passwordrednumBox settingLine hide">
                    <div class="leftTitle">
                        <div class="bottomTips">（发布后不可修改）</div>
                        <div class="nameWrap">
                            <span class="name">红包金额：</span>
                        </div>
                    </div>
                    <div class="content flex-1">
                        <div class="main"><input id="fixedHb{{::index}}" type="radio" class="hbtype" ng-model="award.hbtype" ng-value=0 ng-disabled="award.$disabled" name="hbtype{{::index}}"><label for="fixedHb{{::index}}">固定</label>
                        <input id="randomHb{{::index}}" type="radio" class="hbtype" ng-model="award.hbtype" ng-value=1 ng-disabled="award.$disabled" name="hbtype{{::index}}"><label for="randomHb{{::index}}">随机</label></div>
                        <div class="secondBox fixedHbDetail" ed-show="award.hbtype == 0">
                            <div class="settingLine">
                                <div class="leftTitle auto_w"><span class="name">单个金额：</span></div>
                                <div class="content flex-1">
                                    <div class="main"><input class="passwordrednum input minInput firstMinInput" ng-model="award.passwordrednum" model-format="float ::passwordredFormat" ng-blur="award.passwordrednum==undefined&&(award.passwordrednum=100)" ng-disabled="award.$disabled" maxlength=6 type="text" name="" />元</div>
                                </div>
                            </div>
                            <div class="tipsColor redFixedNumLimit" style="margin-top:0;">微信规定单个红包金额必须高于1元低于200元，最多输入两位小数</div>
                        </div>
                        <div class="secondBox randomHbDetail" ed-show="award.hbtype == 1">
                            <div class="settingLine">
                                <div class="leftTitle auto_w"><span class="name">平均金额：</span></div>
                                <div class="content flex-1">
                                    <div class="main"><input class="hbAverage minInput firstMinInput randomRedNum0" ng-model="award.hbAverage" model-format="float ::passwordredFormat" ng-blur="award.hbAverage==undefined&&(award.hbAverage=1000)" ng-disabled="award.$disabled" maxlength=6 type="text" name="" /> 元</div>
                                </div>
                            </div>
                            <div class="settingLine">
                                <div class="leftTitle auto_w"><span class="name">浮动范围：</span></div>
                                <div class="content flex-1">
                                    <div class="main"><input class="floatBegin randomRedNum1 minInput firstMinInput" ng-model="award.floatBegin" model-format="float ::passwordredFormat" ng-blur="award.floatBegin==undefined&&(award.floatBegin=500)" ng-disabled="award.$disabled" maxlength=6 type="text" name="" />至<input class="floatEnd randomRedNum2 minInput" ng-model="award.floatEnd" model-format="float ::passwordredFormat" ng-blur="award.floatEnd==undefined&&(award.floatEnd=1500)" ng-disabled="award.$disabled" maxlength=6 type="text" name="" />元
                                    <span class="minCount errMsg hide" style="margin-left: 20px;">最小值必须低于平均金额</span>
                                    <span class="maxCount errMsg hide" style="margin-left: 20px;">最大值必须大于平均金额</span>
                                    </div>
                                    <!-- <div class="minCount inputErrMsg hide">最小值必须低于平均金额</div> -->
                                    <!-- <div class="maxCount inputErrMsg hide">最大值必须大于平均金额</div> -->
                                </div>
                            </div>
                            <div class="tipsColor redNumLimit" style="margin-top:0;">微信规定单个红包金额必须高于1元低于200元，最多输入两位小数</div>
                        </div>
                        <div class="tipsColor" style="color:red;">{{ award.hbtype == 1 ? "活动发布后平均金额和浮动范围将无法更改" : "活动发布后单个金额将无法更改" }}</div>
                    </div>
                </div>
                
                <div ng-if="::!isComfort && (game.style == 48 || game.$$isQmKj)"><!-- HYKJ -->
                    <!-- 奖品原价 -->
                    <div class="settingLine theAwardPrice">
                        <div class="leftTitle">
                            <div class="bottomTips">（发布后不可修改）</div>
                            <div class="nameWrap">
                                <span class="name">{{::awardName}}原价：</span>
                            </div>
                        </div>
                        <div class="content flex-1">
                            <div class="main"><input ng-disabled="award.$disabled" class="awardPrice input mainInput" maxlength=6 type="text" ng-model="award.awardprice" model-format="float awardPriceFormat" /></div>
                        </div>
                        <div class="flag">*</div>
                    </div>
                    <div class="settingLine theCutDownPriceTarget">
                        <div class="leftTitle">
                            <div class="bottomTips">（发布后不可修改）</div>
                            <div class="nameWrap">
                                <span class="name">砍价目标：</span>
                            </div>
                        </div>
                        <div class="content flex-1">
                            <div class="main"><input ng-disabled="award.$disabled" class="awardTarget input mainInput" maxlength=6 type="text" ng-model="award.cutdownpricetarget" model-format="float awardPriceFormat"/></div>
                        </div>
                        <div class="flag">*</div>
                    </div>
                    <!-- 需要助力人数 -->
                    <div class="settingLine">
                        <div class="leftTitle">
                            <div class="bottomTips">（发布后不可修改）</div>
                            <div class="nameWrap">
                                <span class="name">需砍次数：</span>
                            </div>
                        </div>
                        <div class="content flex-1">
                            <div class="main">预计需要<input ng-model="award.needhelppeople" ng-disabled="award.$disabled" class="needHelpPeople input minInput" maxlength=3 model-format="int" type="text"/><span>个好友帮忙砍价后才能领取{{::awardName}}</span></div>
                        </div>
                    </div>
                    
                </div>
                
                <div ng-if="::game.$$isAwardWithPot && !isComfort" class="settingLine potBox">
                    <div class="leftTitle">
                        <span class="name">中奖率：</span>
                    </div>
                    <div class="content flex-1">
                        <div class="main"><input ng-model="award.pot" model-format="float" class="awardPot input minInput" type="text" ng-blur="!award.pot&&(award.pot=0)"/>%</div>
                    </div>
                </div>
                <p class="underLineWay" ng-if="true && game.style != 77 && !award.$type.isJZcoupon">
                    <span class="fontWeight">兑奖选项 · {{::index==8?'安慰奖':awardName+constant.numList[index+1]}}</span>
                </p>
            
                <div class="setCashTypeBox settingLine" ng-show="award.$type.showcashtype">
                    <div class="leftTitle">
                        <span class="name">兑奖方式：</span>
                        <span class="hoverContentBox">
                            <p class="content" ng-if="award.cashtype == 2">获奖者到线下门店或公司向工作人员出示卡券，工作人员登陆后台核销系统进行扫码核销</p>
                            <p class="content" ng-if="award.cashtype == 3">获奖者复制兑奖码并黏贴发送到指定公众号，将实现自动核销，可自定义不同状态的券号的回复内容</p>
                            <p class="content" ng-if="award.cashtype == 4">获奖者点击兑奖按钮跳转至指定链接进行兑奖</p>
                            <span class="target hoverIcon"></span>
                        </span>
                    </div>
                    <div class="content flex-1">
                        <div class="main">
                            <input id="cashUnderline{{::index}}" ng-model="award.cashtype" ng-value=::2 class="cashUnderline wxCardInput" type="radio" name="cashType{{::index}}" /><label for="cashUnderline{{::index}}">线下兑奖</label>
                            
                            <span ng-if="::!isComfort || game.$$afterComCodeModify">
                                <input id="cashWx{{::index}}" ng-model="award.cashtype" ng-value=::3 class="cashWx wxCardInput" type="radio" name="cashType{{::index}}" ng-disabled="!game.$$hasWXCash || award.iscuscode && game.$$isNewSetGame" /><label for="cashWx{{::index}}">公众号兑奖</label>
                            </span>
                            <input id="cashWeb{{::index}}" ng-model="award.cashtype" ng-value=::4 class="cashWeb wxCardInput" type="radio" name="cashType{{::index}}" /><label for="cashWeb{{::index}}">网页兑奖</label>
                            
                        </div>
                        <div class="secondBox aligned" ed-if="award.cashtype == 3" is-ed-show="true" onedifinit="Edit.initReplyContent(this,$scope)" >
                            <div class="verTipsBox settingLine" ng-repeat="info in ::replyDefineInfo track by info.title">
                                <div class="leftTitle">
                                    <span class="powerIcon ver_biz flag"></span><span class="name">{{::info.title}}：</span>
                                </div>
                                <div class="content flex-1"><div class="main"><input ng-model="info.val" class="replyDefineInput{{::$index}} input mainInput" type="text" maxlength="601"/></div></div>
                                <div class="flag">*</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="setAwardBox" ed-show="award.$type.showsitebox && !award.$type.isHdGift && !award.$type.isJZcoupon">
                    <div class="setAwardOptInfoBox settingLine">
                        <div class="leftTitle">
                            <span class="name">操作提示：</span>
                        </div>
                        <div class="content flex-1">
                            <div class="main"><input ng-model="award.opti" ed-check-sensit-word class="awardOptInfo input mainInput blurCheck wxCardInput" type="text"/></div>
                        </div>
                        <div class="flag">*</div>
                    </div>
                    <div class="setAwardCashSiteBox settingLine" ed-hide="award.$type.sitetype=='none'" >
                        <div class="leftTitle">
                            <span class="name">{{award.$type.site}}：</span>
                        </div>
                        <div class="content flex-1"><div class="main">
                            
                            
                            <div class="cashAddress" ed-hide="award.$type.sitetype == 'text' && award.storeType != 1" >
                            
                                <div class="cashSiteIpt mustFill" ed-show="award.$type.sitetype == 'text'">
                                    <input ng-model="award.cashsite" ed-check-sensit-word sensit-word-err-style="margin-left: 0;" class="awardCashSite input mainInput blurCheck wxCardInput" type="text"/>
                                </div>
                                <div class="cashUrlIpt" ed-show="award.$type.sitetype == 'url'">
                                    <input ng-model="award.$cashsiteurl" class="awardCashSiteUrl input mainInput blurCheck wxCardInput" type="text"/>
                                </div>
                            </div>
                            
                            
                        </div></div>
                    </div>
                </div>
                
                <div class="setCodeTimeBox settingLine" ed-hide="award.$type.isJZcoupon">
                    <div class="leftTitle">
                        <span class="name">{{award.$type.deadline}}：</span>
                        <span class="hoverContentBox" ng-show="award.awardtype!=5&&award.genewxcard">
                            <p class="content">微信优惠券的使用期限在活动发布后只能延长不能缩短</p>
                            <span class="target hoverIcon quort"></span>
                        </span>
                    </div>
                    <div class="content flex-1">
                        <div class="main"><input ng-model="award.t_type" value="DATE_TYPE_FIX_TIME_RANGE" id="timeRangeType{{::index}}" class="timeRangeType" ng-disabled="(game.$$isPublish && awardLast().genewxcard) && award.t_type == 'DATE_TYPE_FIX_TERM'" type="radio" name="timeType{{::index}}"/><label for="timeRangeType{{::index}}">固定日期</label>
                        <input ng-model="award.t_type" value="DATE_TYPE_FIX_TERM" id="termType{{::index}}" class="termType" ng-disabled="((game.$$isPublish && awardLast().genewxcard)) && award.t_type == 'DATE_TYPE_FIX_TIME_RANGE'" type="radio" name="timeType{{::index}}" /><label for="termType{{::index}}">固定时长</label></div>
                        <div class="codeTimeBox">
                            <div id="timeRangeBox{{::index}}" class="timeRangeBox flex" ng-show="award.t_type == 'DATE_TYPE_FIX_TIME_RANGE'">
                                <input class="flex-1 useCodeBeginTime input pointer wxCardInput" readonly type="text" ng-value="::award.cbt" />
                                <span class="mid">至</span>
                                <input class="flex-1 useCodeEndTime input pointer wxCardInput" readonly type="text" ng-value="::award.cet"/>
                            </div>
                            <div id="termBox{{::index}}" class="termBox"  ng-show="award.t_type == 'DATE_TYPE_FIX_TERM'">
                                领取后<select class="minInput" ng-model="award.cfbt" ng-options="i as (i==0?'当天':i+'天') for i in award.$fixedBeginTermList track by i" class="codeFixedBeginTerm input wxCardInput"></select>生效，有效天数<select class="minInput" ng-model="award.cft" ng-options="i as i+'天' for i in award.$fixedTermList track by i" class="codeFixedTerm input wxCardInput"></select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="openContactAward settingLine" ed-show="!game._setting.linkInfoAll && game._setting.linkInfotype == 4">
                    <div class="leftTitle">
                        <span class="name">联系信息：</span>
                    </div>
                    <div class="content flex-1">
                        <div class="main"><input type="radio" id="openContactAward{{::index}}" ng-value=true ng-model="award.oplink" class="openContact" name="contactAward{{::index}}"/><label for="openContactAward{{::index}}">开启</label>
                        <input type="radio" id="closeContactAward{{::index}}" ng-value=false ng-model="award.oplink" class="closeContact" name="contactAward{{::index}}"/><label for="closeContactAward{{::index}}">关闭</label></div>
                    </div>
                </div>
                <div class="verTipsBox settingLine setWxCardBox" ng-if="::!game.$$afterWXCardModify && game.$$afterWxCard && !isComfort" ed-show="award.$type.showwxcard && !award.$type.isHdGift">
                    <div class="leftTitle">
                        <div class="bottomTips">（发布后不可修改）</div>
                        <div class="nameWrap">
                            <span class="powerIcon ver_biz flag"></span><span class="name">微信卡券：</span>
                            <span class="hoverContentBox">
                                <p class="content" ng-if="award.genewxcard">生成卡券后，<span style="color:red">请勿</span>到微信公众平台内<span style="color:red">操作卡券</span></p>
                                
                                <p class="content" ng-if="!award.genewxcard">请先到个人中心开通微信卡券功能<a href='http://hd.fkw.com/news/4232' target="_blank" class="aTips">了解更多</a></p>
                                
                                <span class="target hoverIcon" ng-class="{'quort':award.genewxcard}" ></span>
                            </span>
                        </div>
                    </div>
                    <div class="content flex-1">
                        <div class="main"><input id="generateWxCard{{::index}}" ng-model="award.genewxcard" ng-value=::true class="generateWxCard js_ver" _ver="2"  type="radio" name="setWxCard{{::index}}" ng-disabled="!canOpenKq" /><label for="generateWxCard{{::index}}">同时生成微信优惠券</label>
                        <input id="closeWxCard{{::index}}" ng-model="award.genewxcard" ng-value=::false class="closeWxCard" type="radio" name="setWxCard{{::index}}" ng-disabled="game.$$isPublish&&awardLast().genewxcard" /><label for="closeWxCard{{::index}}">不需要微信优惠券</label></div>
                        <div class="secondBox" ed-show="award.genewxcard">
                            <div class="settingLine">
                                <div class="leftTitle" style="width:110px">
                                    <div class="bottomTips">（发布后不可修改）</div>
                                    <div class="nameWrap">
                                        <span class="name">卡券商户名称：</span>
                                    </div>
                                </div>
                                <span class="hoverContentBox">
                                    <p class="content">卡券商户名称请勿与授权公众号名称相差太大，否则将有可能被微信视为代建而查封，卡券将无法使用！</p>
                                    <span class="target hoverIcon quort"></span>
                                </span>
                                <div class="content flex-1">
                                    <div class="main"><input id="wxCardName{{index}}" ng-model="award.wxcardcomname" class="input mainInput" type="text" placeholder="请填写卡券的商户名称(如：海底捞)" ng-disabled="game.$$isPublish&&awardLast().genewxcard"></div>
                                </div>
                                <div class="flag">*</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="awardDetail_hightSet" ng-if=" game.style != 48" ed-hide="award.$type.isJZcoupon">
                    <div class="seniorSetBoxOption underLineWay" ng-click="game.$setBaseBoxStatus('$award_hight_set')">
                        <span class="fontWeight">高级选项 · {{::index==8?'安慰奖':awardName+constant.numList[index+1]}}</span>
                        <div class="baseSeniorSet">
                            <span>{{ game.$award_hight_set ? "点击收起" : "更多设置" }}</span> 
                            <span class='roteteArrow transiton300ms  {{ game.$award_hight_set ? "" : "rotate180" }}' ></span>
                        </div>
                    </div>
                </div>
                <div class='awardDetailSetting {{ game.$award_hight_set ? "" : "hideImp" }} ' ed-hide="award.$type.isJZcoupon">
                    <div ng-if="::!isComfort || !game.$$afterComCodeModify" ed-show="award.$type.cuscode && !award.$type.isHdGift" class="settingLine verTipsBox">
                        <div class="leftTitle">
                            <span class="powerIcon ver_biz flag"></span><span class="name">生成券号：</span>
                        </div>
                        <div class="content flex-1">
                            <div class="main"><input id="sysAwardCode{{::index}}" ng-model="award.iscuscode" ng-value=false class="sysAwardCode" type="radio" name="setCusCode{{::index}}" ng-disabled="game.$$isPublish  && award.iscuscode && award.level <= game._setting.max_an"/><label for="sysAwardCode{{::index}}">系统生成</label>
                            <input id="cusAwardCode{{::index}}" ng-model="award.iscuscode" ng-value=true class="cusAwardCode js_ver" _ver="2" type="radio" name="setCusCode{{::index}}" ng-disabled="game.$$isPublish && !award.iscuscode && award.$disabled || award.$hasOpenWXpublic && game.$$isNewSetGame" /><label for="cusAwardCode{{::index}}">手工导入</label></div>
                            <div ng-if="::!isComfort" class="cusCodeInputBox" ed-show="!award.$isExcelCode && award.iscuscode">
                                <textarea class="addCusCodeFlag cusCodeBox awardTextArea" ng-disabled="(game.$$isPublish && award.level <= game._setting.max_an) || ( true && award.$$theCusAwardStatus == 2)" ng-model="award.$$thisLevelCuscode"></textarea>
                                <div class="tipsColor">8000个券号以上请先输入奖品数量再上传，一行一个券号，券号数量与奖品数量需一致，发布后生成券号方式将无法更改</div>
                                
                                <div class="main-Button uploadCuscodeBtn pointer" ng-click="uploadCuscode(index)" ng-show="!game.$$isPublish||award.level > game._setting.max_an">{{(award.$$theCusAwardStatus == 1 ? "上传" : (award.$$theCusAwardStatus == 2 ? "修改" : "确定"))}}</div>
                                
                            </div>
                            <div ng-if="::isComfort" class="cusCodeInputBox" ed-show="award.iscuscode">   
                                <input type="text" id="anweiCuscode" class="cusCodeBox input mainInput awardMg" maxlength="20" ng-model="award.ccc" ng-disabled="::game.$$isPublish" />
                                <div class="tipsColor hide" ></div>
                            </div>
                            <div class="uploadCusCode" ed-show="award.$isExcelCode && award.iscuscode">
                                <div ng-show="!game.$$isPublish || award.level > game._setting.max_an">
                                    <div class="uploadBtn upload main-Button"></div>
                                    <div class="cusCodeFile">
                                        <a href="javascript:;" ng-show="award.excelName != ''" ng-click="downloadCusCode(false,index)">{{award.excelName || "兑奖码.xls"}}</a>
                                        <span class="errMsg hide">请上传文件</span>
                                    </div>
                                </div>
                                <div ng-hide="!game.$$isPublish || award.level > game._setting.max_an">
                                    <div class="getCodeBtn" ng-click="downloadCusCode(false,index)">查看券号</div>
                                </div>
                                <div class="downloadBtn"><a class="aTips" ng-click="downloadCusCode(true,index)" href="javascript:;">下载模版</a></div>
                                <div class="uploadTip tipsColor">
                                    每个券号不超过<span class="codeLimitLen">40</span>个字符，券号数量与奖品数量需一致，发布后生成券号方式将无法更改
                                </div>
                            </div>
                        </div>
                        <form class="exportCusCodeForm" method="post" class="hide" action="">
                            <textarea name="codeList" class="cusCodeStr hide" /></textarea>
                        </form>
                    </div>
                    <div ng-show="award.$type.sitetype == 'text'" class="verTipsBox settingLine">
                        <div class="leftTitle">
                            <span class="powerIcon ver_biz flag"></span><span class="name">核销方式：</span>
                            <span class="hoverContentBox">
                                <p class="content" ng-if="award.iscancelver">玩家到店后出示卡券，线下核销员输入核销码后完成卡券核销 <a class="aTips" href='http://hd.fkw.com/news/9936' target='_blank'>了解更多</a></p>
                                <p class="content" ng-if="!award.iscancelver">通过核销系统输入券码或扫描二维码进行核销</p>
                                <span class="target hoverIcon"></span>
                            </span>
                        </div>
                        <div class="content flex-1">
                            <div class="main"><input id="scanCodeCancel{{::index}}" ng-model="award.iscancelver" ng-value=false class="sysAwardCode" type="radio" name="setCancelCode{{::index}}"/><label for="scanCodeCancel{{::index}}">输码/扫码核销</label>
                            <input id="autoCancel{{::index}}" data-index="{{::index}}" ng-model="award.iscancelver" ng-value=true class="js_ver" _ver="2" type="radio" name="autoCancel{{::index}}" ng-click="cancelVerTip('17472084',award)" /><label for="autoCancel{{::index}}">自助核销</label>
                            <span ng-if="award.iscancelver" class="afterRadio aTips" onclick="Edit.editCancelVerCode()">配置核销码</span></div>
                        </div>
                    </div>
                    <div ng-show="award.$type.sitetype == 'url'" class="verTipsBox settingLine">
                        <div class="leftTitle">
                            <span class="powerIcon ver_biz flag"></span><span class="name">核销方式：</span>
                            <span class="hoverContentBox">
                                <p class="content" ng-if="award.needlessconsume">卡券不显示券码且不需要核销 <a class="aTips" href='http://hd.fkw.com/news/10451' target='_blank'>了解更多</a></p>
                                <p class="content" ng-if="!award.needlessconsume">通过核销系统输入券码或扫描二维码进行核销</p>
                                <span class="target hoverIcon"></span>
                            </span>
                        </div>
                        <div class="content flex-1">
                            <div class="main"><input id="scanCodeCancelOther{{::index}}" ng-model="award.needlessconsume" ng-value=false class="sysAwardCode" type="radio" name="scanCodeCancelOther{{::index}}"/><label for="scanCodeCancelOther{{::index}}">输码/扫码核销</label>
                            <input id="needlessCancel{{::index}}" data-index="{{::index}}" ng-model="award.needlessconsume" ng-value=true class="js_ver" _ver="2" type="radio" name="setNeedlessConsume{{::index}}"  /><label for="needlessCancel{{::index}}">无需核销</label></div>
                        </div>
                    </div>
                    
                    <div class="awardOtherSetting"> 
                        
                        <div class="setAwardTimeLimitBox settingLine" ed-show="award.$type.term && !award.$type.isHdGift">
                            <div class="leftTitle">
                                <span class="name">可用时段：</span>
                            </div>
                            <div class="content flex-1">
                                <div class="main"><input id="allTimeLimit{{::index}}" ng-model="award.$timeLimitSelAll" ng-value=true class="allTimeLimit" type="radio" name="timeLimitType{{::index}}" /><label for="allTimeLimit{{::index}}">全部时段</label>
                                <input id="someTimeLimit{{::index}}" ng-model="award.$timeLimitSelAll" ng-value=false  class="someTimeLimit" type="radio" name="timeLimitType{{::index}}" /><label for="someTimeLimit{{::index}}">部分时段</label></div>
                                <div ed-hide="award.$timeLimitSelAll">
                                    <div id="timeLimitSelBox{{::index}}" class="timeLimitSelBox blurCheck">
                                        <span ng-repeat="i in ::getIntList(0,6)"><input id="timeLimitSome{{::index+'_'+i}}" ng-model="award._tlmt[i]" type="checkbox" name="timeLimitDay{{::index}}" /><label for="timeLimitSome{{::index+'_'+i}}">{{::constant.weekList[i]}}</label></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="setAwardBtnBox settingLine awardSettingLine">
                            <div class="leftTitle">
                                <span class="name">自定义按钮：</span>
                            </div>
                            <div class="content flex-1">
                                <div class="main"><input id="closeAwardBtn{{::index}}" ng-model="award.attention" ng-value=::1 class="closeAwardBtn cusAwardBtn wxCardInput" type="radio" name="cusAwardBtn{{::index}}" /><label for="closeAwardBtn{{::index}}">关闭</label>
                                <input id="openAwardBtn{{::index}}" ng-model="award.attention" ng-value=::2 class="openAwardBtn cusAwardBtn wxCardInput" type="radio" name="cusAwardBtn{{::index}}" /><label for="openAwardBtn{{::index}}">页面跳转</label>
                                <span ng-hide="award.awardtype == 4"><input id="newAttention{{::index}}" ng-model="award.attention" ng-value=::3 type="radio" name="cusAwardBtn{{::index}}" class="newAttention cusAwardBtn wxCardInput"/><label for="newAttention{{::index}}">一键关注</label></span></div>
                                <div class="awardBtnBox secondBox menuBox" ed-hide="award.attention == 1">
                                    <div class="settingLine setAwardCusBtnBox">
                                        <div class="leftTitle">
                                            <span class="name">按钮名称：</span>
                                        </div>
                                        <div class="content flex-1">
                                            <div class="main"><input ng-model="award.btn" ed-check-sensit-word class="awartBtnTitle input mainInput wxCardInput" type="text"/></div>
                                        </div>
                                        <div class="flag">*</div>
                                    </div>
                                    <div class="settingLine flex-align-center">
                                        <div class="leftTitle">
                                            <span class="name">{{award.attention == 2 ? "按钮链接" : "微信公众号"}}：</span>
                                        </div>
                                        <div class="content flex-1"><div class="main">
                                            <input ng-model="award.btl" ng-show="award.attention == 2" class="awardBtnLink input mainInput wxCardInput" maxlength=1000 type="text"/>
                                            <div id="AttentionBox{{::index}}" ng-show="award.attention == 3" class="AttentionBox">
                                                <div class="attentionImg comUploadImg">
                                                    <img ng-src="{{::((award.attentionimg.replace('hdg.','hd.') == game.$$qrImgPathDef ? (game.$$qrImgPathDef):award.attentionimg.replace('hdg.','hd.'))||game.$$qrImgPathDef)}}" onload="hdFaiOperateImg(this);"/>
                                                </div>
                                                <div class="QRloaBox comUploadBox chooseImg">
                                                    <span id="AtentionBtn{{::index}}" class="btn"></span>
                                                    <a id="attentionBtn{{::index}}" class="comUploadExplain aTips" target="_blank" href="http://jz.fkw.com/blog/1647" style="display:block;">如何找到公众号二维码？</a>
                                                </div>
                                            </div>
                                        </div></div>
                                    </div>
                                </div>
                            </div>                                             
                        </div>
                        <div class="setAwardSubTitleBox settingLine">
                            <div class="leftTitle">
                                <span class="name">副标题：</span>
                            </div>
                            <div class="content flex-1">
                                <div class="main"><input ng-model="award.stl" ed-check-sensit-word class="awardSubTile input mainInput wxCardInput" type="text"/></div>
                            </div>
                        </div>
                        
                        <div class="setServicePhoneBox settingLine" >
                            <div class="leftTitle">
                                <span class="name">客服电话：</span>
                            </div>
                            <div class="content flex-1">
                                <div class="main"><input ng-model="award.servicepho" class="servicePhone input mainInput wxCardInput" type="text"/></div>
                            </div>
                        </div>
                        
                    </div>
                    
                    <div class="setCashInfoBox settingLine ">
                        <div class="leftTitle">
                            <span class="name">{{award.$type.notice}}：</span>
                        </div>
                        <div class="content flex-1">
                            <div class="main"><textarea ng-model="award.cashinfo" ed-check-sensit-word ng-trim="false" class="cashInfoContent input awardTextArea wxCardInput"></textarea></div>
                        </div>
                    </div>  
                    
                    <div class="openHostInfoBox settingLine" ed-hide="game.$$verInfo.realVer == 4 || game.createTime < 1533743999000"><!-- 2018.8.9 -->
                        <div class="leftTitle">
                            <span class="name">主办方介绍：</span>
                            <span class="hoverContentBox" _args='["up",{}]'>
                                <p class="content">请在个人中心主办单位选择跳转链接或页面模板，否则将没有跳转效果</p>
                                <span class="target hoverIcon"></span>
                            </span>
                        </div>
                        <div class="content flex-1">
                            <div class="main"><input id="closeHostInfo{{::index}}" ng-model="award.isOpenHostInfo" ng-value=false class="closeHost" type="radio" name="isOpenHost{{::index}}" /><label for="closeHostInfo{{::index}}">关闭</label>
                            <input id="openHostInfo{{::index}}" ng-model="award.isOpenHostInfo" ng-value=true  class="openHost" type="radio" name="isOpenHost{{::index}}" /><label for="openHostInfo{{::index}}">开启</label></div>
                        </div>
                    </div>
                </div>
            
            </div>    
            
        </div>                           
    </div>  
</div>
                    
                    

                    

                    

                    <div id="moreSetting" class="settingBox scrollBox" option="3">
                        
                        <div class="hd_company_info">
                            <div class="seniorSetBoxOption underLineWay" ng-click="game.$setBaseBoxStatus('$base_compay_set')">
                                <span class="fontWeight">企业信息</span>
                                <div class="baseSeniorSet">
                                    <span>{{ game.$base_compay_set ? "收起" : "展开" }}</span> 
                                    <span class='roteteArrow transiton300ms  {{ game.$base_compay_set ? "" : "rotate180" }}' ></span>
                                </div>
                            </div>
                            <div id="companySetBox" class='subTabsettingBox {{ game.$base_compay_set ? "" : "seniorBoxInfoClose" }}'>
                                
                                <div class="hostNameWrap" ng-hide = "game.$$verInfo.realVer != 4 && game.createTime > 1527004799000"><!-- 2018.5.23 -->
                                    <div class="settingLine">
                                        <div class="leftTitle">
                                            <span class="name">主办单位：</span>
                                        </div>
                                        <div class="content flex-1">
                                            <div class="main"><input type="text" id="hostName" class="input mainInput" ng-model="game._setting.hn" ed-check-sensit-word /></div>
                                        </div>
                                        <span class="flag">*</span>
                                    </div>
                                    <div class="settingLine">
                                        <div class="leftTitle">
                                            <span class="name">链接地址：</span>
                                        </div>
                                        <div class="content flex-1">
                                            <div class="main"><input class="input mainInput" id="hostLink" type="text" ng-model="game._setting.hl" /></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="uploadLogoWrap" class="settingLine">
                                    <div class="leftTitle">
                                        <span class="name">企业Logo：</span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><input id="hideLogo" ng-model="game._flag.f32" ng-value=false type="radio" name="isShowLogo" /><label for="hideLogo">隐藏</label><input id="showLogo" ng-model="game._flag.f32" ng-value=true type="radio" name="isShowLogo"/><label for="showLogo">显示</label></div>
                                        <div id="uploadLogo" class="comUploadWarp secondBox menuBox" ng-show="game._flag.f32">
                                            <div class="logoImg comUploadImg">
                                                <img src="img/nopic.jpg" onload="hdFaiOperateImg(this)"/>
                                            </div>
                                            <div class="comUploadBox chooseImg">
                                                <span id="uploadButton" class="btn"></span>
                                                <div class="comUploadExplain">请上传jpg、bmp、png、gif格式的图片</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="menuBoxWrap" class='menuBoxWrap settingLine'>
                                    <div class="leftTitle">
                                        <span class="name">功能按钮：</span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><input id="closeMenu" ng-model="game._setting.ms" ng-value=::1 type="radio" name="menuStyle" /><label for="closeMenu">隐藏</label>
                                        <input id="jumpPage" ng-model="game._setting.ms" ng-value=::2 type="radio" name="menuStyle" /><label for="jumpPage">页面跳转</label>
                                        <input id="attention" ng-model="game._setting.ms" ng-value=::3 type="radio" name="menuStyle" /><label for="attention">一键关注</label></div>
                                        <div id="menuBox" class="secondBox menuBox" ed-show="game._setting.ms!=1">
                                            <div class="settingLine">
                                                <div class="leftTitle"><span class="name">按钮名称：</span></div>
                                                <div class="content flex-1"><div class="main"><input type="text" id="menuName" class="menuName input mainInput" ng-model="game._setting.mun"/></div></div>
                                                <span class="flag">*</span>
                                            </div>
                                            <div class="settingLine" ed-show="game._setting.ms==2">
                                                <div class="leftTitle"><span class="name">按钮链接：</span></div>
                                                <div class="content flex-1"><div class="main"><input type="text" id="menuLink" class="input mainInput" ng-model="game._setting.ml" ng-value="::game._setting.ms == 2 ? game._setting.ml : ''"/></div></div>
                                            </div>
                                            <div class="settingLine flex-align-center" ed-show="game._setting.ms==3">
                                                <div class="leftTitle"><span class="name">微信公众号：</span></div>
                                                <div id="QRCodeBox" class="content flex-1 uploadQrCode"><div class="main">
                                                    <div class="QRImg comUploadImg">
                                                        <img ng-src="{{::game._setting.ms == 3 ? (game._setting.ml || game.$$qrImgCompanyDef) : game.$$qrImgCompanyDef}}" onload="hdFaiOperateImg(this)" myattr="{{game._setting.ml}}"/>
                                                    </div>
                                                    <div class="QRloaBox comUploadBox chooseImg">
                                                        <span id="QRloadButton" class="btn"></span>
                                                        <a id="attentionUnderstand" class="comUploadExplain aTips" style="display: block;" target="_blank" href="http://jz.fkw.com/blog/1647">如何找到公众号二维码？</a>
                                                    </div>
                                                </div></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div class="hd_share_info">
                            <div class="seniorSetBoxOption underLineWay" ng-click="game.$setBaseBoxStatus('$base_share_set')">
                                <span class="fontWeight">分享设置</span>
                                <div class="baseSeniorSet">
                                    <span>{{ game.$base_share_set ? "收起" : "展开" }}</span> 
                                    <span class='roteteArrow transiton300ms  {{ game.$base_share_set ? "" : "rotate180" }}' ></span>
                                </div>
                            </div>
                            <div id="shareSetBox" class='{{ game.$base_share_set ? "" : "seniorBoxInfoClose" }}'>
                                
                                <div class="settingLine">
                                    <div class="leftTitle">
                                        <span class="name">分享活动：</span>
                                        <span class="hoverContentBox">
                                            <p class="content">{{game._flagB.f32768?"隐藏右上角的分享及复制链接操作，但由于微信的隐藏按钮功能会存在加载时间，加载完成前快速点击分享按钮仍可分享；":"可通过点击微信右上角的分享按钮进行分享"}}</p>
                                            <span class="target hoverIcon"></span>
                                        </span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><input id="offForbidShareActivity" ng-model="game._flagB.f32768" ng-value=false type="radio" name="shareActivity" checked/><label for="offForbidShareActivity">允许分享</label><input id="onForbidShareActivity" ng-model="game._flagB.f32768" ng-value=true type="radio" name="shareActivity" /><label for="onForbidShareActivity">禁止分享</label></div>
                                    </div>
                                </div>
                                
                                <div class="settingLine" ng-show="!game._flagB.f32768">
                                    <div class="leftTitle">
                                        <span class="name">分享图标：</span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><input id="defWxShare" ng-model="game._flag.f128" ng-value=false type="radio" name="wxShare" checked/><label for="defWxShare">默认</label><input id="cusWxShare" ng-model="game._flag.f128" ng-value=true type="radio" name="wxShare" /><label for="cusWxShare">自定义</label></div>
                                        <div class="comUploadWarp menuBox" ng-show="game._flag.f128" >
                                            <div class="wxShareImg comUploadImg" style="overflow:hidden;">
                                                <img src="img/l_xydzp.jpg?v=201508111845" onload="hdFaiOperateImg(this,7)"/>
                                            </div>
                                            <div class="comUploadBox chooseImg">
                                                <span id="wxShareUploadButton" class="btn"></span>
                                                <div class="comUploadExplain">请上传jpg、bmp、png、gif格式的图片</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="settingLine verTipsBox" ed-show="!game._flagB.f32768">
                                    <div class="leftTitle">
                                        <span class="powerIcon ver_by flag"></span><span class="name">分享内容：</span>
                                        <span class="hoverContentBox">
                                            <p class="content">页面及分享信息请遵守微信朋友圈管理规定，请勿出现违规信息，否则有可能导致活动分享到朋友圈仅自己可见</p>
                                            <span class="target hoverIcon quort"></span>
                                        </span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><input id="defWxShareText" ng-model="game._flag.f1024" ng-value=false type="radio" name="wxShareText" checked/><label for="defWxShareText">默认</label><input class="js_ver" _ver="1" ng-model="game._flag.f1024" ng-value=true id="cusWxShareText" type="radio" name="wxShareText"/><label for="cusWxShareText">自定义</label><a class="aTips" href="javascript:;" onclick="Edit.showWxShareText(this)" ng-show="game._flag.f1024">查看设置</a></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div class="hd_otherset_info">
                            <div class="seniorSetBoxOption underLineWay" ng-click="game.$setBaseBoxStatus('$base_otherInfo_set')">
                                <span class="fontWeight">其他设置</span>
                                <div class="baseSeniorSet">
                                    <span>{{ game.$base_otherInfo_set ? "收起" : "展开" }}</span> 
                                    <span class='roteteArrow transiton300ms  {{ game.$base_otherInfo_set ? "" : "rotate180" }}' ></span>
                                </div>
                            </div>
                            <div class='hd_otherset_info_box {{ game.$base_otherInfo_set ? "" : "seniorBoxInfoClose" }}'>
                                <div class="settingLine verTipsBox">
                                    <div class="leftTitle">
                                        <span class="powerIcon  flag"></span><span class="name">互动广告：</span>
                                        
                                        <span class="hoverContentBox" ng-if="!game._flagB.f8192">
                                            <p class="content">隐藏广告需要单独购买 <a class="aTips skillLinkToShop" target="_blank">立即购买</a></p>
                                            <span class="target hoverIcon"></span>
                                        </span>
                                        
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><input type="radio" id="ShowSkillSup" ng-model="game._flag.f4" ng-value=true name="isShowSkillSup" checked /><label for="ShowSkillSup">显示</label>
                                        <input type="radio" ng-class="::{js_ver:game.isOldSkill}" _ver="2" id="hideSkillSup" ng-disabled="!game.isOldSkill&&!game._flagB.f8192" ng-model="game._flag.f4" ng-value=false name="isShowSkillSup"/><label for="hideSkillSup">隐藏</label></div>
                                    </div>
                                </div>
                                
                                <div class="baseLine settingLine">
                                    <div class="leftTitle">
                                        <span class="name">页面加载图片：</span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><input id="loadingDef" ng-model="game._setting.ls" ng-value=::1 type="radio" name="loadingStyle" /><label for="loadingDef">默认</label>
                                        <input id="loadingCustom" ng-model="game._setting.ls" ng-value=::3 type="radio" name="loadingStyle" /><label for="loadingCustom">自定义</label></div>
                                        <div class="comUploadWarp menuBox" ng-show="game._setting.ls == 3" >
                                            <div class="loadingCustomImg comUploadImg">
                                                <img src="img/nopic.jpg" onload="hdFaiOperateImg(this)"/>
                                            </div>
                                            <div class="comUploadBox chooseImg">
                                                <span id="loadingCustomButton" class="btn"></span>
                                                <div class="comUploadExplain">请上传jpg、bmp、png、gif格式的图片</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div class="hd_redPackage_info" ng-show="game.$hasRedPacketType || game.$hasGiftType">
                            <div class="seniorSetBoxOption underLineWay" ng-click="game.$setBaseBoxStatus('$base_redPacket_set')">
                                <span class="fontWeight">安全设置</span>
                                <div class="baseSeniorSet">
                                    <span>{{ game.$base_redPacket_set ? "收起" : "展开" }}</span> 
                                    <span class='roteteArrow transiton300ms  {{ game.$base_redPacket_set ? "" : "rotate180" }}' ></span>
                                </div>
                            </div>
                            <div id="redPacketSetBox" class='subTabsettingBox {{ game.$base_redPacket_set ? "" : "seniorBoxInfoClose" }}'>
                                <div class='settingLine' ng-show="game.$hasRedPacketType" id="hbPreSetBox">
                                    <div class="leftTitle">
                                        <span class="name">红包防刷：</span>
                                        <span class="hoverContentBox" _args='["up",{"width":400}]'>
                                            
                                            <p class="content" ng-if="game._setting.hbPreCount==0">初级防刷仅依靠微信平台的机制检测羊毛党，无法完全避免红包被恶意刷取的情况</p>
                                            
                                            <p class="content" ng-if="game._setting.hbPreCount==1">领取红包前需要先填写图形验证码，能有效防止利用机器刷红包的行为</p>
                                            
                                            <p class="content" ng-if="game._setting.hbPreCount!=2">注：强烈建议开启高级防刷</p>
                                            <p class="content" ng-if="game._setting.hbPreCount==2">玩家领取红包前需要通过短信验证码验证手机号码，能有效地防止机器以及羊毛党手工刷红包的行为</p>
                                            
                                            <span class="target hoverIcon"></span>
                                        </span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><input id="noLimitRedPacket" ng-model="game._setting.hbPreCount" ng-value="::0" type="radio" name="noLimitRedPacket" /><label for="noLimitRedPacket">初级</label>
                                        <input id="imgLimitRedPacket" ng-model="game._setting.hbPreCount" ng-value="::1" type="radio" name="imgLimitRedPacket" checked/><label for="imgLimitRedPacket">中级</label>
                                        
                                        <input id="msgLimitRedPacket" ng-model="game._setting.hbPreCount" ng-value="::2" type="radio" name="msgLimitRedPacket" disabled /><label for="msgLimitRedPacket" onclick="showSmsTips()" >高级</label>
                                        </div>
                                        <div ed-show="game._setting.hbPreCount==2">
                                            <div class="predictMsg">预计需要短信：<span id="pdtAmount"></span> 条</div>
                                            <div class="remainedMsg">帐号剩余短信：<span id="rmdAmount">0</span> 条</div>
                                            <div class="rechargeWarn inputErrMsg hide">帐号剩余短信不足，请尽快充值！</div>
                                            <div class="tipsColor">温馨提示：请保证活动时间内帐号中有充足的短信剩余数量（建议是全部奖品数量的两倍），否则可能出现玩家无法领取红包的情况。</div>
                                            <div ed-show="game._flagB.f64">
                                                禁止非允许手机号段领奖：
                                                <span class="hoverContentBox" _args='["up",{},"center"]' style="margin-right:8px;">
                                                    <p class="content">开启后，手机号段归属地不属于可参与地区的玩家将无法领取红包</p>
                                                    <span class="target hoverIcon"></span>
                                                </span>
                                                <input type="radio" id="limitPhoneArea" ng-model="game._flagC.f131072" ng-value=true name="isLimitTelArea"/>
                                                <label for="limitPhoneArea">开启</label>
                                                <input type="radio" id="noLimitPhoneArea" ng-model="game._flagC.f131072" ng-value=false name="isLimitTelArea" checked/>
                                                <label for="noLimitPhoneArea">关闭</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="settingLine" ng-show="game.$hasGiftType" id="giftPreSetBox">
                                    <div class="leftTitle">
                                        <span class="name">礼品防刷：</span>
                                        <span class="hoverContentBox" _args='["up",{"width":400}]'>
                                            
                                            <p class="content" ng-if="game._setting.giftPreCount==0">初级防刷不能避免流量、话费、视频会员被恶意刷取的行为</p>
                                            
                                            <p class="content" ng-if="game._setting.giftPreCount==1">兑换流量、话费或视频会员前需要先填写图形验证码，能有效防止利用机器刷奖的行为</p>
                                            
                                            <p class="content" ng-if="game._setting.giftPreCount!=2">注：强烈建议开启高级防刷</p>
                                            <p class="content" ng-if="game._setting.giftPreCount==2">玩家兑换流量、话费或视频会员前需要通过短信验证码验证手机号码，能有效地防止机器以及羊毛党手工刷奖的行为</p>
                                            
                                            <span class="target hoverIcon"></span>
                                        </span>
                                    </div>
                                    <div class="content flex-1">
                                        <div class="main"><input id="noLimitGift" ng-model="game._setting.giftPreCount" ng-value="::0" type="radio" name="noLimitGift" /><label for="noLimitGift">初级</label>
                                        <input id="imgLimitGift" ng-model="game._setting.giftPreCount" ng-value="::1" type="radio" name="imgLimitGift" checked/><label for="imgLimitGift">中级</label>
                                        
                                        <input id="msgLimitGift" ng-model="game._setting.giftPreCount" ng-value="::2" type="radio" name="msgLimitGift" disabled /><label for="msgLimitGift" onclick="showSmsTips()" >高级</label>
                                        </div>
                                        <div ed-show="game._setting.giftPreCount==2">
                                            <div class="predictMsg">预计需要短信：<span id="giftPdtAmount"></span> 条</div>
                                            <div class="remainedMsg">帐号剩余短信：<span id="rmdAmount">0</span> 条</div>
                                            <div class="rechargeWarn inputErrMsg hide">帐号剩余短信不足，请尽快充值！</div>
                                            <div class="tipsColor">温馨提示：请保证活动时间内帐号中有充足的短信剩余数量（建议是全部奖品数量的两倍），否则可能出现玩家无法兑换礼品的情况。</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
            <div id="editActBg"></div>
        </div>
    </div>
    <form id="downloadExcel" action='' method="post" style="display:none">
        <input  name="_TOKEN" type="hidden" value="4f93289c2e0fe48f6e89b6c7f3e8fb7f" />
    </form>
</div>
<script type="text/javascript">
    var game = {"_flag":{"$type":"flag","f8388608":false,"f1048576":false,"f1073741824":false,"f1024":false,"f32":false,"f8":false,"f16":false,"f262144":false,"f16777216":false,"f524288":false,"f33554432":false,"f2":true,"f4":true,"f134217728":false,"f65536":true,"f8192":true,"f4096":true,"f128":false,"f131072":false,"f4194304":false,"f256":false,"f2048":true,"f536870912":false,"f2097152":false,"f268435456":false},"createTime":1535708071000,"player":1,"gameType":0,"buy":false,"img":"//d1.faiusr.com/2/AAEIABACGAAgjJnK1wUogNjluQQwwgM4_gE.jpg","appid":"","$$qrImgCompanyDef":"img/qrcodeImg.jpg","aid":17472084,"endTime":1536312840000,"id":4,"startTime":1535708040000,"$$playerLimit":100,"style":75,"$giftNumList":[],"name":"活动","$$byPlayerLimit":10000,"$$shareLimit":100,"_setting":{"$type":"json","nodrawcontact":"[{\"name\":\"姓名\",\"key\":\"ausername\",\"isOpen\":true},{\"name\":\"联系电话\",\"key\":\"aphone\",\"isOpen\":true},{\"name\":\"联系地址\",\"key\":\"aadress\",\"isOpen\":false}]","gametimenum":0,"modId":479,"linkInfoAll":true,"inviteTimeLimit":10,"advertisingNumber":1,"gameunit":"分","dtl":30,"strp":"//hdg.faisys.com/image/xydzp/startBtn.png","accessrule":-1,"winningMode":0,"drawLimit":0,"advertisingDisplayModel":1,"skl":"http://mp.weixin.qq.com/s?__biz=MjM5MTk5MjI3OA==&mid=209854000&idx=1&sn=82241d924839270d3ea820ad2d56c01b#wechat_redirect","lsn":100,"skn":"凡科互动","vrn":0,"rankshownum":100,"addDrawTime":1,"advertisingTime":3,"vjn":0,"awardTimesLimit":1,"winningCycle":0,"drawTotal":6,"winningRate":"100","hbPreCount":1,"modgameid":153,"ls":1,"tplId":-1,"ljn":100,"playTimesLimit":5,"modaid":8171176,"linkInfotype":1,"hn":"-","partnerType":0,"gametimetype":1,"lrn":100,"hl":"","helpType":1,"areaLimitList":[],"rule":"{\"consume\":1,\"expPlayer\":100,\"expAward\":100}","ml":"","rulesortstr":"abcde","hlg":"img/nopic.jpg","apropIdx":0,"rankshowtype":1,"ms":3,"limg":"img/nopic.jpg","hWS":"img/l_xydzp.jpg?v=201508111845","accesspopuptitle":"输入访问密钥后进入活动","mun":"关注我们","skillsptype":2,"al":"","playTotalLimit":10,"an":8,"ep":"点击\u201C开始\u201D转盘开始转动，最终指针指着的即为您所中的奖品。","gameunit_def":"分","ae":"","ph_sbtn":"","jncolordef":"rgb(250, 82, 8)","jnfsize":"0.6rem","p_jn":"{\"top\":\"0rem\",\"left\":\"3.6rem\"}","jlfsizedef":"0.6rem","jlscolor":"rgb(255, 255, 255) 1px 0px 0px, rgb(255, 255, 255) -1px 0px 0px, rgb(255, 255, 255) 0px 1px 0px, rgb(255, 255, 255) 0px -1px 0px","jncolor":"rgb(250, 82, 8)","s_sbtn":"{\"width\":\"5.6rem\",\"height\":\"6.45rem\"}","jlcolor":"rgb(250, 82, 8)","p_di":"{\"top\":\"1.25rem\",\"left\":\"2.5rem\"}","jnscolordef":"rgb(255, 255, 255) 1px 0px 0px, rgb(255, 255, 255) -1px 0px 0px, rgb(255, 255, 255) 0px 1px 0px, rgb(255, 255, 255) 0px -1px 0px","jlfsize":"0.6rem","jnscolor":"rgb(255, 255, 255) 1px 0px 0px, rgb(255, 255, 255) -1px 0px 0px, rgb(255, 255, 255) 0px 1px 0px, rgb(255, 255, 255) 0px -1px 0px","jlcolordef":"rgb(250, 82, 8)","ph_aicon":"https://hdg.faisys.com/image/ruleImg_yellow.png","p_aicon":"{\"left\":\"12.85rem\",\"top\":\"0.15rem\"}","jnfsizedef":"0.6rem","jlscolordef":"rgb(255, 255, 255) 1px 0px 0px, rgb(255, 255, 255) -1px 0px 0px, rgb(255, 255, 255) 0px 1px 0px, rgb(255, 255, 255) 0px -1px 0px","p_sbtn":"{\"left\":\"0rem\",\"top\":\"4.05rem\"}","soundList":"[{\"path\":\"//hdg.faisys.com/image/jrdpd/bgmusic04H.mp3\",\"fileName\":\"背景音乐.mp3\",\"optFlag\":0},{\"path\":\"//hdg.faisys.com/image/zhuanpan/zhuanpan.mp3\",\"fileName\":\"转盘音效.mp3\",\"optFlag\":2}]","gtopcoldef":"","gtopicondef":"","gtopbgdef":"","_rule":{"consume":1,"expPlayer":100,"expAward":100},"$mun1":"企业官网","$mun2":"关注我们","oldWinningCycle":0,"propList":"[{\"name\":\"homeBoxBg\",\"path\":[\"https://hdg.faisys.com/image/xydzp/homeBg.jpg\"],\"showPath\":[1],\"css\":[{\"css\":[{\"opt\":0,\"val\":\"#fe675f\",\"defVal\":\"#fe675f\",\"tra\":1,\"defTra\":1}],\"opt\":0}]},{\"name\":\"titleBox\",\"pos\":{\"left\":\"0.55rem\",\"top\":\"1rem\"},\"size\":{\"width\":\"14.7rem\",\"height\":\"5.8rem\"},\"path\":[\"//hdg.faisys.com/image/xydzp/title.png\"]},{\"name\":\"xydzpGetPricePic\",\"pos\":{\"left\":\"2rem\",\"top\":\"3rem\"},\"size\":{\"width\":\"12.2rem\",\"height\":\"15.2rem\"},\"path\":[[\"//hdg.faisys.com/image/xydzp/xydzpFailImg.png\"]]},{\"name\":\"rotatePan\",\"path\":[\"//hdg.faisys.com/image/xydzp/rotatePan.png\"]},{\"name\":\"deviceLine\",\"path\":[\"//hdg.faisys.com/image/xydzp/device.png\"]},{\"name\":\"zp1\",\"path\":[\"//hdg.faisys.com/image/xydzp/zp1.png\"]},{\"name\":\"zp2\",\"path\":[\"//hdg.faisys.com/image/xydzp/zp2.png\"]},{\"name\":\"zp3\",\"path\":[\"//hdg.faisys.com/image/xydzp/zp3.png\"]},{\"name\":\"zp4\",\"path\":[\"//hdg.faisys.com/image/xydzp/zp4.png\"]},{\"name\":\"zp5\",\"path\":[\"//hdg.faisys.com/image/xydzp/zp5.png\"]},{\"name\":\"zp6\",\"path\":[\"//hdg.faisys.com/image/xydzp/zp6.png\"]},{\"name\":\"zp7\",\"path\":[\"//hdg.faisys.com/image/xydzp/zp7.png\"]},{\"name\":\"zp8\",\"path\":[\"//hdg.faisys.com/image/xydzp/zp8.png\"]},{\"name\":\"zp900\",\"path\":[\"//hdg.faisys.com/image/xydzp/zp900.png\"]},{\"name\":\"zp0\",\"path\":[\"//hdg.faisys.com/image/xydzp/zp0.png\"]},{\"name\":\"wrap\"},{\"name\":\"myAwardImg\",\"path\":[\"https://hdg.faisys.com/image/xydzp/myAwardImg.png\"]},{\"name\":\"contactInfoImg\",\"path\":[\"https://hdg.faisys.com/image/xydzp/contactInfoImg.png\"]},{\"name\":\"activeRuleImg\",\"path\":[\"https://hdg.faisys.com/image/xydzp/activeRuleImg.png\"]},{\"name\":\"xydzptwoImg\",\"pos\":{\"left\":\"0rem\",\"top\":\"0rem\"},\"size\":{\"width\":\"4rem\",\"height\":\"4rem\"},\"path\":[[\"//hdg.faisys.com/image/xydzp/againImg.png\"]]},{\"name\":\"xydzpAgainImg\",\"pos\":{\"left\":\"4.5rem\",\"top\":\"14.5rem\"},\"size\":{\"width\":\"6.8rem\",\"height\":\"2rem\"},\"path\":[[\"//hdg.faisys.com/image/xydzp/againImg.png\"]]},{\"name\":\"xydzpCloseImg\",\"pos\":{\"left\":\"4.5rem\",\"top\":\"14.5rem\"},\"size\":{\"width\":\"6.8rem\",\"height\":\"2rem\"},\"path\":[[\"//hdg.faisys.com/image/xydzp/closeImg.png\"]]},{\"name\":\"seeAwardDetailImg\",\"size\":{\"width\":\"7.3rem\",\"height\":\"2.5rem\"},\"path\":[[\"https://hdg.faisys.com/image/xydzp/seeAwardDetailImg.png\"]]},{\"name\":\"successBgImgBox\",\"pos\":{\"left\":\"1.5rem\",\"top\":\"0rem\"},\"size\":{\"width\":\"13rem\",\"height\":\"17.8rem\"},\"path\":[[\"//hdg.faisys.com/image/xydzp/successBgImg.png\"]]},{\"name\":\"ruleBox\",\"css\":[{\"css\":[{\"opt\":0,\"val\":15,\"defVal\":15},{\"opt\":0,\"val\":\"#fff\",\"defVal\":\"#fff\",\"tra\":-1,\"defTra\":-1},{\"opt\":0,\"val\":\"\",\"defVal\":\"\"}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":14,\"defVal\":14},{\"opt\":0,\"val\":\"#fff\",\"defVal\":\"#fff\",\"tra\":-1,\"defTra\":-1},{\"opt\":0,\"val\":\"\",\"defVal\":\"\"}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":\"#fe675f\",\"defVal\":\"#fe675f\",\"tra\":-1,\"defTra\":-1}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":\"#fff\",\"defVal\":\"#fff\"}],\"opt\":0}]},{\"name\":\"drawInfo\",\"pos\":{\"left\":\"2.5rem\",\"top\":\"1.25rem\"},\"css\":[{\"css\":[{\"opt\":0,\"val\":12,\"defVal\":12},{\"opt\":0,\"val\":\"#fa5208\",\"defVal\":\"#fa5208\",\"tra\":-1,\"defTra\":-1},{\"opt\":0,\"val\":\"\",\"defVal\":\"\"}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":12,\"defVal\":12},{\"opt\":0,\"val\":\"#fa5208\",\"defVal\":\"#fa5208\",\"tra\":-1,\"defTra\":-1},{\"opt\":0,\"val\":\"\",\"defVal\":\"\"}],\"opt\":0}]},{\"name\":\"myAwardBox\",\"css\":[{\"css\":[{\"opt\":0,\"val\":15,\"defVal\":15},{\"opt\":0,\"val\":\"#fff\",\"defVal\":\"#fff\",\"tra\":-1,\"defTra\":-1},{\"opt\":0,\"val\":\"\",\"defVal\":\"\"}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":15,\"defVal\":15},{\"opt\":0,\"val\":\"#fffc00\",\"defVal\":\"#fffc00\",\"tra\":-1,\"defTra\":-1},{\"opt\":0,\"val\":\"\",\"defVal\":\"\"}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":\"#fe675f\",\"defVal\":\"#fe675f\",\"tra\":-1,\"defTra\":-1}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":\"#fff\",\"defVal\":\"#fff\"}],\"opt\":0}]},{\"name\":\"awardContactInfo\",\"css\":[{\"css\":[{\"opt\":0,\"val\":15,\"defVal\":15},{\"opt\":0,\"val\":\"#fff\",\"defVal\":\"#fff\",\"tra\":-1,\"defTra\":-1},{\"opt\":0,\"val\":\"\",\"defVal\":\"\"}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":15,\"defVal\":15},{\"opt\":0,\"val\":\"#fffc00\",\"defVal\":\"#fffc00\",\"tra\":-1,\"defTra\":-1},{\"opt\":0,\"val\":\"\",\"defVal\":\"\"}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":\"#fe675f\",\"defVal\":\"#fe675f\",\"tra\":-1,\"defTra\":-1}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":\"#fff\",\"defVal\":\"#fff\"}],\"opt\":0}]},{\"name\":\"WinnersBox\",\"css\":[{\"css\":[{\"opt\":0,\"val\":15,\"defVal\":15},{\"opt\":0,\"val\":\"#fff\",\"defVal\":\"#fff\",\"tra\":-1,\"defTra\":-1},{\"opt\":0,\"val\":\"\",\"defVal\":\"\"}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":15,\"defVal\":15},{\"opt\":0,\"val\":\"#fffc00\",\"defVal\":\"#fffc00\",\"tra\":-1,\"defTra\":-1},{\"opt\":0,\"val\":\"\",\"defVal\":\"\"}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":\"#fe675f\",\"defVal\":\"#fe675f\",\"tra\":-1,\"defTra\":-1}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":\"#fff\",\"defVal\":\"#fff\"}],\"opt\":0}]},{\"name\":\"giftFoot\",\"css\":[{\"css\":[{\"opt\":0,\"val\":18,\"defVal\":18},{\"opt\":0,\"val\":\"#ff6b3a\",\"defVal\":\"#ff6b3a\",\"tra\":-1,\"defTra\":-1},{\"opt\":0,\"val\":\"\",\"defVal\":\"\"}],\"opt\":0},{\"css\":[{\"opt\":0,\"val\":18,\"defVal\":18},{\"opt\":0,\"val\":\"#ff6b3a\",\"defVal\":\"#ff6b3a\",\"tra\":-1,\"defTra\":-1},{\"opt\":0,\"val\":\"\",\"defVal\":\"\"}],\"opt\":0}]},{\"name\":\"theGetPricePic\",\"pos\":{\"left\":\"0rem\",\"top\":\"0rem\"},\"size\":{\"width\":\"4rem\",\"height\":\"4rem\"},\"path\":[[\"//hdg.faisys.com/image/faiImg1-2.png\"]]},{\"name\":\"theGetPricePicTwo\",\"pos\":{\"left\":\"0rem\",\"top\":\"0rem\"},\"size\":{\"width\":\"4rem\",\"height\":\"4rem\"},\"path\":[[\"//hdg.faisys.com/image/faiImg2-2.png\"]]},{\"name\":\"theGetPricePicThree\",\"pos\":{\"left\":\"0rem\",\"top\":\"0rem\"},\"size\":{\"width\":\"4rem\",\"height\":\"4rem\"},\"path\":[[\"//hdg.faisys.com/image/faiImg3-2.png\"]]},{\"name\":\"lotsPot\",\"pos\":{\"left\":\"4.9rem\",\"top\":\"3rem\"},\"size\":{\"width\":\"6.15rem\",\"height\":\"12.4rem\"},\"path\":[[\"//hdg.faisys.com/image/lots1.png\"]]},{\"name\":\"lotsShakeHand\",\"pos\":{\"left\":\"4.5rem\",\"top\":\"17.9rem\"}},{\"name\":\"advertising\",\"path\":[[\"https://hdg.faisys.com/image/gg.jpg\"],[\"https://hdg.faisys.com/image/gg.jpg\"],[\"https://hdg.faisys.com/image/gg.jpg\"],[\"https://hdg.faisys.com/image/gg.jpg\"]]}]","oldWinningRate":100,"s_aicon":"{\"width\":\"3rem\",\"height\":\"3rem\"}","s_tti":"{\"width\":\"16rem\",\"height\":\"7.5rem\"}","jumpType":1,"ph_tti":"","giftPreCount":1,"p_sicon":"{\"left\":\"0.75rem\",\"top\":\"1rem\"}","comfort":"{\"hbtype\":0,\"comoptx\":false,\"comservicephone\":\"\",\"comattentionimg\":\"\",\"comcashinfo\":\"\",\"comimgw\":\"4.6rem\",\"comcet\":1536335999000,\"pot\":0,\"comLimitNum\":false,\"amount\":0,\"comimg\":\"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034\",\"excelName\":\"\",\"combtn\":\"了解更多\",\"cas\":\"安慰奖\",\"ctlmt\":\"[8]\",\"combtl\":\"\",\"comtxn\":\"兑奖须知\",\"floatBegin\":500,\"hbAverage\":1000,\"ca\":\"价值5元小礼品\",\"floatEnd\":1500,\"comcontinfo\":3,\"comNeedLessConsume\":false,\"comimgh\":\"5.8rem\",\"comiscuscode\":false,\"ccc\":\"\",\"cttype\":\"DATE_TYPE_FIX_TIME_RANGE\",\"comfbt\":0,\"comattention\":1,\"comcbt\":1535644800000,\"comtxc\":\"联系商家出示兑奖码\",\"comoci\":false,\"comModNum\":0,\"genewxcard\":false,\"comAwardtype\":2,\"comft\":30,\"comstl\":\"\",\"comOplink\":false,\"comoct\":false,\"comopti\":\"凭券联系现场工作人员兑奖\",\"conlinect\":1,\"comNum\":0,\"comiscancelver\":false,\"comcashtype\":2,\"comcashsite\":\"请填写您的兑奖地址或者门店地址\",\"comOpqrc\":true,\"comStoreType\":1,\"cc\":\"\"}","hblimit":50000,"max_an":8,"p_tti":"{\"left\":\"0rem\",\"top\":\"0rem\"}","_nodrawcontact":[{"name":"姓名","key":"ausername","isOpen":true},{"name":"联系电话","key":"aphone","isOpen":true},{"name":"联系地址","key":"aadress","isOpen":false}],"$customUnit":false},"$$qrImgAwardDef":"img/qrcodeImg.jpg","prop1":"0","prop0":0,"isOldSkill":false,"templateId":-1,"$$qrImgPathDef":"img/qrcodeImg.jpg","_flagC":{"$type":"flag","f262144":false,"f4096":false,"f32":true,"f131072":false,"f536870912":false,"f2048":false,"f134217728":false,"f524288":false,"f268435456":false,"f4":false},"_flagB":{"$type":"flag","f512":false,"f1048576":false,"f256":true,"f2048":true,"f16384":false,"f134217728":false,"f524288":false,"f32768":false,"f64":false,"f268435456":false,"f8192":false},"_awardList":[{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-07 23:59:59","amount":1000,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"一等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值100元礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-08-31 00:00:00","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":1,"payment":1,"passwordrednum":100,"giftType":41,"jzCouponId":-1,"isOpenHostInfo":true,"offset":0,"giftTypeItem":{"val":41,"name":"爱奇艺黄金会员（月卡）"},"cloneStores":[],"$$theCusAwardStatus":1,"$$thisLevelCuscode":"","$isExcelCode":false},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-07 23:59:59","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"二等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值50元礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-08-31 00:00:00","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":2,"payment":1,"passwordrednum":100,"isOpenHostInfo":true,"offset":0,"cloneStores":[],"$$theCusAwardStatus":1,"$$thisLevelCuscode":"","$isExcelCode":false},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-07 23:59:59","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"三等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值10元礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-08-31 00:00:00","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":3,"payment":1,"passwordrednum":100,"isOpenHostInfo":true,"offset":0,"cloneStores":[],"$$theCusAwardStatus":1,"$$thisLevelCuscode":"","$isExcelCode":false},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-07 23:59:59","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"四等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值5元小礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-08-31 00:00:00","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":4,"payment":1,"passwordrednum":100,"isOpenHostInfo":true,"offset":0,"cloneStores":[],"$$theCusAwardStatus":1,"$$thisLevelCuscode":"","$isExcelCode":false},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-07 23:59:59","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"企业官网","style":"五等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值5元小礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-08-31 00:00:00","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":5,"payment":1,"passwordrednum":100,"isOpenHostInfo":false,"offset":0,"cloneStores":[],"$$theCusAwardStatus":1,"$$thisLevelCuscode":"","$isExcelCode":false},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-07 23:59:59","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"六等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值5元小礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-08-31 00:00:00","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":6,"payment":1,"passwordrednum":100,"isOpenHostInfo":true,"offset":0,"cloneStores":[],"$$theCusAwardStatus":1,"$$thisLevelCuscode":"","$isExcelCode":false},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-07 23:59:59","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"七等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值5元小礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-08-31 00:00:00","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":7,"payment":1,"passwordrednum":100,"isOpenHostInfo":true,"offset":0,"cloneStores":[],"$$theCusAwardStatus":1,"$$thisLevelCuscode":"","$isExcelCode":false},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-07 23:59:59","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"八等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值5元小礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-08-31 00:00:00","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":8,"payment":1,"passwordrednum":100,"isOpenHostInfo":true,"offset":0,"cloneStores":[],"$$theCusAwardStatus":1,"$$thisLevelCuscode":"","$isExcelCode":false},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-07 23:59:59","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"安慰奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值5元小礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-08-31 00:00:00","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"comLimitNum":false,"comNum":0,"ccc":"","comModNum":0,"cc":"","cloneStores":[],"$$theCusAwardStatus":1,"$$thisLevelCuscode":"","$isExcelCode":false}],"drawNum":8,"srcid":-1,"ver":0,"partnerType":0,"areaId":0,"otherReplaceNum":0,"setting":"{\"nodrawcontact\":\"[{\\\"name\\\":\\\"姓名\\\",\\\"key\\\":\\\"ausername\\\",\\\"isOpen\\\":true},{\\\"name\\\":\\\"联系电话\\\",\\\"key\\\":\\\"aphone\\\",\\\"isOpen\\\":true},{\\\"name\\\":\\\"联系地址\\\",\\\"key\\\":\\\"aadress\\\",\\\"isOpen\\\":false}]\",\"gametimenum\":30,\"modId\":479,\"linkInfoAll\":true,\"inviteTimeLimit\":10,\"advertisingNumber\":1,\"gameunit\":\"分\",\"dtl\":30,\"strp\":\"//hdg.faisys.com/image/xydzp/startBtn.png\",\"accessrule\":-1,\"winningMode\":0,\"drawLimit\":0,\"advertisingDisplayModel\":1,\"skl\":\"http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMjM5MTk5MjI3OA%3D%3D%26mid%3D209854000%26idx%3D1%26sn%3D82241d924839270d3ea820ad2d56c01b%23wechat_redirect\",\"lsn\":100,\"skn\":\"凡科互动\",\"vrn\":0,\"rankshownum\":100,\"addDrawTime\":1,\"advertisingTime\":3,\"vjn\":0,\"awardTimesLimit\":1,\"winningCycle\":0,\"drawTotal\":6,\"winningRate\":\"100\",\"hbPreCount\":1,\"modgameid\":153,\"ls\":1,\"tplId\":-1,\"ljn\":100,\"playTimesLimit\":5,\"modaid\":8171176,\"linkInfotype\":1,\"hn\":\"-\",\"partnerType\":0,\"gametimetype\":1,\"lrn\":100,\"hl\":\"\",\"helpType\":1,\"areaLimitList\":[],\"rule\":\"{\\\"consume\\\":1,\\\"expPlayer\\\":100,\\\"expAward\\\":100}\",\"ml\":\"\",\"rulesortstr\":\"abcde\",\"apropIdx\":0,\"rankshowtype\":1,\"ms\":3,\"limg\":\"img/nopic.jpg\",\"hWS\":\"img/l_xydzp.jpg?v=201508111845\",\"accesspopuptitle\":\"输入访问密钥后进入活动\",\"mun\":\"关注我们\",\"skillsptype\":2,\"al\":\"\",\"playTotalLimit\":10,\"an\":8,\"ep\":\"点击\\u201C开始\\u201D转盘开始转动，最终指针指着的即为您所中的奖品。\",\"gameunit_def\":\"分\",\"ae\":\"\",\"ph_sbtn\":\"\",\"jncolordef\":\"rgb(250, 82, 8)\",\"jnfsize\":\"0.6rem\",\"p_jn\":\"{\\\"top\\\":\\\"0rem\\\",\\\"left\\\":\\\"3.6rem\\\"}\",\"jlfsizedef\":\"0.6rem\",\"jlscolor\":\"rgb(255, 255, 255) 1px 0px 0px, rgb(255, 255, 255) -1px 0px 0px, rgb(255, 255, 255) 0px 1px 0px, rgb(255, 255, 255) 0px -1px 0px\",\"jncolor\":\"rgb(250, 82, 8)\",\"s_sbtn\":\"{\\\"width\\\":\\\"5.6rem\\\",\\\"height\\\":\\\"6.45rem\\\"}\",\"jlcolor\":\"rgb(250, 82, 8)\",\"p_di\":\"{\\\"top\\\":\\\"1.25rem\\\",\\\"left\\\":\\\"2.5rem\\\"}\",\"jnscolordef\":\"rgb(255, 255, 255) 1px 0px 0px, rgb(255, 255, 255) -1px 0px 0px, rgb(255, 255, 255) 0px 1px 0px, rgb(255, 255, 255) 0px -1px 0px\",\"jlfsize\":\"0.6rem\",\"jnscolor\":\"rgb(255, 255, 255) 1px 0px 0px, rgb(255, 255, 255) -1px 0px 0px, rgb(255, 255, 255) 0px 1px 0px, rgb(255, 255, 255) 0px -1px 0px\",\"jlcolordef\":\"rgb(250, 82, 8)\",\"ph_aicon\":\"https://hdg.faisys.com/image/ruleImg_yellow.png\",\"p_aicon\":\"{\\\"left\\\":\\\"12.85rem\\\",\\\"top\\\":\\\"0.15rem\\\"}\",\"jnfsizedef\":\"0.6rem\",\"jlscolordef\":\"rgb(255, 255, 255) 1px 0px 0px, rgb(255, 255, 255) -1px 0px 0px, rgb(255, 255, 255) 0px 1px 0px, rgb(255, 255, 255) 0px -1px 0px\",\"p_sbtn\":\"{\\\"left\\\":\\\"0rem\\\",\\\"top\\\":\\\"4.05rem\\\"}\",\"soundList\":\"[{\\\"path\\\":\\\"//hdg.faisys.com/image/jrdpd/bgmusic04H.mp3\\\",\\\"fileName\\\":\\\"背景音乐.mp3\\\",\\\"optFlag\\\":0},{\\\"path\\\":\\\"//hdg.faisys.com/image/zhuanpan/zhuanpan.mp3\\\",\\\"fileName\\\":\\\"转盘音效.mp3\\\",\\\"optFlag\\\":2}]\",\"gtopcoldef\":\"\",\"gtopicondef\":\"\",\"gtopbgdef\":\"\",\"comfort\":\"{\\\"hbtype\\\":0,\\\"comoptx\\\":false,\\\"comservicephone\\\":\\\"\\\",\\\"comattentionimg\\\":\\\"\\\",\\\"comcashinfo\\\":\\\"\\\",\\\"comimgw\\\":\\\"4.6rem\\\",\\\"comcet\\\":1536335999000,\\\"pot\\\":0,\\\"comLimitNum\\\":false,\\\"amount\\\":0,\\\"comimg\\\":\\\"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034\\\",\\\"excelName\\\":\\\"\\\",\\\"combtn\\\":\\\"了解更多\\\",\\\"cas\\\":\\\"安慰奖\\\",\\\"ctlmt\\\":\\\"[8]\\\",\\\"combtl\\\":\\\"\\\",\\\"comtxn\\\":\\\"兑奖须知\\\",\\\"floatBegin\\\":500,\\\"hbAverage\\\":1000,\\\"ca\\\":\\\"价值5元小礼品\\\",\\\"floatEnd\\\":1500,\\\"comcontinfo\\\":3,\\\"comNeedLessConsume\\\":false,\\\"comimgh\\\":\\\"5.8rem\\\",\\\"comiscuscode\\\":false,\\\"ccc\\\":\\\"\\\",\\\"cttype\\\":\\\"DATE_TYPE_FIX_TIME_RANGE\\\",\\\"comfbt\\\":0,\\\"comattention\\\":1,\\\"comcbt\\\":1535644800000,\\\"comtxc\\\":\\\"联系商家出示兑奖码\\\",\\\"comoci\\\":false,\\\"comModNum\\\":0,\\\"genewxcard\\\":false,\\\"comAwardtype\\\":2,\\\"comft\\\":30,\\\"comstl\\\":\\\"\\\",\\\"comOplink\\\":false,\\\"comoct\\\":false,\\\"comopti\\\":\\\"凭券联系现场工作人员兑奖\\\",\\\"conlinect\\\":1,\\\"comNum\\\":0,\\\"comiscancelver\\\":false,\\\"comcashtype\\\":2,\\\"comcashsite\\\":\\\"请填写您的兑奖地址或者门店地址\\\",\\\"comOpqrc\\\":true,\\\"comStoreType\\\":1,\\\"cc\\\":\\\"\\\"}\",\"hblimit\":50000,\"max_an\":8,\"giftPreCount\":1,\"oldWinningRate\":100,\"oldWinningCycle\":0,\"p_tti\":\"{\\\"left\\\":\\\"0rem\\\",\\\"top\\\":\\\"0rem\\\"}\",\"s_tti\":\"{\\\"width\\\":\\\"16rem\\\",\\\"height\\\":\\\"7.5rem\\\"}\",\"ph_tti\":\"\",\"s_aicon\":\"{\\\"width\\\":\\\"3rem\\\",\\\"height\\\":\\\"3rem\\\"}\",\"p_sicon\":\"{\\\"left\\\":\\\"0.75rem\\\",\\\"top\\\":\\\"1rem\\\"}\",\"propList\":\"[{\\\"name\\\":\\\"homeBoxBg\\\",\\\"path\\\":[\\\"https://hdg.faisys.com/image/xydzp/homeBg.jpg\\\"],\\\"showPath\\\":[1],\\\"css\\\":[{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":\\\"#fe675f\\\",\\\"defVal\\\":\\\"#fe675f\\\",\\\"tra\\\":1,\\\"defTra\\\":1}],\\\"opt\\\":0}]},{\\\"name\\\":\\\"titleBox\\\",\\\"pos\\\":{\\\"left\\\":\\\"0.55rem\\\",\\\"top\\\":\\\"1rem\\\"},\\\"size\\\":{\\\"width\\\":\\\"14.7rem\\\",\\\"height\\\":\\\"5.8rem\\\"},\\\"path\\\":[\\\"//hdg.faisys.com/image/xydzp/title.png\\\"]},{\\\"name\\\":\\\"xydzpGetPricePic\\\",\\\"pos\\\":{\\\"left\\\":\\\"2rem\\\",\\\"top\\\":\\\"3rem\\\"},\\\"size\\\":{\\\"width\\\":\\\"12.2rem\\\",\\\"height\\\":\\\"15.2rem\\\"},\\\"path\\\":[[\\\"//hdg.faisys.com/image/xydzp/xydzpFailImg.png\\\"]]},{\\\"name\\\":\\\"rotatePan\\\",\\\"path\\\":[\\\"//hdg.faisys.com/image/xydzp/rotatePan.png\\\"]},{\\\"name\\\":\\\"deviceLine\\\",\\\"path\\\":[\\\"//hdg.faisys.com/image/xydzp/device.png\\\"]},{\\\"name\\\":\\\"zp1\\\",\\\"path\\\":[\\\"//hdg.faisys.com/image/xydzp/zp1.png\\\"]},{\\\"name\\\":\\\"zp2\\\",\\\"path\\\":[\\\"//hdg.faisys.com/image/xydzp/zp2.png\\\"]},{\\\"name\\\":\\\"zp3\\\",\\\"path\\\":[\\\"//hdg.faisys.com/image/xydzp/zp3.png\\\"]},{\\\"name\\\":\\\"zp4\\\",\\\"path\\\":[\\\"//hdg.faisys.com/image/xydzp/zp4.png\\\"]},{\\\"name\\\":\\\"zp5\\\",\\\"path\\\":[\\\"//hdg.faisys.com/image/xydzp/zp5.png\\\"]},{\\\"name\\\":\\\"zp6\\\",\\\"path\\\":[\\\"//hdg.faisys.com/image/xydzp/zp6.png\\\"]},{\\\"name\\\":\\\"zp7\\\",\\\"path\\\":[\\\"//hdg.faisys.com/image/xydzp/zp7.png\\\"]},{\\\"name\\\":\\\"zp8\\\",\\\"path\\\":[\\\"//hdg.faisys.com/image/xydzp/zp8.png\\\"]},{\\\"name\\\":\\\"zp900\\\",\\\"path\\\":[\\\"//hdg.faisys.com/image/xydzp/zp900.png\\\"]},{\\\"name\\\":\\\"zp0\\\",\\\"path\\\":[\\\"//hdg.faisys.com/image/xydzp/zp0.png\\\"]},{\\\"name\\\":\\\"wrap\\\"},{\\\"name\\\":\\\"myAwardImg\\\",\\\"path\\\":[\\\"https://hdg.faisys.com/image/xydzp/myAwardImg.png\\\"]},{\\\"name\\\":\\\"contactInfoImg\\\",\\\"path\\\":[\\\"https://hdg.faisys.com/image/xydzp/contactInfoImg.png\\\"]},{\\\"name\\\":\\\"activeRuleImg\\\",\\\"path\\\":[\\\"https://hdg.faisys.com/image/xydzp/activeRuleImg.png\\\"]},{\\\"name\\\":\\\"xydzptwoImg\\\",\\\"pos\\\":{\\\"left\\\":\\\"0rem\\\",\\\"top\\\":\\\"0rem\\\"},\\\"size\\\":{\\\"width\\\":\\\"4rem\\\",\\\"height\\\":\\\"4rem\\\"},\\\"path\\\":[[\\\"//hdg.faisys.com/image/xydzp/againImg.png\\\"]]},{\\\"name\\\":\\\"xydzpAgainImg\\\",\\\"pos\\\":{\\\"left\\\":\\\"4.5rem\\\",\\\"top\\\":\\\"14.5rem\\\"},\\\"size\\\":{\\\"width\\\":\\\"6.8rem\\\",\\\"height\\\":\\\"2rem\\\"},\\\"path\\\":[[\\\"//hdg.faisys.com/image/xydzp/againImg.png\\\"]]},{\\\"name\\\":\\\"xydzpCloseImg\\\",\\\"pos\\\":{\\\"left\\\":\\\"4.5rem\\\",\\\"top\\\":\\\"14.5rem\\\"},\\\"size\\\":{\\\"width\\\":\\\"6.8rem\\\",\\\"height\\\":\\\"2rem\\\"},\\\"path\\\":[[\\\"//hdg.faisys.com/image/xydzp/closeImg.png\\\"]]},{\\\"name\\\":\\\"seeAwardDetailImg\\\",\\\"size\\\":{\\\"width\\\":\\\"7.3rem\\\",\\\"height\\\":\\\"2.5rem\\\"},\\\"path\\\":[[\\\"https://hdg.faisys.com/image/xydzp/seeAwardDetailImg.png\\\"]]},{\\\"name\\\":\\\"successBgImgBox\\\",\\\"pos\\\":{\\\"left\\\":\\\"1.5rem\\\",\\\"top\\\":\\\"0rem\\\"},\\\"size\\\":{\\\"width\\\":\\\"13rem\\\",\\\"height\\\":\\\"17.8rem\\\"},\\\"path\\\":[[\\\"//hdg.faisys.com/image/xydzp/successBgImg.png\\\"]]},{\\\"name\\\":\\\"ruleBox\\\",\\\"css\\\":[{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":15,\\\"defVal\\\":15},{\\\"opt\\\":0,\\\"val\\\":\\\"#fff\\\",\\\"defVal\\\":\\\"#fff\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1},{\\\"opt\\\":0,\\\"val\\\":\\\"\\\",\\\"defVal\\\":\\\"\\\"}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":14,\\\"defVal\\\":14},{\\\"opt\\\":0,\\\"val\\\":\\\"#fff\\\",\\\"defVal\\\":\\\"#fff\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1},{\\\"opt\\\":0,\\\"val\\\":\\\"\\\",\\\"defVal\\\":\\\"\\\"}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":\\\"#fe675f\\\",\\\"defVal\\\":\\\"#fe675f\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":\\\"#fff\\\",\\\"defVal\\\":\\\"#fff\\\"}],\\\"opt\\\":0}]},{\\\"name\\\":\\\"drawInfo\\\",\\\"pos\\\":{\\\"left\\\":\\\"2.5rem\\\",\\\"top\\\":\\\"1.25rem\\\"},\\\"css\\\":[{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":12,\\\"defVal\\\":12},{\\\"opt\\\":0,\\\"val\\\":\\\"#fa5208\\\",\\\"defVal\\\":\\\"#fa5208\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1},{\\\"opt\\\":0,\\\"val\\\":\\\"\\\",\\\"defVal\\\":\\\"\\\"}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":12,\\\"defVal\\\":12},{\\\"opt\\\":0,\\\"val\\\":\\\"#fa5208\\\",\\\"defVal\\\":\\\"#fa5208\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1},{\\\"opt\\\":0,\\\"val\\\":\\\"\\\",\\\"defVal\\\":\\\"\\\"}],\\\"opt\\\":0}]},{\\\"name\\\":\\\"myAwardBox\\\",\\\"css\\\":[{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":15,\\\"defVal\\\":15},{\\\"opt\\\":0,\\\"val\\\":\\\"#fff\\\",\\\"defVal\\\":\\\"#fff\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1},{\\\"opt\\\":0,\\\"val\\\":\\\"\\\",\\\"defVal\\\":\\\"\\\"}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":15,\\\"defVal\\\":15},{\\\"opt\\\":0,\\\"val\\\":\\\"#fffc00\\\",\\\"defVal\\\":\\\"#fffc00\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1},{\\\"opt\\\":0,\\\"val\\\":\\\"\\\",\\\"defVal\\\":\\\"\\\"}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":\\\"#fe675f\\\",\\\"defVal\\\":\\\"#fe675f\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":\\\"#fff\\\",\\\"defVal\\\":\\\"#fff\\\"}],\\\"opt\\\":0}]},{\\\"name\\\":\\\"awardContactInfo\\\",\\\"css\\\":[{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":15,\\\"defVal\\\":15},{\\\"opt\\\":0,\\\"val\\\":\\\"#fff\\\",\\\"defVal\\\":\\\"#fff\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1},{\\\"opt\\\":0,\\\"val\\\":\\\"\\\",\\\"defVal\\\":\\\"\\\"}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":15,\\\"defVal\\\":15},{\\\"opt\\\":0,\\\"val\\\":\\\"#fffc00\\\",\\\"defVal\\\":\\\"#fffc00\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1},{\\\"opt\\\":0,\\\"val\\\":\\\"\\\",\\\"defVal\\\":\\\"\\\"}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":\\\"#fe675f\\\",\\\"defVal\\\":\\\"#fe675f\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":\\\"#fff\\\",\\\"defVal\\\":\\\"#fff\\\"}],\\\"opt\\\":0}]},{\\\"name\\\":\\\"WinnersBox\\\",\\\"css\\\":[{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":15,\\\"defVal\\\":15},{\\\"opt\\\":0,\\\"val\\\":\\\"#fff\\\",\\\"defVal\\\":\\\"#fff\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1},{\\\"opt\\\":0,\\\"val\\\":\\\"\\\",\\\"defVal\\\":\\\"\\\"}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":15,\\\"defVal\\\":15},{\\\"opt\\\":0,\\\"val\\\":\\\"#fffc00\\\",\\\"defVal\\\":\\\"#fffc00\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1},{\\\"opt\\\":0,\\\"val\\\":\\\"\\\",\\\"defVal\\\":\\\"\\\"}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":\\\"#fe675f\\\",\\\"defVal\\\":\\\"#fe675f\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":\\\"#fff\\\",\\\"defVal\\\":\\\"#fff\\\"}],\\\"opt\\\":0}]},{\\\"name\\\":\\\"giftFoot\\\",\\\"css\\\":[{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":18,\\\"defVal\\\":18},{\\\"opt\\\":0,\\\"val\\\":\\\"#ff6b3a\\\",\\\"defVal\\\":\\\"#ff6b3a\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1},{\\\"opt\\\":0,\\\"val\\\":\\\"\\\",\\\"defVal\\\":\\\"\\\"}],\\\"opt\\\":0},{\\\"css\\\":[{\\\"opt\\\":0,\\\"val\\\":18,\\\"defVal\\\":18},{\\\"opt\\\":0,\\\"val\\\":\\\"#ff6b3a\\\",\\\"defVal\\\":\\\"#ff6b3a\\\",\\\"tra\\\":-1,\\\"defTra\\\":-1},{\\\"opt\\\":0,\\\"val\\\":\\\"\\\",\\\"defVal\\\":\\\"\\\"}],\\\"opt\\\":0}]},{\\\"name\\\":\\\"theGetPricePic\\\",\\\"pos\\\":{\\\"left\\\":\\\"0rem\\\",\\\"top\\\":\\\"0rem\\\"},\\\"size\\\":{\\\"width\\\":\\\"4rem\\\",\\\"height\\\":\\\"4rem\\\"},\\\"path\\\":[[\\\"//hdg.faisys.com/image/faiImg1-2.png\\\"]]},{\\\"name\\\":\\\"theGetPricePicTwo\\\",\\\"pos\\\":{\\\"left\\\":\\\"0rem\\\",\\\"top\\\":\\\"0rem\\\"},\\\"size\\\":{\\\"width\\\":\\\"4rem\\\",\\\"height\\\":\\\"4rem\\\"},\\\"path\\\":[[\\\"//hdg.faisys.com/image/faiImg2-2.png\\\"]]},{\\\"name\\\":\\\"theGetPricePicThree\\\",\\\"pos\\\":{\\\"left\\\":\\\"0rem\\\",\\\"top\\\":\\\"0rem\\\"},\\\"size\\\":{\\\"width\\\":\\\"4rem\\\",\\\"height\\\":\\\"4rem\\\"},\\\"path\\\":[[\\\"//hdg.faisys.com/image/faiImg3-2.png\\\"]]},{\\\"name\\\":\\\"lotsPot\\\",\\\"pos\\\":{\\\"left\\\":\\\"4.9rem\\\",\\\"top\\\":\\\"3rem\\\"},\\\"size\\\":{\\\"width\\\":\\\"6.15rem\\\",\\\"height\\\":\\\"12.4rem\\\"},\\\"path\\\":[[\\\"//hdg.faisys.com/image/lots1.png\\\"]]},{\\\"name\\\":\\\"lotsShakeHand\\\",\\\"pos\\\":{\\\"left\\\":\\\"4.5rem\\\",\\\"top\\\":\\\"17.9rem\\\"}},{\\\"name\\\":\\\"advertising\\\",\\\"path\\\":[[\\\"https://hdg.faisys.com/image/gg.jpg\\\"],[\\\"https://hdg.faisys.com/image/gg.jpg\\\"],[\\\"https://hdg.faisys.com/image/gg.jpg\\\"],[\\\"https://hdg.faisys.com/image/gg.jpg\\\"]]}]\",\"jumpType\":1}","share":0,"awardList":"[{\"hbtype\":0,\"optx\":false,\"servicepho\":\"\",\"attentionimg\":\"\",\"aimgw\":\"4.6rem\",\"cashinfo\":\"\",\"pot\":0,\"cet\":1536335999000,\"amount\":1000,\"aimg\":\"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034\",\"excelName\":\"\",\"btn\":\"了解更多\",\"style\":\"一等奖\",\"tlmt\":\"[8]\",\"btl\":\"\",\"txn\":\"兑奖须知\",\"floatBegin\":500,\"hbAverage\":1000,\"name\":\"价值100元礼品\",\"floatEnd\":1500,\"continfo\":3,\"needlessconsume\":false,\"aimgh\":\"5.8rem\",\"iscuscode\":false,\"t_type\":\"DATE_TYPE_FIX_TIME_RANGE\",\"cfbt\":0,\"attention\":1,\"txc\":\"联系商家出示兑奖码\",\"cbt\":1535644800000,\"ocimg\":false,\"genewxcard\":false,\"awardtype\":2,\"stl\":\"\",\"cft\":30,\"oct\":false,\"oplink\":false,\"opti\":\"凭券联系现场工作人员兑奖\",\"onlinect\":1,\"cashtype\":2,\"iscancelver\":false,\"cashsite\":\"请填写您的兑奖地址或者门店地址\",\"storeType\":1,\"opqrc\":true,\"level\":1,\"payment\":1,\"passwordrednum\":100,\"offset\":0,\"isOpenHostInfo\":true,\"giftTypeItem\":{\"val\":41,\"name\":\"爱奇艺黄金会员（月卡）\"},\"giftType\":41,\"jzCouponId\":-1},{\"hbtype\":0,\"optx\":false,\"servicepho\":\"\",\"attentionimg\":\"\",\"aimgw\":\"4.6rem\",\"cashinfo\":\"\",\"pot\":0,\"cet\":1536335999000,\"amount\":0,\"aimg\":\"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034\",\"excelName\":\"\",\"btn\":\"了解更多\",\"style\":\"二等奖\",\"tlmt\":\"[8]\",\"btl\":\"\",\"txn\":\"兑奖须知\",\"floatBegin\":500,\"hbAverage\":1000,\"name\":\"价值50元礼品\",\"floatEnd\":1500,\"continfo\":3,\"needlessconsume\":false,\"aimgh\":\"5.8rem\",\"iscuscode\":false,\"t_type\":\"DATE_TYPE_FIX_TIME_RANGE\",\"cfbt\":0,\"attention\":1,\"txc\":\"联系商家出示兑奖码\",\"cbt\":1535644800000,\"ocimg\":false,\"genewxcard\":false,\"awardtype\":2,\"stl\":\"\",\"cft\":30,\"oct\":false,\"oplink\":false,\"opti\":\"凭券联系现场工作人员兑奖\",\"onlinect\":1,\"cashtype\":2,\"iscancelver\":false,\"cashsite\":\"请填写您的兑奖地址或者门店地址\",\"storeType\":1,\"opqrc\":true,\"level\":2,\"payment\":1,\"passwordrednum\":100,\"offset\":0,\"isOpenHostInfo\":true},{\"hbtype\":0,\"optx\":false,\"servicepho\":\"\",\"attentionimg\":\"\",\"aimgw\":\"4.6rem\",\"cashinfo\":\"\",\"pot\":0,\"cet\":1536335999000,\"amount\":0,\"aimg\":\"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034\",\"excelName\":\"\",\"btn\":\"了解更多\",\"style\":\"三等奖\",\"tlmt\":\"[8]\",\"btl\":\"\",\"txn\":\"兑奖须知\",\"floatBegin\":500,\"hbAverage\":1000,\"name\":\"价值10元礼品\",\"floatEnd\":1500,\"continfo\":3,\"needlessconsume\":false,\"aimgh\":\"5.8rem\",\"iscuscode\":false,\"t_type\":\"DATE_TYPE_FIX_TIME_RANGE\",\"cfbt\":0,\"attention\":1,\"txc\":\"联系商家出示兑奖码\",\"cbt\":1535644800000,\"ocimg\":false,\"genewxcard\":false,\"awardtype\":2,\"stl\":\"\",\"cft\":30,\"oct\":false,\"oplink\":false,\"opti\":\"凭券联系现场工作人员兑奖\",\"onlinect\":1,\"cashtype\":2,\"iscancelver\":false,\"cashsite\":\"请填写您的兑奖地址或者门店地址\",\"storeType\":1,\"opqrc\":true,\"level\":3,\"payment\":1,\"passwordrednum\":100,\"offset\":0,\"isOpenHostInfo\":true},{\"hbtype\":0,\"optx\":false,\"servicepho\":\"\",\"attentionimg\":\"\",\"aimgw\":\"4.6rem\",\"cashinfo\":\"\",\"pot\":0,\"cet\":1536335999000,\"amount\":0,\"aimg\":\"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034\",\"excelName\":\"\",\"btn\":\"了解更多\",\"style\":\"四等奖\",\"tlmt\":\"[8]\",\"btl\":\"\",\"txn\":\"兑奖须知\",\"floatBegin\":500,\"hbAverage\":1000,\"name\":\"价值5元小礼品\",\"floatEnd\":1500,\"continfo\":3,\"needlessconsume\":false,\"aimgh\":\"5.8rem\",\"iscuscode\":false,\"t_type\":\"DATE_TYPE_FIX_TIME_RANGE\",\"cfbt\":0,\"attention\":1,\"txc\":\"联系商家出示兑奖码\",\"cbt\":1535644800000,\"ocimg\":false,\"genewxcard\":false,\"awardtype\":2,\"stl\":\"\",\"cft\":30,\"oct\":false,\"oplink\":false,\"opti\":\"凭券联系现场工作人员兑奖\",\"onlinect\":1,\"cashtype\":2,\"iscancelver\":false,\"cashsite\":\"请填写您的兑奖地址或者门店地址\",\"storeType\":1,\"opqrc\":true,\"level\":4,\"payment\":1,\"passwordrednum\":100,\"offset\":0,\"isOpenHostInfo\":true},{\"hbtype\":0,\"optx\":false,\"servicepho\":\"\",\"attentionimg\":\"\",\"aimgw\":\"4.6rem\",\"cashinfo\":\"\",\"pot\":0,\"cet\":1536335999000,\"amount\":0,\"aimg\":\"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034\",\"excelName\":\"\",\"btn\":\"企业官网\",\"style\":\"五等奖\",\"tlmt\":\"[8]\",\"btl\":\"\",\"txn\":\"兑奖须知\",\"floatBegin\":500,\"hbAverage\":1000,\"name\":\"价值5元小礼品\",\"floatEnd\":1500,\"continfo\":3,\"needlessconsume\":false,\"aimgh\":\"5.8rem\",\"iscuscode\":false,\"t_type\":\"DATE_TYPE_FIX_TIME_RANGE\",\"cfbt\":0,\"attention\":1,\"txc\":\"联系商家出示兑奖码\",\"cbt\":1535644800000,\"ocimg\":false,\"genewxcard\":false,\"awardtype\":2,\"stl\":\"\",\"cft\":30,\"oct\":false,\"oplink\":false,\"opti\":\"凭券联系现场工作人员兑奖\",\"onlinect\":1,\"cashtype\":2,\"iscancelver\":false,\"cashsite\":\"请填写您的兑奖地址或者门店地址\",\"storeType\":1,\"opqrc\":true,\"level\":5,\"payment\":1,\"passwordrednum\":100,\"offset\":0,\"isOpenHostInfo\":false},{\"hbtype\":0,\"optx\":false,\"servicepho\":\"\",\"attentionimg\":\"\",\"aimgw\":\"4.6rem\",\"cashinfo\":\"\",\"pot\":0,\"cet\":1536335999000,\"amount\":0,\"aimg\":\"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034\",\"excelName\":\"\",\"btn\":\"了解更多\",\"style\":\"六等奖\",\"tlmt\":\"[8]\",\"btl\":\"\",\"txn\":\"兑奖须知\",\"floatBegin\":500,\"hbAverage\":1000,\"name\":\"价值5元小礼品\",\"floatEnd\":1500,\"continfo\":3,\"needlessconsume\":false,\"aimgh\":\"5.8rem\",\"iscuscode\":false,\"t_type\":\"DATE_TYPE_FIX_TIME_RANGE\",\"cfbt\":0,\"attention\":1,\"txc\":\"联系商家出示兑奖码\",\"cbt\":1535644800000,\"ocimg\":false,\"genewxcard\":false,\"awardtype\":2,\"stl\":\"\",\"cft\":30,\"oct\":false,\"oplink\":false,\"opti\":\"凭券联系现场工作人员兑奖\",\"onlinect\":1,\"cashtype\":2,\"iscancelver\":false,\"cashsite\":\"请填写您的兑奖地址或者门店地址\",\"storeType\":1,\"opqrc\":true,\"level\":6,\"payment\":1,\"passwordrednum\":100,\"offset\":0,\"isOpenHostInfo\":true},{\"hbtype\":0,\"optx\":false,\"servicepho\":\"\",\"attentionimg\":\"\",\"aimgw\":\"4.6rem\",\"cashinfo\":\"\",\"pot\":0,\"cet\":1536335999000,\"amount\":0,\"aimg\":\"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034\",\"excelName\":\"\",\"btn\":\"了解更多\",\"style\":\"七等奖\",\"tlmt\":\"[8]\",\"btl\":\"\",\"txn\":\"兑奖须知\",\"floatBegin\":500,\"hbAverage\":1000,\"name\":\"价值5元小礼品\",\"floatEnd\":1500,\"continfo\":3,\"needlessconsume\":false,\"aimgh\":\"5.8rem\",\"iscuscode\":false,\"t_type\":\"DATE_TYPE_FIX_TIME_RANGE\",\"cfbt\":0,\"attention\":1,\"txc\":\"联系商家出示兑奖码\",\"cbt\":1535644800000,\"ocimg\":false,\"genewxcard\":false,\"awardtype\":2,\"stl\":\"\",\"cft\":30,\"oct\":false,\"oplink\":false,\"opti\":\"凭券联系现场工作人员兑奖\",\"onlinect\":1,\"cashtype\":2,\"iscancelver\":false,\"cashsite\":\"请填写您的兑奖地址或者门店地址\",\"storeType\":1,\"opqrc\":true,\"level\":7,\"payment\":1,\"passwordrednum\":100,\"offset\":0,\"isOpenHostInfo\":true},{\"hbtype\":0,\"optx\":false,\"servicepho\":\"\",\"attentionimg\":\"\",\"aimgw\":\"4.6rem\",\"cashinfo\":\"\",\"pot\":0,\"cet\":1536335999000,\"amount\":0,\"aimg\":\"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034\",\"excelName\":\"\",\"btn\":\"了解更多\",\"style\":\"八等奖\",\"tlmt\":\"[8]\",\"btl\":\"\",\"txn\":\"兑奖须知\",\"floatBegin\":500,\"hbAverage\":1000,\"name\":\"价值5元小礼品\",\"floatEnd\":1500,\"continfo\":3,\"needlessconsume\":false,\"aimgh\":\"5.8rem\",\"iscuscode\":false,\"t_type\":\"DATE_TYPE_FIX_TIME_RANGE\",\"cfbt\":0,\"attention\":1,\"txc\":\"联系商家出示兑奖码\",\"cbt\":1535644800000,\"ocimg\":false,\"genewxcard\":false,\"awardtype\":2,\"stl\":\"\",\"cft\":30,\"oct\":false,\"oplink\":false,\"opti\":\"凭券联系现场工作人员兑奖\",\"onlinect\":1,\"cashtype\":2,\"iscancelver\":false,\"cashsite\":\"请填写您的兑奖地址或者门店地址\",\"storeType\":1,\"opqrc\":true,\"level\":8,\"payment\":1,\"passwordrednum\":100,\"offset\":0,\"isOpenHostInfo\":true}]","agentAid":0,"reportNum":0,"remainMoney":0,"indexReplaceNum":0,"status":0,"cashNum":0,"flag":79878,"uriToken":"xQt5ecOUnwTxop-fkWLFCw","view":1,"storeId":0,"isModel":0,"flagB":2304,"flagC":66082,"$$scoreType":"达到","$$skillMsg":"需要单独购买 <a class=\"aTips skillLinkToShop\" target=\"_blank\">立即购买<\/a>","$$limitDraw":{"title":"总抽奖机会：","drawTotalMsg1":"每人最多有","drawTotalMsg2":"次"},"$$drawTimes":{"title":"每日抽奖机会：","drawTotalMsg1":"每人每日有","drawTotalMsg2":"次抽奖机会","drawTotalLimitErr":"每日抽奖机会不能大于总抽奖机会"},"$gameTypeName":"抽奖派发","$$isNewSetGame":false,"$$isHaveTimeSetting":false,"$$isHaveScore":false,"$$gameTimeType":1,"$$exportThreshold":8000,"$$afterLinkModify":true,"$$afterWXCardModify":true,"$$afterComCodeModify":true,"$$afterWxCard":true,"$$createTime":1535708071000,"$$awardTypeInfo":{"def":{"collect":"收藏兑奖券","showcashtype":false,"showsitebox":true,"qrcode":false,"showcopy":true,"opti":"凭券联系现场工作人员兑奖","codename":"兑奖码","details":"兑奖券详情","deadline":"兑奖期限","showwxcard":true,"notice":"兑奖须知","cuscode":true,"cashsite":"请填写您的兑奖地址或者门店地址","sitetype":"text","site":"","term":true,"btn":"立即兑奖","isHdGift":false,"isJZcoupon":false},"2":{"showcashtype":true,"1":{"1":{"sitetype":"img"},"2":{"cashsite":"http://","sitetype":"url"}},"2":{"sitetype":"text"},"3":{"showsitebox":false,"sitetype":"img","opti":"复制券码发送到公众号","btn":"前往公众号兑奖"},"4":{"opti":"点击\u201C立即兑奖\u201D跳转到兑奖界面","cashsite":"http://","sitetype":"url","site":"网页链接"},"site":"兑奖地址"},"0":{"collect":"收藏优惠券","opti":"到店后向店员出示","codename":"优惠码","details":"优惠券详情","deadline":"使用期限","notice":"使用须知","sitetype":"text","cashsite":"请填写您的门店地址","site":"门店地址"},"1":{"collect":"收藏优惠券","opti":"购物时凭优惠码联系客服兑奖","codename":"优惠码","details":"优惠券详情","deadline":"使用期限","notice":"使用须知","sitetype":"url","cashsite":"http://m.jd.com","site":"商城地址","btn":"进入商城"},"5":{"collect":"收藏口令码","showsitebox":false,"codename":"口令码","deadline":"领取期限","showwxcard":false,"notice":"领取须知","cuscode":false,"term":false,"0":{"sitetype":"img","opti":"复制口令发送到公众号","btn":"前往公众号兑奖"},"1":{"sitetype":"wxUrl","opti":"点击下方\"立即领取\"进行兑奖","btn":"立即领取","showcopy":false}},"4":{"collect":"收藏兑奖券","opti":"到店后向店员出示","codename":"优惠码","details":"优惠券详情","deadline":"使用期限","qrcode":"auto","showwxcard":false,"notice":"使用须知","sitetype":"none","btn":"领取到微信卡包"},"6":{"isHdGift":true,"term":false,"cuscode":false,"showwxcard":false,"showsitebox":false,"0":{"sitetype":"img","opti":"复制口令发送到公众号","btn":"前往公众号兑奖"},"1":{"sitetype":"wxUrl","opti":"点击下方\"立即兑奖\"输入手机号码充值","btn":"立即兑奖","showcopy":false}},"7":{"isHdGift":true,"term":false,"cuscode":false,"showwxcard":false,"showsitebox":false,"0":{"sitetype":"img","opti":"复制口令发送到公众号","btn":"前往公众号兑奖"},"1":{"sitetype":"wxUrl","opti":"点击下方\"立即兑奖\"输入手机号码充值","btn":"立即兑奖","showcopy":false}},"8":{"isHdGift":true,"collect":"收藏优惠券","term":false,"cuscode":false,"showwxcard":false,"showsitebox":false,"0":{"sitetype":"img","opti":"复制口令发送到公众号","btn":"前往公众号兑奖"},"1":{"sitetype":"wxUrl","opti":"点击下方\"获取卡密\"获取激活码","btn":"获取卡密","showcopy":false}},"9":{"isJZcoupon":true,"term":false,"cuscode":false,"showsitebox":false}},"$$isOpenRedPacket":true,"$$isOpenGift":true,"$$hasKqOpen":false,"$$hasWXAuth":false,"$$hasWXCash":false,"$$hasHbOpen":false,"$$gameTypeInfo":[{"type":0,"icon":"drawIcon","font":"抽奖派发","text":"顾客完成活动要求后就可获得抽奖机会，您可以按需设置中奖率和每人最多可中奖次数。"}],"$$drawType":0,"$$isOem":false,"$$isPublish":false,"$$verInfo":{"freName":"免费版","byName":"白银版","bjName":"铂金版","zsName":"钻石版","freClass":"ver_free","byClass":"ver_by","bjClass":"ver_biz","zsClass":"ver_zs","verName":"免费版","verClass":"ver_free","ver":0,"createVer":0,"authVer":0,"realVer":0,"createAuthVer":0,"maxAuthVer":0,"gameAmountLimit":500,"awardAmountLimit":2000,"map":{"0":{"class":"ver_free","name":"免费版"},"1":{"class":"ver_by","name":"白银版"},"2":{"class":"ver_biz","name":"铂金版"},"3":{"class":"ver_zs","name":"钻石版"}}},"$$isShowOtherErrTip":false,"$$scoreMax100":false,"$$tmpFileId":981833,"$$prizedNum":[1,0,0,0,0,0,0,0,0],"$$showPlayTimeSetting":true,"$$isZhuliNewWinningTips":false,"$$isLimitInviteTime":true,"$$isYKY":false,"$$jzFlag":-400,"$$siteInfoList":[],"$$openAcctSvr":true,"$$currStore":{},"$$allStoreList":[],"$$giftTypeDef":{"6":[{"val":1,"name":"10M全国三网流量包"},{"val":2,"name":"30M全国三网流量包"},{"val":3,"name":"100M全国三网流量包"},{"val":4,"name":"500M全国三网流量包"}],"7":[{"val":21,"name":"1元全国三网话费"},{"val":22,"name":"2元全国三网话费"},{"val":23,"name":"5元全国三网话费"},{"val":24,"name":"10元全国三网话费"},{"val":25,"name":"20元全国三网话费"},{"val":26,"name":"30元全国三网话费"},{"val":27,"name":"50元全国三网话费"},{"val":28,"name":"100元全国三网话费"}],"8":[{"val":41,"name":"爱奇艺黄金会员（月卡）"},{"val":42,"name":"爱奇艺黄金会员（季卡）"},{"val":43,"name":"爱奇艺黄金会员（半年卡）"},{"val":44,"name":"爱奇艺黄金会员（年卡）"},{"val":51,"name":"优酷土豆黄金会员（月卡）"},{"val":52,"name":"优酷土豆黄金会员（季卡）"},{"val":53,"name":"优酷土豆黄金会员（年卡）"},{"val":61,"name":"腾讯视频VIP会员（月卡）"},{"val":62,"name":"腾讯视频VIP会员（季卡）"},{"val":63,"name":"腾讯视频VIP会员（年卡）"}]},"$$isQmKj":false,"$$isOpenNewCuscode":true,"$$sensitWordAndAdvance":[{"sensword":"游戏","adVance":"活动"},{"sensword":"红包","adVance":"hong包"},{"sensword":"紅包","adVance":"hong包"},{"sensword":"分享","adVance":"fen享"},{"sensword":"现金","adVance":"xian金"},{"sensword":"朋友圈","adVance":"peng友圈"},{"sensword":"福利","adVance":"fu利"}],"$$isQuestionGame":false,"$$testVersion3":true,"$$data":{"isNewVoteGame":false,"isPaymentGame":false},"$$msgRemNum":0},
        gameLast = gameOld = JSON.parse(JSON.stringify(game)),//克隆game
        gameDef = {"_flag":{"$type":"flag","f8388608":false,"f1048576":false,"f1073741824":false,"f1024":false,"f32":false,"f8":false,"f16":false,"f262144":false,"f16777216":false,"f524288":false,"f33554432":false,"f2":true,"f4":true,"f134217728":false,"f65536":true,"f8192":true,"f4096":true,"f128":false,"f131072":false,"f4194304":false,"f256":false,"f2048":true,"f536870912":false,"f2097152":false,"f268435456":false},"createTime":1535944870690,"gameType":0,"player":0,"buy":false,"prop1":"0","prop0":0,"img":"//d1.faiusr.com/2/AAEIABACGAAgjJnK1wUogNjluQQwwgM4_gE.jpg","appid":"","aid":17472084,"endTime":1536549670690,"isOldSkill":true,"id":-1,"startTime":1535944870690,"style":75,"_flagC":{"$type":"flag","f262144":false,"f4096":false,"f32":true,"f131072":false,"f536870912":false,"f2048":false,"f134217728":false,"f524288":false,"f268435456":false,"f4":false},"name":"参与活动赢大奖","_flagB":{"$type":"flag","f512":false,"f1048576":false,"f256":true,"f2048":true,"f16384":false,"f134217728":false,"f524288":false,"f32768":false,"f64":false,"f268435456":false,"f8192":false},"_awardList":[{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-10","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"一等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值100元礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-09-03","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":1,"payment":1,"passwordrednum":100},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-10","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"二等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值50元礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-09-03","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":2,"payment":1,"passwordrednum":100},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-10","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"三等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值10元礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-09-03","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":3,"payment":1,"passwordrednum":100},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-10","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"四等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值5元小礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-09-03","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":4,"payment":1,"passwordrednum":100},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-10","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"五等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值5元小礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-09-03","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":5,"payment":1,"passwordrednum":100},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-10","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"六等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值5元小礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-09-03","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":6,"payment":1,"passwordrednum":100},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-10","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"七等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值5元小礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-09-03","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":7,"payment":1,"passwordrednum":100},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-10","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"八等奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值5元小礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-09-03","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"level":8,"payment":1,"passwordrednum":100},{"hbtype":0,"optx":false,"servicepho":"","attentionimg":"","aimgw":"4.6rem","cashinfo":"","pot":0,"cet":"2018-09-10","amount":0,"aimg":"//hdg.faisys.com/image/xydzp/theGift.png?v=201802231034","excelName":"","btn":"了解更多","style":"安慰奖","tlmt":"[8]","btl":"","txn":"兑奖须知","floatBegin":500,"hbAverage":1000,"name":"价值5元小礼品","floatEnd":1500,"continfo":3,"needlessconsume":false,"aimgh":"5.8rem","iscuscode":false,"t_type":"DATE_TYPE_FIX_TIME_RANGE","cfbt":0,"attention":1,"txc":"联系商家出示兑奖码","cbt":"2018-09-03","ocimg":false,"genewxcard":false,"awardtype":2,"stl":"","cft":30,"oct":false,"oplink":false,"opti":"凭券联系现场工作人员兑奖","onlinect":1,"cashtype":2,"iscancelver":false,"cashsite":"请填写您的兑奖地址或者门店地址","storeType":1,"opqrc":true,"comLimitNum":false,"comNum":0}],"_setting":{"$type":"json","nodrawcontact":"[{\"name\":\"姓名\",\"key\":\"ausername\",\"isOpen\":true},{\"name\":\"联系电话\",\"key\":\"aphone\",\"isOpen\":true},{\"name\":\"联系地址\",\"key\":\"aadress\",\"isOpen\":false}]","gametimenum":0,"modId":479,"linkInfoAll":true,"inviteTimeLimit":10,"advertisingNumber":1,"gameunit":"分","dtl":3,"strp":"//hdg.faisys.com/image/xydzp/startBtn.png","accessrule":-1,"winningMode":0,"drawLimit":0,"advertisingDisplayModel":1,"skl":"http://mp.weixin.qq.com/s?__biz=MjM5MTk5MjI3OA==&mid=209854000&idx=1&sn=82241d924839270d3ea820ad2d56c01b#wechat_redirect","lsn":100,"skn":"凡科互动","vrn":0,"rankshownum":100,"addDrawTime":1,"advertisingTime":3,"vjn":0,"awardTimesLimit":1,"winningCycle":0,"drawTotal":6,"winningRate":"10","hbPreCount":1,"modgameid":153,"ls":1,"tplId":-1,"ljn":100,"playTimesLimit":5,"modaid":8171176,"linkInfotype":1,"hn":"-","partnerType":0,"gametimetype":1,"lrn":100,"hl":"","helpType":1,"areaLimitList":[],"rule":"{\"consume\":0,\"expPlayer\":10,\"expAward\":1}","ml":"","rulesortstr":"abcde","hlg":"img/nopic.jpg","apropIdx":0,"rankshowtype":1,"ms":3,"limg":"img/nopic.jpg","hWS":"img/l_xydzp.jpg?v=201508111845","accesspopuptitle":"输入访问密钥后进入活动","mun":"关注我们","skillsptype":2,"al":"","playTotalLimit":10,"an":3,"ep":"点击\u201C开始\u201D转盘开始转动，最终指针指着的即为您所中的奖品。","gameunit_def":"分","ae":"","ph_sbtn":"","jncolordef":"rgb(250, 82, 8)","jnfsize":"0.6rem","p_jn":"{\"top\":\"0rem\",\"left\":\"3.6rem\"}","jlfsizedef":"0.6rem","jlscolor":"rgb(255, 255, 255) 1px 0px 0px, rgb(255, 255, 255) -1px 0px 0px, rgb(255, 255, 255) 0px 1px 0px, rgb(255, 255, 255) 0px -1px 0px","jncolor":"rgb(250, 82, 8)","s_sbtn":"{\"width\":\"5.6rem\",\"height\":\"6.45rem\"}","jlcolor":"rgb(250, 82, 8)","p_di":"{\"top\":\"1.25rem\",\"left\":\"2.5rem\"}","jnscolordef":"rgb(255, 255, 255) 1px 0px 0px, rgb(255, 255, 255) -1px 0px 0px, rgb(255, 255, 255) 0px 1px 0px, rgb(255, 255, 255) 0px -1px 0px","jlfsize":"0.6rem","jnscolor":"rgb(255, 255, 255) 1px 0px 0px, rgb(255, 255, 255) -1px 0px 0px, rgb(255, 255, 255) 0px 1px 0px, rgb(255, 255, 255) 0px -1px 0px","jlcolordef":"rgb(250, 82, 8)","ph_aicon":"https://hdg.faisys.com/image/ruleImg_yellow.png","p_aicon":"{\"left\":\"12.85rem\",\"top\":\"0.15rem\"}","jnfsizedef":"0.6rem","jlscolordef":"rgb(255, 255, 255) 1px 0px 0px, rgb(255, 255, 255) -1px 0px 0px, rgb(255, 255, 255) 0px 1px 0px, rgb(255, 255, 255) 0px -1px 0px","p_sbtn":"{\"left\":\"0rem\",\"top\":\"4.05rem\"}","soundList":"[{\"path\":\"//hdg.faisys.com/image/jrdpd/bgmusic04H.mp3\",\"fileName\":\"背景音乐.mp3\",\"optFlag\":0},{\"path\":\"//hdg.faisys.com/image/zhuanpan/zhuanpan.mp3\",\"fileName\":\"转盘音效.mp3\",\"optFlag\":2}]","gtopcoldef":"","gtopicondef":"","gtopbgdef":"","_rule":{"consume":0,"expPlayer":10,"expAward":1},"$mun1":"企业官网","$mun2":"关注我们"},"templateId":-1,"$$byPlayerLimit":10000,"$$qrImgCompanyDef":"img/qrcodeImg.jpg","$$qrImgAwardDef":"img/qrcodeImg.jpg","$giftNumList":[],"$$qrImgPathDef":"img/qrcodeImg.jpg","$$playerLimit":100,"$$shareLimit":100},
        style = 75,
        g_isRegistration = false,//是否是报名型游戏
        g_balance = 0.00,
        g_isStoreVer = false,
        g_isNewOpt = false,
        g_storeId = 0,
        g_areaId = 0,
        g_commMg = 156,
        g_awardMg = 120,
        g_data = {"compat_regTime":1520265601000,"wxShareText":[{"edit":false},{"text":"轻轻松松就能抽到大奖，积攒多年的人品终于有用了，你也赶紧来抽奖吧！！","tag":"玩家名称","exp":"分享内容（没有获奖的玩家）","edit":true},{"text":"<span class=\"tag\" contenteditable=\"false\">玩家名称<\/span>以<span class=\"tag\" contenteditable=\"false\">游戏成绩<\/span>的成绩傲视群雄，你敢来挑战Ta赢取丰厚奖品吗？","tag":"玩家名称#游戏成绩#游戏排名","exp":"分享内容（没有获奖有成绩的玩家）","edit":false},{"text":"我已经在活动中抽到了奖品，你也快来抽大奖吧！","tag":"玩家名称#奖项等级#奖品名称","exp":"分享内容（获奖的玩家）","edit":true}]},
        undefined;
</script>

<meta id="_TOKEN" value="4f93289c2e0fe48f6e89b6c7f3e8fb7f" type="hidden" />
<meta content="always" name="referrer">

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="bookmark" href="/favicon.ico" type="image/x-icon"　/>
<script type='text/javascript'>
    // document.domain = 'fkw.com';
    var g_timeDeviation = 1535944870742 - new Date().getTime(); //服务器时间与系统时间偏差
    var g_isVersion3 = true;
</script>
<script type="text/javascript" src="js/jquery-core.min.js?v=201808061808"></script>
<script type="text/javascript" src="js/fai_hd.min.js?v=201808061808"></script>
<script type="text/javascript" src="js/jquery-ui-core.min.js?v=201808061808"></script>
<script type="text/javascript" src="js/faiui.min.js?v=201808061808"></script>
<script type="text/javascript" src="js/hdportal.min.js?v=201808231413"></script>

<script type="text/javascript">
try {
    hdFai.top = parent.hdFai.top;
} catch (e) {
}
$.extend(HdPortal,{"m_debug":false,"isOem":false,"isStoreVer":false,"_isInnerAccount":true,"storeId":0,"areaId":0,"HdPortalHost":"i.fkw.com","HomeHost":"fkw.com","OemPortalHost":"adm.webportal.top","isYKY":false,"noSupportTipA":"<a onclick='openQuickPay()' href='javascript:;'>前往升级<\/a>","buyProductAuth":true,"canRecharge":true,"closeRecharge":false,"accreditRecharge":true,"isMainstore":true,"isStaff":false,"hdOpenTime":1535707198688,"feePercent":0.02,"resRoot":"","hdVer":{"FREE":0,"BY":1,"BJ":2,"MD":4,"ZS":3},"_cssUrlInfo":{"editPoupBox":"css/editPoupBox.min.css?v=201808061808","js_ZeroClipboard":"js/ZeroClipboard.swf?v=201704111734"},"timeLimit":{"quickPay":0},"$data":{"gameHost":"hd.faisco.cn","hpHost":"i.hd.fkw.com","hdhomeHost":"hd.fkw.com","aid":17472084,"httpStr":"https","comfortToAward":{"comoptx":"optx","comattentionimg":"attentionimg","comimgw":"aimgw","comimg":"aimg","ctlmt":"tlmt","comimgh":"aimgh","comiscuscode":"iscuscode","cttype":"t_type","comfbt":"cfbt","comoci":"ocimg","comstl":"stl","comoct":"oct","comopti":"opti","conlinect":"onlinect","comcashtype":"cashtype","comiscancelver":"iscancelver","conlinewxnum":"onlinewxnum","comOpqrc":"opqrc","comStoreType":"storeType","comservicephone":"servicepho","comcashinfo":"cashinfo","comcet":"cet","combtn":"btn","cas":"style","comtxn":"txn","combtl":"btl","ca":"name","comcontinfo":"continfo","comNeedLessConsume":"needlessconsume","comStoresIds":"storesIds","comattention":"attention","comcbt":"cbt","comtxc":"txc","comAwardtype":"awardtype","comft":"cft","comOplink":"oplink","comcashsite":"cashsite","cc":"","ccc":""},"isFaier":false,"portalVer":0,"hblimit":50000,"isOpenABTest":false,"isOpenOem":false}});


function openQuickPay(logId, srcId){
    if($.type(logId) == 'array'){
        HdPortal.logDogList(logId);
    }else{
        logId && srcId && HdPortal.logDog(logId, srcId);
    }
    // m_aid % 2 == 0
    if((true || HdPortal.hdOpenTime <= HdPortal.timeLimit.quickPay) && true){
        if(true){
            window.open("http://i.fkw.com/jump.jsp?t=42");
        }else{
            window.open("http://adm.webportal.top/portal.jsp#appId=shop&tab=4");
        }
        
    }else{
        var verInfo = 1;
        if(true){
            verInfo = 1;
        }else if(false){
            verInfo = 2;
        }else if(false){
            verInfo = 3;
        }
        HdPortal.quickPayMent({verInfo: verInfo, type: 2});
    }
}
var limitGameFor19 = ["47","69"];
if(hdFai.top.indexTest || HdPortal.m_debug){
    $(function(){
        $('body').append('<a id="oneself_link" href="'+document.URL+'" target="_blank">self</a>');
    })
}
</script>
<script type="text/javascript">  
(function() { 
var fs = document.createElement("script"); 
fs.src = "//fe.faisys.com/jssdk_1_0/js/hawkEye.min.js?v=201807231924";
window.FAI_HAWK_EYE = {}; 
window.FAI_HAWK_EYE.jssdk_report_url = "//report.fkw.com/js/report"; 
window.FAI_HAWK_EYE.jssdk_appid = 5004; 
window.FAI_HAWK_EYE.fai_aid = 0; 
window.FAI_HAWK_EYE.fai_bs_aid = 17472084; 
window.FAI_HAWK_EYE.fai_bs_id = 0; 
window.FAI_HAWK_EYE.fai_bs_wid = 0; 
var s = document.getElementsByTagName("script")[0];
s.parentNode.insertBefore(fs, s);
})();</script>


<script type="text/javascript">
$.extend(HdPortal.$data,{"discountsText":"买二送二促销中","isBindOpenId":false,"isOpenBindwx":true,"setBindWXAuth":true,"profFlag":8322});

HdPortal.Res.setGroup({
    bindWXpoup: {css_bindWXpoup: 'css/bindWxPoup.min.css?v=201808201753'},
    popBoxForBuy: {css_popBoxForBuy : 'css/popBoxForBuy.min.css?v=201808201753'},
    publishGame: {
        css_publishGame : 'css/publishGamePoupBox.min.css?v=201808221718',
        js_publishGame : 'js/publish.min.js?v=201808271509',
    },
}).setGroup({"guideShare":{"js_guideShare":"js/guideShare.min.js?v=201807101125","css_guideShare":"css/guideShare.min.css?v=201807101125"}});

</script>

<script type="text/javascript" src="js/poupBox.min.js?v=201808291625"></script>
<script type="text/javascript">
    HdPortal._cssUrlInfo.editPoupBox = "css/editPoupBox_new3.min.css?v=201808211430"
    function $$(selector){
        if(typeof selector != 'function'){
            return getPreviewWin().$(selector);
        }
        var rt = $$.on("ready",selector);
        if($$.checkFire('ready')) return rt;
    }
    HdPortal.initCallBack($$,[
        'breakSave',    //保存报错
        'save',         //保存
        'init',         //初始化完成
        ['ready',true], //iframe ready
        ['load',true],  //iframe load
    ]);
</script>
<script type="text/javascript" src="js/swfupload.min.js?v=201704111734"></script>
<script type="text/javascript" src="js/jquery.uploadify.min.js?v=201808211430"></script>
<script type="text/javascript" src="js/angular.min.js?v=201808201753"></script>
<script type="text/javascript" src="js/edit_new3.min.js?v=201808221806"></script>
<script type="text/javascript" src="js/ngmodel.format.min.js?v=201803191856"></script>
<script type="text/javascript" src="js/controller_main.min.js?v=201808201753"></script>


<script type="text/javascript" src="js/controller_award.min.js?v=201808241249"></script>


<script type="text/javascript" src="js/ZeroClipboard.min.js?v=201803201523"></script>
<script type="text/javascript">
    HdPortal.newRegisterStep = 13;
    HdPortal.$data.aid = game.aid;
    HdPortal.isOpenNewCusCode = true;

    HdPortal.Res.setGroup({
        faiArea: {
            css_faiArea : '//hd.faisys.com/version2/css/faiArea_new3.min.css?v=201808211430',
            js_faiArea : 'js/faiArea.min.js?v=201808061808',
            js_city2: 'js/comm/city2.min.js?v=201808211749',
        }
    }).setGroup({"wxShareText":{"js_wxShareText":"js/poupBox/wxShareText.min.js?v=201808201753","css_wxShareText":"//hd.faisys.com/version2/css/poupBox/wxShareText.min.css?v=201808201753"},"accessKeyBox":{"js_accessKeyBox":"//hd.faisys.com/error_js_accessKeyBox","css_accessKeyBox":"//hd.faisys.com/version2/css/poupBox/accessKeyBox.min.css?v=201808061808"}});

    //异步加载弹窗css
    top.HdPortal.asyncCss
        .load("editCancelVerCode",'//hd.faisys.com/version2/css/poupBox/editCancelVerCode.min.css?v=201808061808')
        .load('popup_previewBox','//hd.faisys.com/version2/css/poupBox/previewBox.min.css?v=201808061808')
        .load('popup_canalBox','//hd.faisys.com/version2/css/poupBox/canalBox.min.css?v=201808201753')
        .load('popup_saveDefineInfo','//hd.faisys.com/version2/css/poupBox/saveDefineInfo.min.css?v=201808061808')
        .load('popup_accessKeyBox','//hd.faisys.com/version2/css/poupBox/accessKeyBox_new3.min.css?v=201808061808')
        .load("popup_advertising", '//hd.faisys.com/version2/css/poupBox/advertising.min.css?v=201808201753')
        .load("popup_swiperBannerBox", '//hd.faisys.com/version2/css/poupBox/swiperBanner.min.css?v=201808212026');

    if(false){
        top.HdPortal.asyncCss.load('popup_exportQuestion','//hd.faisys.com/version2/css/poupBox/exportQuestion.min.css?v=201808061808');
    }

    function refreshPublishStatus(){ //发布之后更新状态
        location.reload(true);
    }

    if(1535708071000 > 1494376757000){
        $('.autoPopupOption').hide();
    }

    if(hdFaiOperateImg.cache){
        $.each(hdFaiOperateImg.cache,function(i,v){
            hdFaiOperateImg.apply(null,v);
        });
        hdFaiOperateImg.cache = null;
    }
    var lockSave = false;
    var hasWxCardInput = false; //是否有修改微信卡券的设置项
    var awardList = game._awardList;
    $.each(awardList,function(i,award){
        award["$$optiDeserve"] = {"def":{"collect":"收藏兑奖券","showcashtype":false,"showsitebox":true,"qrcode":false,"showcopy":true,"opti":"凭券联系现场工作人员兑奖","codename":"兑奖码","details":"兑奖券详情","deadline":"兑奖期限","showwxcard":true,"notice":"兑奖须知","cuscode":true,"cashsite":"请填写您的兑奖地址或者门店地址","sitetype":"text","site":"","term":true,"btn":"立即兑奖","isHdGift":false,"isJZcoupon":false},"2":{"showcashtype":true,"1":{"1":{"sitetype":"img"},"2":{"cashsite":"http://","sitetype":"url"}},"2":{"sitetype":"text"},"3":{"showsitebox":false,"sitetype":"img","opti":"复制券码发送到公众号","btn":"前往公众号兑奖"},"4":{"opti":"点击\u201C立即兑奖\u201D跳转到兑奖界面","cashsite":"http://","sitetype":"url","site":"网页链接"},"site":"兑奖地址"},"0":{"collect":"收藏优惠券","opti":"到店后向店员出示","codename":"优惠码","details":"优惠券详情","deadline":"使用期限","notice":"使用须知","sitetype":"text","cashsite":"请填写您的门店地址","site":"门店地址"},"1":{"collect":"收藏优惠券","opti":"购物时凭优惠码联系客服兑奖","codename":"优惠码","details":"优惠券详情","deadline":"使用期限","notice":"使用须知","sitetype":"url","cashsite":"http://m.jd.com","site":"商城地址","btn":"进入商城"},"5":{"collect":"收藏口令码","showsitebox":false,"codename":"口令码","deadline":"领取期限","showwxcard":false,"notice":"领取须知","cuscode":false,"term":false,"0":{"sitetype":"img","opti":"复制口令发送到公众号","btn":"前往公众号兑奖"},"1":{"sitetype":"wxUrl","opti":"点击下方\"立即领取\"进行兑奖","btn":"立即领取","showcopy":false}},"4":{"collect":"收藏兑奖券","opti":"到店后向店员出示","codename":"优惠码","details":"优惠券详情","deadline":"使用期限","qrcode":"auto","showwxcard":false,"notice":"使用须知","sitetype":"none","btn":"领取到微信卡包"},"6":{"isHdGift":true,"term":false,"cuscode":false,"showwxcard":false,"showsitebox":false,"0":{"sitetype":"img","opti":"复制口令发送到公众号","btn":"前往公众号兑奖"},"1":{"sitetype":"wxUrl","opti":"点击下方\"立即兑奖\"输入手机号码充值","btn":"立即兑奖","showcopy":false}},"7":{"isHdGift":true,"term":false,"cuscode":false,"showwxcard":false,"showsitebox":false,"0":{"sitetype":"img","opti":"复制口令发送到公众号","btn":"前往公众号兑奖"},"1":{"sitetype":"wxUrl","opti":"点击下方\"立即兑奖\"输入手机号码充值","btn":"立即兑奖","showcopy":false}},"8":{"isHdGift":true,"collect":"收藏优惠券","term":false,"cuscode":false,"showwxcard":false,"showsitebox":false,"0":{"sitetype":"img","opti":"复制口令发送到公众号","btn":"前往公众号兑奖"},"1":{"sitetype":"wxUrl","opti":"点击下方\"获取卡密\"获取激活码","btn":"获取卡密","showcopy":false}},"9":{"isJZcoupon":true,"term":false,"cuscode":false,"showsitebox":false}};
        award["$$optiDeserve"][award.awardtype].opti = award.opti;
    });

    var cusCodelist = [];//自定义兑奖码list
    var isChangeCusCode = false;
    var lastPasswordredTotal = 0
    
    var isPublish = false;

    var operateFlagList = [];   //标志出现过的操作，oss
    for(var i = 0;i < 100;i++){
        operateFlagList.push(false);
    }

    game.$upImg_default = 'img/questionImg.jpg';

    function showPreviewBoxAfterGameLoad(){
        if(showPreviewBoxAfterGameLoad.loading) return;
        showPreviewBoxAfterGameLoad.loading = true;
        $$.on('load',function(){
            showPreviewBoxAfterGameLoad.loading = false;
            var opts = {
                game : game,
                iframeUrl : 'empty.jsp',
                fromCanal:false,
                hasWXAuth : 'false',
                editActiveAuth: true,
                pubActiveAuth: true,
                downLoadToken : $("#_TOKEN").attr("value"),
                cssUrl : '//hd.faisys.com/version2/css/poupBox/previewBox.min.css?v=201808061808',
                hasPublish: (game.status != 0)
            };
            HdPortal.showCanalView( $.extend({},opts,{
                cssUrl : '//hd.faisys.com/version2/css/poupBox/canalBox.min.css?v=201808201753',
                previewBox : Edit.showPreviewBox( $.extend({},opts,{ opts : { hasAnimate : false} }) ),
            }) );
        });
    }
    
    $(function(){
        
        top.window.$(top.window).data("beforeunload", false); // news1
        hdFai.top = window;
        Edit.bindEditEvent($('#editActive'));
        top.showTopSideBarTxt && top.showTopSideBarTxt(6);
        showTabByStyle();

        $('#gamePreviewPage').load(function(){
            //新手引导
            if( true && top.HdPortal.newRegisterStep < 13 ){
                HdPortal.newRegistPoup({
                    page        :   "editActive",
                    poupArray   :  [
                        {
                            target : $("#gameContent"),
                            transLateX : 680,
                            translateY : -380,
                            step       : 5,
                            tipsUrl    : "step5.png",
                            buttonUrl  : "nextStep.png"
                        },{
                            target : $("#editActive .topBar"),
                            startFromTop: true,
                            transLateX : 380,
                            translateY : 60,
                            step       : 6,
                            tipsUrl    : "step6.png",
                            buttonUrl  : "nextStep.png"
                        },{
                            target :  $('#editActive .editDetail'),
                            transLateX : -220,
                            translateY : 150,
                            step       : 7,
                            tipsUrl    : "step7.png",
                            buttonUrl  : "nextStep.png",
                            startFromTop : true,
                        },{
                            target : $("#savePubButon"),
                            transLateX : -120,
                            translateY : 20,
                            step       : 8,
                            tipsUrl    : "step8.png",
                            buttonUrl  : "ihaveKnow.png"
                        }
                    ],
                    cssSrc      :'//hd.faisys.com/version2/css/newRegister.min.css?v=201808211749'
                });
            }
            $("#phonePreLoad").addClass("close").on("transitionend", function (e) {
                $(this).closest('#phonePreLoadWrap').remove();
            });
            $$.fire("load");
            Edit.initTopBarTapEvent();
            if(hdFai.isIE()){
                setTimeout(function(argument) {
                    $('.topBar .column').eq(0).click();
                },400);
            }
            pageChange();
            Edit.createHtml5Upload(0,$('.logoImg img'),$('#uploadButton'),'#logoImg',true,'＋ 选择图片',5000);
            Edit.createHtml5Upload(0,$('.wxShareImg img'),$('#wxShareUploadButton'),-1,true,'＋ 选择图片',5000);
            Edit.createHtml5Upload(0,$('.QRImg img'),$('#QRloadButton'),-1,true,'＋ 上传二维码',5000);
            Edit.createHtml5Upload(0,$('.loadingCustomImg img'),$('#loadingCustomButton'),-1,true,'＋ 选择图片',5000);
            // 强制关注功能
            Edit.createHtml5Upload(0,$('.strongAttention img'),$('#strongAttBtn'),-1,true,'＋ 选择图片',5000);
            
            hdFai.top.window.change = 0;
            $('#saveButon').click(function(event,fn){
                if(lockSave || $(this).hasClass('disabled')){
                    return;
                }
                //微信红包时，增加红包防刷提示
                var hbPreFlag = false;
                var lastPasswordredTotal = 0;
                for (var i = 0; i < game._setting.an; i++) {
                    var award = awardList[i];
                    var amount = award.amount
                    var passwordrednum;
                    if(award.hbtype == 0){
                        passwordrednum = parseInt(award.passwordrednum);
                    }else{
                        passwordrednum = parseInt(award.hbAverage);
                    }
                    if(!isNaN(passwordrednum)){
                        lastPasswordredTotal += passwordrednum * amount;
                    }
                    var awardtype = award.awardtype;
                    if (awardtype == 5) {
                        hbPreFlag = true;
                    }
                }
                lastPasswordredTotal = hp.Num.div(lastPasswordredTotal,100);
                var hbPreCount = game._setting.hbPreCount
                var hbPreLevel = hbPreCount == 0 ? '初级' : '中级';
                var openPhoneVerify = game._setting.linkInfotype != 1 && game._flagC.f524288;
                game.$$isShowHbPrePopup = hbPreFlag && (hbPreCount == 0 || hbPreCount == 1) && (lastPasswordredTotal > (game._setting.hblimit || 50000) || !openPhoneVerify);
                if(game.$$isPublish && game._setting.an > game._setting.max_an){
                    HdPortal.poupUpBox('活动已发布，保存后，新添加的奖项类型等等将无法修改，您确定要保存吗？',1,'','',true,'save_confirm',checkActStatus);
                }else{
                    //拼团重置数据监测提醒
                    var isResetPt = false;
                    if(false){
                        var isResetPt = gameLast._setting.groupMemberNum != game._setting.groupMemberNum;
                        var awardNum = game._setting.an > gameLast._setting.an ? game._setting.an : gameLast._setting.an;
                        for (var i = 0; i < awardNum; i++) {
                            if(game._awardList[i].amount != gameLast._awardList[i].amount){
                                isResetPt = true;
                            }
                        }
                    }
                    if(isResetPt){
                        HdPortal.poupUpBox('确认修改？未发布时修改了团员数量或中奖团数量，保存后将重置活动数据。',1,'','',true,'save_confirm',beforeSaveGame);
                    }else{
                        checkActStatus();
                    }
                }
                
                //监听活动状态是否从已结束变为进行中或未开始，是的话则提醒用户主办单位的变动
                function checkActStatus(){
                    var isEndAct = game.status == 3;
                    var lastIsEndAct = gameLast.status == 3;
                    var hostName = hdFai.encodeHtml(game._setting.hn);
                    var userCenterHN = '-';
                    var link = hdFai.encodeHtml(game._setting.hl);
                    var userCenterLink = '';
                    var isModify = (hostName != userCenterHN) || (link != userCenterLink);
                    if(lastIsEndAct && !isEndAct && 1535708071000 > 1527004800000 && isModify && true){//2018.5.23
                        var options = {
                            name: 'save_confirm2',
                            content: '您确定要保存吗？本次活动时间已被调整，主办单位和链接地址也会同步到最新，更新后将无法恢复！',
                            hasTitle: false,
                            hasBottom: true,
                            width: 574,
                            height: 0,
                            showMask: true,
                            confirmBtnName: '确定',
                            cancelBtnName: '暂不',
                            confirmFun: beforeSaveGame,
                            isComfirmBox: true,
                            contentStyles: 'padding:30px 92px 15px; text-align:center; padding-top:70px'
                        }
                        HdPortal.popup(options);
                        // HdPortal.poupUpBox('您确定要保存吗？本次活动时间已被调整，主办单位也会随之更新到当前主办单位，更新后主办单位将无法恢复！',1,'','',true,'save_confirm2',beforeSaveGame,'','padding:30px 92px 15px; text-align:center; padding-top:70px');
                    }else{
                        beforeSaveGame();
                    }
                }

                function beforeSaveGame(){
                    game.$$isShowHbPrePopup ? hbPrePopup(saveGame) : saveGame();
                }
                !event.isTrigger && (operateFlagList[33] = true);
                function hbPrePopup(callback){
                    var options = {
                        name: '',
                        content: '当前红包防刷等级为'+hbPreLevel+'，建议在“高级设置-安全设置”中将等级提升为高级，启用手机号码短信验证，能有效地防止机器及羊毛党刷红包的行为',
                        hasTitle: false,
                        hasBottom: true,
                        width: 574,
                        height: 0,
                        showMask: true,
                        confirmBtnName: '马上设置',
                        cancelBtnName: '暂不设置',
                        confirmFun: function(){
                            game.$tabSetting.select(3,true);//跳转到高级设置
                        },
                        cancelFun: callback,
                        isComfirmBox: true
                    }
                    var box = HdPortal.popup(options);
                    box.find('.poupContent').css({
                        textAlign: 'center',
                        minHeight: '120px',
                        padding: '40px 20px'
                    }) 
                }
                function saveGame(){
                    fn && fn();
                    lockSave = true;
                    beforeSave();
                    if($.cookie('hdGameCreatCount') != null){
                        HdPortal.logDog(4000009, $.cookie('hdGameCreatCount'));
                    }
                }
            });
            
            $("#savePubButon").on("click",function(event){
                event.stopPropagation();
                var el = $(this);
                if (ERR.hasErr() > 0) {
                    el.addClass('disabled');
                    HdPortal.hdShowMsg("error",'尚有信息未填写或填写错误，请先填写或修改');
                    return;
                }
                if(el.hasClass('disabled')) {
                    return;
                }
                showPreviewBoxAfterGameLoad();
            });

            $("#newSavePubButon").on("click",function(event){
                event.stopPropagation();
                var el = $(this);
                if(el.hasClass('disabled')) return;
                $('#saveButon').trigger('click',[function(){
                    operateFlagList[32] = true;
                    $$.one('breakSave',function(flag,msg){
                        if(flag == 'right'){
                            setTimeout(showPreviewBoxAfterGameLoad,300);
                        }
                    });
                }]);
            });

            $('#awardDetail').scroll(function(){
                if($.datepicker._datepickerShowing){
                    $('.useCodeEndTime,.useCodeBeginTime').datetimepicker('hide').blur();
                }
            });
            $('#awardDetail').scroll(function(){
                if($.datepicker._datepickerShowing){
                    $('.floatBegin,.floatEnd').datetimepicker('hide').blur();
                }
            });

            /* 游戏背景编辑框特殊处理*/
            HdPortal.link($('#gameContent'),$('#moduleLayerBox'),{
                leave: function(e,e1,e2){
                    e2.find('.tool').hide();
                    getPreviewWin().removeBgFrame();
                }
            });
            // var homeBgmoduleLayer = $('#moduleLayerBox');
            // var homeBgmoduleTimer = null;

            // homeBgmoduleLayer.mouseenter(function(){
            //     clearTimeout(homeBgmoduleTimer);
            // }).mouseleave(function(){
            //     homeBgmoduleTimer = setTimeout(function(){
            //         $('#moduleLayerBox .tool').removeClass('showTool');
            //         getPreviewWin().removeBgFrame();
            //     },10);
            // });
            
            // $('#gameContent').mouseenter(function(event) {
            //     clearTimeout(homeBgmoduleTimer);
            // }).mouseleave(function(event) {
            //     if(getPreviewWin().HdGame.ResizeDoc){
            //         getPreviewWin().HdGame.ResizeDoc.find(".ui-wrapper").trigger("mouseup").trigger("mouseleave");
            //     }
            //     homeBgmoduleTimer = setTimeout(function(){
            //         $('#moduleLayerBox .tool').removeClass('showTool');
            //         getPreviewWin().removeBgFrame();
            //     },10);
            // });

            (function(){
                var start = 0;
                var stop = 0;
                $$(".body").on("mousedown",function() {
                    start = Date.now();
                })
                $$(".body").on("mouseup",function() {
                    stop = Date.now();
                })
                $$(".body, .gameBox, #poupInfoBox, #resule-status-box").on("click",function(e) {//点击模拟窗的背景取消编辑元素的选中状态
                    if(stop - start < 200 && getPreviewWin().HdGame.moduleLayer.selectedElem) {
                        getPreviewWin().HdGame.removeAllEditLayer();
                        
                    }
                });
            })();

            $("body").on("click",function(e){//点击模拟窗之外的其他地方取消编辑元素的选中状态
                if(getPreviewWin().HdGame.moduleLayer.selectedElem && getPreviewWin().HdGame.moduleLayer.isCancel) {
                    getPreviewWin().HdGame.removeAllEditLayer();
                }
            })
            $('.formX ').click(function(){
                if($('#expInputBox .expInput').hasClass('ERR_hasErr')){
                    return;
                }
            });

            $(document).on('input','.onlyNum',function(){
                var val = $(this).val();
                var newVal = val.replace(/[^0-9\.]/g,'');
                if(newVal != val){
                    $(this).val(newVal);
                }
            }); 

            //取消按钮点击事件
            $('#cancelButton').click(function(){
                // window.close();
                top.location = '../?hd_r=bXlBY3RpdmU';
            });

            //模拟计算
            $('#simulationSum').on('click', function(){
                var url = "/simulate.jsp?";
                var awardAmountList = $("#awardDetail .awardAmount.input");
                var awardListLen = awardAmountList.length;
                if($('#comfortSetting').is(':checked')){
                    url = url + "aw=" + 1;
                }else{
                    url = url + "aw=" + 0;
                }
                for( var i=0; i < awardListLen-1; i++){
                     url = url + "&" + "aa" + (i+1) + "=" + awardAmountList.eq(i).val();
                }
                url = url + "&drawTime=" + $("#drawTimesLimit").val() + "&awardTime=" + $("#awardTimesLimit").val() + "&winningRate=" + $("#winningRate").val() + "&logo=" + encodeURIComponent($(".headBar .logo").attr("src"));
                window.open(url);
            });

            getPreviewWin().hg.fire('hpInit');
            Edit.initModuleLayer('actName',0,'actName',true);
            $$('.body').css('overflow','hidden');
            $$('.unPublish').hide();
            if($('#hideSlide').length == 0){ //兼容助力游戏没有开启轮播按钮，不会触发事件设置limitRange的范围
                $$('#limitRange').css('height',$$('.home').height() - $$('.skillInfo').outerHeight(true)); 
            }
            
            $('.awardLevelItem').eq(0).click();
            setBuyInput($('.js_ver'));
            getPreviewWin().hg.fire('hgLoadEnd');
        });

        (function(){
            var $beginTime = $('#beginTime');
            var $endTime = $('#endTime');

            //绑定日期输入控件      
            $beginTime.datetimepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'yy-mm-dd',
                timeFormat: 'hh:mm',
                timeText: '&nbsp;时间',
                hourText: '&nbsp;时',
                minuteText: '&nbsp;分',
                currentText: '现在',
                closeText: '确认',
                buttonImage: '/image/ver/mianfei.png',
                maxDate: new Date(new Date().setFullYear(new Date().getFullYear()+10)),
                minDate: new Date(new Date().setFullYear(new Date().getFullYear()-10)),
            }).change(function(event) {
                !event.isTrigger && (operateFlagList[3] = true);
                Edit.watch("beginTime",$beginTime.val(),function(startDate) {
                    Edit.setTimepickerLimit(startDate,$beginTime.data('limitInput'));
                    var start = new Date(startDate.replace(/-/g,"/"));
                    Edit.rootSafeApply(function(){
                        game.startTime = start.getTime();
                        var startTime = new Date(game.startTime);
                        var endTime = new Date(game.endTime);
                        var nowTime = new Date()
                        if(false && startTime < nowTime && endTime > nowTime){
                            game.status = 2;
                        }else if(false && startTime > nowTime && endTime > nowTime){
                            game.status = 1;
                        }else if(false && startTime < nowTime && endTime < nowTime){
                            game.status = 3;
                        }
                    });
                    $$(function(){
                        $$('#startDate').text($.format.date(start,'yyyy年MM月dd日 HH:mm',true));
                    });
                });
            }).data('limitInput',$endTime);

            var beginTime = new Date($beginTime.val());
            $endTime.datetimepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'yy-mm-dd',
                timeFormat: 'hh:mm',
                timeText: '&nbsp;时间',
                hourText: '&nbsp;时',
                minuteText: '&nbsp;分',
                currentText: '现在',
                closeText: '确认',
                maxDate: new Date(new Date().setFullYear(beginTime.getFullYear()+10)),
                minDate: beginTime,
            }).change(function(event) {
                var endDate = $(this).val();
                !event.isTrigger && (operateFlagList[4] = true);
                Edit.watch("endTime",endDate,function(endDate) {
                    var end = new Date(endDate.replace(/-/g,"/"));
                    Edit.rootSafeApply(function(){
                        game.endTime = end.getTime();
                        var startTime = new Date(game.startTime);
                        var endTime = new Date(game.endTime);
                        var nowTime = new Date()
                        if(false && startTime < nowTime && endTime > nowTime){
                            game.status = 2;
                        }else if(false && startTime > nowTime && endTime > nowTime){
                            game.status = 1;
                        }else if(false && startTime < nowTime && endTime < nowTime){
                            game.status = 3;
                        }
                    });
                    $$(function(){
                        $$('#endDate').text($.format.date(end,'yyyy年MM月dd日 HH:mm',true));
                    });
                });
            });
        })();

        $$.fire('init');
        $("textarea.cusCodeBox").on("input",function(){
            changeIsSave();
        });
        for (var i = 0; i < game._setting.an; i++) {
            var award = awardList[i]
            var awardtype = award.awardtype;
            if((awardtype == 5)) game._flagC.f4 = true;;
        }
    });

    function breakSave(flag,msg,afterSave,id){
        lockSave = false;
        setTimeout(function(){
            top.HdPortal.wxCardProgress.end(function(){
                if(flag == 'error'){
                    HdPortal.hdShowMsg("error",msg,true);
                }else if(flag == 'right'){
                    HdPortal.hdShowMsg("right",msg,true);
                    $("#editActContainer").scope().initChangeSave();
                }
                $$.fire('breakSave',flag,msg);
            });
        },15);
    }

    function beforeSave(){
        if(top.$('#hdShowMsg').length > 0){
            top.$('#hdShowMsg .close').click();
        }
        var errEls = ERR.getErr();
        setTimeout(function(){
            top.HdPortal.wxCardProgress.init(true,100,200,'保存活动中');
        },10);
        if(errEls.length > 0){
            var errSettingBox = errEls.closest('.settingBox');
            game.$tabSetting.select(errSettingBox.attr('option'));
            $('#activeTab .tabSetting[option='+errSettingBox.attr('option')+']').click();
            return breakSave("error",'尚有信息未填写或填写错误，请先填写或修改');
        }
        if($('#saveButon').hasClass('disabled')){
            return breakSave();
        }
        if($('#awardsSetting').length == 0){
            return save();
        }
        if(true){
            //对奖品列表再做一次校验
            var checkAwardListMsg = Edit.checkAwardList(game._setting.an);
            if(checkAwardListMsg){
                return breakSave("error",checkAwardListMsg);
            }
        }
        (function checkWxCard(i){
            if(i < 8){
                if(i >= game._setting.an){
                    awardList[i].iscuscode = false;
                    awardList[i].iscancelver = false;
                    return checkWxCard(i + 1);
                }
                if(!awardList[i].$type.cuscode){
                    return checkWxCard(i + 1);
                }
                checkCuscode(i,function(index,success){
                    return success ? checkWxCard(i + 1) : breakSave("error", "尚有信息未填写或填写错误，请先填写或修改");
                },true);
                return;
            }
            //发布
            if(isPublish){
                var cardNum = 0,hasWXCard = false;
                $.each(awardList,function(index,award){
                    if(award.genewxcard){
                        cardNum += award.amount;
                        if(!award.wxcardid){//新增奖项开启卡券
                            hasWxCardInput = true;
                        }
                        hasWXCard = true;
                    }
                });
                if(hasWxCardInput && hasWXCard){//有开通卡券并且有修改卡券的设置项     
                    return saveWxCard(0); 
                }                      
            }
            //没发布或者没有卡券设置项的修改直接保存
            save()
        })(0);
    }
    
    //先修改卡券再保存游戏
    function saveWxCard(index){
        index = parseInt(index);
        if( index == game._setting.an ){
            return updateStock(0);
        }
        var award = awardList[index];
        if(award.genewxcard){
            var wxCardId = award.wxcardid;
            var hostName = award.wxcardcomname;
            if(wxCardId){//编辑卡券
                $.ajax({
                    type    : "post",
                    url     : "/ajax/hdportal_h.jsp",
                    data    : "cmd=setWxCard&award=" + hdFai.encodeUrl($.toJSON(award))+"&id="+award.cardid+"&wxCardId="+wxCardId+"&hostName="+hostName+"&storeId=0&areaId=0",
                    error   : function(){ breakSave(); },
                    success : function(data){
                        var result = $.parseJSON(data);
                        if(result.rt == 0){
                            saveWxCard(index+1);
                            awardList[index].isAddCard = false;
                        }else{
                            return breakSave("error",result.msg);
                        }
                    }
                }); 
            }else{//新增卡券
                $.ajax({
                    type    : "post",
                    url     : "/ajax/hdportal_h.jsp",
                    data    : "cmd=addWxCard&award=" + hdFai.encodeUrl($.toJSON(award))+"&gameId=4&storeId=0&areaId=0",
                    error   : function(){ breakSave(); },
                    success : function(data){
                        var result = $.parseJSON(data);
                        var wxCardId = result.wxCardId;
                        if(result.rt == 0){
                            awardList[index].wxcardid = wxCardId;
                            awardList[index].isAddCard = true;
                            saveWxCard(index+1);                            
                        }else{
                            return breakSave("error",result.msg);
                        }
                    }
                }); 
            }               
        }else{
            saveWxCard(index+1);
        }
    }
    
    function updateStock(index){
        index = parseInt(index);
        if( index == game._setting.an ){
            return save();
        }
        var award = awardList[index];
        var wxCardId = award.wxcardid;
        if(wxCardId){
            $.ajax({
                type    : "post",
                url     : "/ajax/hdportal_h.jsp",
                data    : "cmd=updateStock&cardId=" + wxCardId+"&gameId=4&level="+(index+1)+"&amount="+award.amount+(award.isAddCard?"&isPublish=true":"")+"&storeId=0&areaId=0",
                error   : function(){ breakSave(); },
                success : function(data){
                    var result = $.parseJSON(data);
                    if(result.rt ==0){
                        updateStock(index+1);               
                    }else{
                        return breakSave("error",result.msg);
                    }
                }
            });
        }else{
            updateStock(index+1);
        }       
    }

    function save(){
        var watchRt = Edit.checkedAllWatch();
        // adsmd
        if (!watchRt
            && game._flagC.f2048
            && game._setting.accessrule === 1) {
            watchRt = Edit.checkCusAccessKey(null, true);
        }
        if(watchRt && watchRt.cmd && watchRt.cmd === 'breakSave'){
            if(watchRt.msg){
                return breakSave('error',watchRt.msg);
            }else{
                return breakSave();
            }
        }
        if(!false || false && game._setting.an > game._setting.max_an){
            game._setting.max_an = game._setting.an;
        }
        var saveGame = $.extend(true,{},game);
        Edit.defend(saveGame,gameOld);
        var setting = saveGame._setting;
        if(setting.ms == 1){
            menuLink = '';
        }else if(setting.ms == 2){
            menuLink = hdFai.fixUrl($("#menuLink").val());
        }else if(setting.ms == 3){
            var QRImgsrc = $('.QRImg img').attr('src');
            menuLink = QRImgsrc === saveGame.$$qrImgPathDef ? '' : QRImgsrc;
        }
        setting.ml = menuLink;
        setting.limg = $('.loadingCustomImg img').attr('src');
        setting.nodrawcontact = $.toJSON(Edit.clear(setting._nodrawcontact));
        setting.hn = hdFai.encodeHtml(setting.hn);
        setting.hl = hdFai.fixUrl(setting.hl);
        setting.skn = hdFai.encodeHtml(setting.skn);
        setting.skl = hdFai.encodeUrl(hdFai.fixUrl(setting.skl));
        setting.accesspopuptitle = hdFai.encodeHtml(setting.accesspopuptitle);
        //这几个key之前存错了，现在去掉
        $.each(['jlcolorddef','jlfsizeddef','jlscolorddef','jncolorddef'],function(index,key) {
            delete setting[key];
        });
        //参与人数
        var pos_joinNum = {};
        var joinLine = $$('#joinNumLine');
        // var joinNum = $$('#joinNum');
        // var gameTopBar = $$('#gameTopBar');
        // var userImgBox = $$('.userImgBox');
        pos_joinNum.top = parsePxToRem(joinLine.css('top'));
        pos_joinNum.left = parsePxToRem(joinLine.css('left'));
        //抽奖信息
        var pos_drawInfo = {};
        var drawInfo = $$('#drawInfo');
        pos_drawInfo.top = parsePxToRem(drawInfo.css('top'));
        pos_drawInfo.left = parsePxToRem(drawInfo.css('left'));
        setting.p_jn = $.toJSON(pos_joinNum);
        setting.p_di = $.toJSON(pos_drawInfo);
        setting.hbp = $$('#homeBg').attr('src');
        setting.gbp = $$('#gameBg').attr('src');
        setting.soundList = $.toJSON(getPreviewWin().hg.sound.list);    
        setting.modId = 479;
        if(saveGame._flag.f128){
            setting.hWS = $('.wxShareImg img').attr('src');
        }else{
            setting.hWS = gameDef._setting.hWS;
        }
        
        if(false){//原来没设置邀请次数限制的不保存
            delete setting.inviteTimeLimit;
        }

        //参与城市限制处理
        if(!saveGame._flagB.f64){
            setting.areaLimitList = [];
        }else if(setting.areaLimitList.length == 0){
            //没有选择城市的时候，将开启区域限制选择为false
            saveGame._flagB.f64 = false; 
        }

        switch (setting.accessrule) {
            case -1:
                saveGame._flagC.f2048 = false;
                break;
            case 0:
                saveGame._flagC.f2048 = true;
                break;
            case 1:
                saveGame._flagC.f2048 = true;
                saveGame.usualKey = $("#accessKey #cusKey").val().trim();
                break;
        }

        if(false){//旧的排名型活动不存参与次数相关设置
            delete setting.playTimesLimit;
            delete setting.playTotalLimit;
        }
        //logo
        if(saveGame._flag.f32){
            var logoImg = Edit.parsedGameArg('logoImg');
            if(logoImg){
                setting.hlg = $.toJSON(logoImg);
            }else{
                return breakSave();
            }
        }else{
            delete setting.hlg;
        }
        //标题图片
        if(true){
            var titleImg = Edit.parsedGameArg('titleImg');
            if(titleImg){
                setting.p_tti = titleImg.pos;
                setting.s_tti = titleImg.size;
                setting.ph_tti = titleImg.path;
            }else if(false){
                return breakSave();
            }
        }
        //开始按钮
        if(true){
            var startBtn = Edit.parsedGameArg('startBtnImg');
            if(startBtn){
                setting.p_sbtn = startBtn.pos;
                setting.s_sbtn = startBtn.size;
                setting.ph_sbtn = startBtn.path;
            }else if(false){
                return breakSave();
            }
        }
        //活动规则图标
        var ruleImg = Edit.parsedGameArg('ruleImg');
        if(ruleImg){
            var thePath = ruleImg.path;
            var theIndex = thePath.indexOf("?v=");
            thePath = thePath.substr(0,theIndex);
            if(theIndex < 0){
                thePath = ruleImg.path;
            }
            setting.p_aicon = ruleImg.pos;
            setting.s_aicon = ruleImg.size;
            setting.ph_aicon = thePath;
        }else if(false){
            return breakSave();
        }

        //音乐图标
        var $soundIcon;
        if(false){
            $soundIcon = $$('.gameBox .soundIcon:not(".soundIconPlay")');
        }if(false){
            $soundIcon = $$('.cutDetailPage .soundIcon:not(".soundIconPlay")');
        }else if(false){
            $soundIcon = $$('.body>.soundIcon:not(".soundIconPlay")');
        }else{
            $soundIcon = $$('.home .soundIcon:not(".soundIconPlay")');
        }
        if($soundIcon.length > 0){
            pos = { left : parsePxToRem($soundIcon.css('left')) , top : parsePxToRem($soundIcon.css('top')) };
            setting.p_sicon = $.toJSON(pos);
        }
        
        Edit.regroupPropList(setting);

        //转盘游戏设置
        if(style == 0){
            var startImgPath = $$('#inner img').attr("src");
            setting.strp = startImgPath;
        //刮刮乐游戏设置
        }else if(style == 1){
            var drawBox = Edit.parsedGameArg('drawImg'); 
            if(!drawBox){
                return breakSave();
            }   
            setting.p_db = drawBox.pos;
            setting.s_db = drawBox.size;
            setting.ph_db = drawBox.path;

        //掌刮男朋友游戏设置
        }else if(style == 3){
            var manImg = Edit.parsedGameArg('manImg',['gameImg0','gameImg1','gameImg2']);
            if(!manImg){
                return breakSave();
            }
            setting.p_man = manImg.pos;
            setting.s_man = manImg.size; 
            setting.ph_man = manImg.path;
        }else if(style == 6){
            //游戏图片
            var gameImg = Edit.parsedGameArg(false,['gameImg0','gameImg1','gameImg2','gameImg3']);
            if(!gameImg){
                return breakSave();
            }
            setting.ph_gimgs = gameImg.path;
        }
        //挠红包游戏设置
        if(style == 7){
            //游戏图片
            var gameImg = Edit.parsedGameArg('gameImg',['gameImg1','gameImg2','gameImg3','gameImg4','gameImg5','gameImg6','gameImg7','gameImg8']);
            var touchBtn = Edit.parsedGameArg('touchBtnImg');
            var feather = Edit.parsedGameArg('featherImg');
            if(!gameImg || !touchBtn || !feather){
                return breakSave();
            }
            setting.p_gimg = gameImg.pos;
            setting.s_gimg = gameImg.size;
            setting.ph_gimgs = gameImg.path;
            //游戏按钮
            setting.p_tbtn = touchBtn.pos;
            setting.s_tbtn = touchBtn.size;
            setting.ph_tbtn = touchBtn.path;
            //羽毛图片
            setting.p_ftr = feather.pos;
            setting.s_ftr = feather.size;
            setting.ph_ftr = feather.path;

        //节操大配对
        }else if(style == 8){
            //游戏图片
            var gameImg = Edit.parsedGameArg(false,['gameImg0','gameImg1','gameImg2','gameImg3','gameImg4','gameImg5','gameImg6']);
            if(!gameImg){
                return breakSave();
            }
            setting.ph_gimgs = gameImg.path;

        //拆礼盒游戏设置
        }else if(style == 9){
            var giftBox = Edit.parsedGameArg('giftBox',['giftBox01','giftBox02','giftBox03','giftBox04']);
            var giftTitel = Edit.parsedGameArg('giftTitel');
            var selectBtn = Edit.parsedGameArg('selectBtn');
            var helpBtn = Edit.parsedGameArg('helpBtn');
            var giftBox2 = Edit.parsedGameArg('giftBox2');
            if(!giftBox || !giftTitel || !selectBtn || !helpBtn || !giftBox2){
                return breakSave();
            }
            setting.p_gimg = giftBox.pos;
            setting.s_gimg = giftBox.size;
            setting.ph_gimg = giftBox.path;

            setting.p_gtti = giftTitel.pos;
            setting.s_gtti = giftTitel.size;
            setting.ph_gtti = giftTitel.path;
            
            setting.p_sebtn = selectBtn.pos;
            setting.s_sebtn = selectBtn.size;
            setting.ph_sebtn = selectBtn.path;
            
            setting.p_hbtn = helpBtn.pos;
            setting.s_hbtn = helpBtn.size;
            var path_helpBtn = [];
            for(var ii = 0;ii < 5;ii++){
                if(ii == 0){
                    path_helpBtn.push(getJqSrc($$("#helpBtn1")));
                }else if(ii == 1){
                    path_helpBtn.push(getJqSrc($$("#helpBtn")));
                }else{
                    path_helpBtn.push(getJqSrc($$("#helpBtn" + ii)));
                }
            }
            setting.ph_hbtn = $.toJSON(path_helpBtn);
            setting.p_g2img = giftBox2.pos;
            setting.s_g2img = giftBox2.size;
        //拆礼盒新版
        }else if(style == 58){
            var giftBox = Edit.parsedGameArg('giftBox',['giftBox01','giftBox02','giftBox03','giftBox04']);
            if(!giftBox){
                return breakSave();
            }
            setting.p_gimg = giftBox.pos;
            setting.s_gimg = giftBox.size;
            setting.ph_gimg = giftBox.path;
        //天掉海鲜
        }else if(style == 10){
            var nameList = ['gamePlay0','gamePlay1','gamePlay2','gamePlay3','gamePlay4','gamePlay5','gamePlay6','gamePlay7','gamePlayHold'];
            var gameImg = Edit.parsedGameArg(false,nameList,['gameImg0','gameImg1','gameImg2','gameImg3','gameImg4','gameImg5','gameImg6','gameImg7','gameImgHold']);
            var gameImgList = {};
            for(var i = 0;i < nameList.length;i++){
                var imgName = nameList[i];
                var tem = Edit.parsedGameArg(imgName);
                gameImgList[imgName] = {
                    size : tem.size,
                    pos  : tem.pos
                };
            }
            if(!gameImg){
                return breakSave();
            }
            setting.ph_gimgs = gameImg.path;
            setting.s_p_gimgs = $.toJSON(gameImgList);

        //拼图大作战
        }else if(style == 11){
            var path_gameImg = getJqSrc($$("#gameImg"));
            var gameStartBtn = Edit.parsedGameArg('gameStartBtns',['gameStartBtn','tipsBtn']);
            if(!gameStartBtn){
                return breakSave();
            }
            setting.ph_gimg = path_gameImg;

            setting.ph_gsbtn = $.parseJSON(gameStartBtn.path).gameStartBtn;
            setting.ph_tbtn = $.parseJSON(gameStartBtn.path).tipsBtn;
            setting.p_gsbtn = gameStartBtn.pos;
            setting.s_gsbtn = gameStartBtn.size;

        //我要萌妹子
        }else if(style == 12){
            //游戏图片
            var gameImg = Edit.parsedGameArg(false,['trueImg','falseImg']);
            if(!gameImg){
                return breakSave();
            }
            setting.ph_gimgs = gameImg.path;
        //人妖站一边
        }else if(style == 13){
            //游戏图片
            var gameImg = Edit.parsedGameArg(false,['belleImg','shemaleImg','gameLeftBtn','gameRightBtn']);
            if(!gameImg){
                return breakSave();
            }
            setting.ph_gimgs = gameImg.path;
        }
        //冲上云霄
        else if(style == 15){
           var jumperImg = Edit.parsedGameArg('jumpUpImg',['jumpUpImg','jumpDownImg']);
           var cloud1 = Edit.parsedGameArg('cloud1');
           var cloud2 = Edit.parsedGameArg('cloud2');
           var cloud3 = Edit.parsedGameArg('cloud3');

           setting.jumperimg = $.toJSON(jumperImg);
           setting.cloud1 = $.toJSON(cloud1);
           setting.cloud2 = $.toJSON(cloud2);
           setting.cloud3 = $.toJSON(cloud3);
        }
        //保护美女
        else if(style == 14){
            //游戏图片
            var leftImg = Edit.parsedGameArg('leftImg',['leftImg','rightImg']);
            var dragImg = Edit.parsedGameArg('dragImg');
            var stayImg = Edit.parsedGameArg('stayImg');
            var stayPlaceImg = Edit.parsedGameArg('stayPlaceImg');
            var manImg = Edit.parsedGameArg('manImg');
            if(!leftImg || !dragImg || !stayImg || !manImg || !stayPlaceImg){
                return breakSave();
            }
            setting.leftimg = $.toJSON(leftImg);
            setting.dragimg = $.toJSON(dragImg);
            setting.stayimg = $.toJSON(stayImg);
            setting.manimg = $.toJSON(manImg);
            setting.ph_s = stayPlaceImg.path;

        }
        else if(style == 19){
            setting.gbp2 = $$('#gameBg2').attr('src');
        }
        getPreviewWin().hg.fire('save',setting,saveGame);
        $$.fire('save',setting,saveGame);
        if( false){
            delete setting.winningRate;
            delete setting.rule;
        }else{
            setting.rule = $.toJSON(setting._rule);
            setting.winningRate += '';
            if(setting.winningRate != gameOld._setting.winningRate){
                operateFlagList[18] = true;
            }
        }
        if(saveGame.$$afterLinkModify){
            delete saveGame._flagB.f2;
        }else{
            delete setting.linkInfotype;
        }
        if( saveGame._flagB.f2048 != gameOld._flagB.f2048 ){
            operateFlagList[31] = true;
        }
         if( saveGame._flagB.f32768 != gameOld._flagB.f32768 ){
            operateFlagList[31] = true;
        }
        saveGame.startTime = $('#beginTime').val();
        saveGame.endTime =  $('#endTime').val();
        // 标记用户是否修改了自定义按钮
        var changeBtnFlag = false;
        
        var hasAwardErr;
        // 标记用户是否修改了自定义按钮
        //var changeBtnFlag = false;
        $.each(saveGame._awardList,function(index,award){
            var awardOld = gameLast._awardList[index];
            var awardDef = gameDef._awardList[index];
            var isc = typeof award.level == 'undefined'; //是否是安慰奖
            //没开启的奖项
            if(isc && saveGame._flag.f16 || (!isc && index < saveGame._setting.an)){
                if((award.attention != awardOld.attention) || (award.attentionimg !== awardOld.attentionimg)){
                    changeBtnFlag = true;
                }
                //如果已经开启一键关注
                if($('.AttentionBox img').eq(index).attr("src") !== saveGame.$$qrImgPathDef){
                    award.attentionimg = $('.AttentionBox img').eq(index).attr("src");
                }
                if($('.AttentionBox img').eq(index).attr("src") === saveGame.$$qrImgPathDef){
                    award.attentionimg = '';
                }
                if(award.cashtype == 1 && award.onlinect == 1){
                    if($('.onlineCashImg img').eq(index).attr("src") !== saveGame.$$qrImgPathDef){
                        award.onlinewxnum = $('.onlineCashImg img').eq(index).attr("src");
                    }
                }
                if($('.onlineCashImg img').eq(index).attr("src") === saveGame.$$qrImgPathDef){
                    award.onlinewxnum = '';
                }
                if(award.$type.sitetype == 'url'){
                    award.cashsite = award.$cashsiteurl;
                }
                award._continfo && $.each(award._continfo,function(key, val) {
                    award.continfo = HdPortal.setFlag(award.continfo,key.replace('f',''),val);
                });
                
                if(!isc){
                    var codeBgTime = award.cbt;
                    var codeEndTime = award.cet;
                    var awardNum = parseInt(award.amount);
                    if(isEmptyInput(codeBgTime) || isEmptyInput(codeEndTime) || awardNum < 0){
                        HdPortal.hdShowMsg("error","奖项信息填写不正确，请重新检查",true);
                        hasAwardErr = true;
                        return false;
                    }
                    //当前奖项是否选择了自定义兑奖码，没有的话此清空已存储的excel名称
                    if(!$('#cusAwardCode'+index).is(':checked')){
                        award['iscuscode'] = false;
                        award['excelName'] = "";
                    }
                    if(award.awardtype == 5){
                        var awardSettingBox = $('.awardSettingBox').eq(index);
                        awardSettingBox.find('.allTimeLimit,.sysAwardCode,.closeWxCard').click();
                    }
                }
            }else{
                award = saveGame._awardList[index] = awardOld; //将没开启奖项的设置项设置回旧奖项数据
                //设置没开启的奖项的奖品剩余数量为已中奖的人数
                if(!isc){
                    award.amount = saveGame.$$prizedNum[index];
                    award.wxcardid = '';
                    award.excelName = '';
                }
            }
            
            //不需要传该字段
            delete award.cloneStores;
        });
        if(hasAwardErr) return breakSave();
        
        var publishCuscodeList = [];
        for(var i = 0; i < 9; i++){
            if(i > saveGame._setting.an && i !=8){
                continue;
            }
            var award_Game = game._awardList[i];
            if(!isPublish || (isPublish && award_Game.level > gameLast._setting.max_an)){
                var award = saveGame._awardList[i];
                if(award.iscuscode){
                    var thisCuscode = $('.cusCodeBox').eq(i).val().trim();
                    if(i == 8){
                        cusCodelist.push({
                            level : 0,
                            custom : thisCuscode
                        });
                        publishCuscodeList.push({
                            level : 0,
                            custom : thisCuscode
                        });
                        continue;
                    }
                    var isExcel = award.amount >= saveGame.$$exportThreshold;
                    var savecodes = [];
                    if(thisCuscode.length == 0) continue;
                    if(award.amount < saveGame.$$exportThreshold || false){
                        //清除excel的兑奖码
                        award.excelName = '';
                        if(false){
                            cusCodelist = cusCodelist.filter(function(item, index) {
                                return item.level != (i + 1) || (item.level != i + 1 && item.type != 1);
                            });
                            publishCuscodeList = publishCuscodeList.filter(function(item, index) {
                                return item.level != (i + 1) || (item.level != i + 1 && item.type != 1);
                            });
                            var thisCuscodeList = getCodeListByVal(thisCuscode);
                            for(var j = 0; j < thisCuscodeList.length;j++){
                                var cusCode = {};
                                cusCode.level = i +1;
                                cusCode.custom = thisCuscodeList[j];
                                cusCodelist.push({
                                    level : i +1,
                                    custom :  cusCode.custom
                                });
                                publishCuscodeList.push({
                                    level : i +1,
                                    custom :  cusCode.custom
                                });
                            }
                        }
                    }
                }
            }
        }
        if(isPublish){
            if(game.$$addCusCodeList && game.$$addCusCodeList.length > 0 || cusCodelist && cusCodelist.length > 0){
                var addCuscodeList1 = game.$$addCusCodeList ? game.$$addCusCodeList : [];
                var addCuscodeList2 = publishCuscodeList ? publishCuscodeList : [];
                var allAddCuscodeList = addCuscodeList1.concat(addCuscodeList2);
                saveGame['cuscodeList'] = $.toJSON(allAddCuscodeList);
            }
        }else if(cusCodelist && cusCodelist.length > 0){
            saveGame['cuscodeList'] = $.toJSON(cusCodelist);
        }
        if(Edit.tmpImgList.length > 0){
            saveGame['tmpImgList'] = $.toJSON(Edit.tmpImgList);
        }
        var lastGame = $.extend(true,{},saveGame);
        $.each(['flag','flagB','flagC'],function(index,flagKey) {
            $.each(saveGame['_'+flagKey],function(key,val){
                saveGame[flagKey+key.replace('f','')] = val;
            });
        });

        saveGame.flagC1073741824 = true;

        var comfort = saveGame._awardList[8];
        comfort.comModNum = comfort.comNum - game.$$prizedNum[8] >=0 ? comfort.comNum - game.$$prizedNum[8] : 0;
        saveGame.setting = $.toJSON(Edit.clear(setting)); 
        saveGame.awardList = $.toJSON(Edit.clear(saveGame._awardList));
        if(false){//是门店版，传门店id和区域id
            saveGame.storeId = 0;
            saveGame.areaId = 0;
        }
        Edit.clear(saveGame);
        var saveSuccess = function(id,msg){ //保存成功执行函数
            switch (setting.accessrule) {
                case -1:
                    HdPortal.logDog(1000146, 20);
                    break;
                case 0:
                    HdPortal.logDog(1000146, 21);
                    break;
                case 1:
                    HdPortal.logDog(1000146, 22);
                    break;
            }
            parent.window.change = 0;
            top.window.$(top.window).data("beforeunload", false);
            unbindBeforeUnload();
            return breakSave("right",msg,true,id)
        }
        var gameData = $.toJSON(saveGame);
        if(gameData == save.lastDate){ //如果发送数据和上一次一样，那么直接走编辑成功逻辑
            return saveSuccess(saveGame.id,"编辑成功");
        }
        saveGame.status = 0;
        
        //将图片替换量的值赋值到saveGame那
        var imgReplaceQuality = Edit.getImgReplacementQuality(game.style);
        saveGame.indexReplaceNum = imgReplaceQuality[0];
        saveGame.otherReplaceNum = imgReplaceQuality[1];
        /* 点击保存执行的ajax操作 */
        $.ajax({
            type : 'post',
            url : '/ajax/hdportal_h.jsp?cmd=set&id=4',
            data : saveGame,
            error : function(err,errObj){
            console.log("错误"+ err.responseText); 
                breakSave("error",'服务繁忙，请稍候重试',true);
            },
            success : function(data){
                delete game.tmpAwardPath;
                delete game.tmpGaojiPath;
                operateFlagList[57] = true;
                var result = $.parseJSON(data); 
                if(!result.success){  
                    if(result.rt == 70){
                        top.HdPortal.wxCardProgress.end();  
                        var isLimitMoney = HdPortal.Num.translate(game._setting.hblimit || 50000 ,1);
                        var options = {
                            name: 'needToClick',
                            content: '该活动的剩余红包金额超过 '+isLimitMoney+'，为保障您的财产安全，请在“高级设置- 安全设置”中将红包防刷设为“高级”方可保存', 
                            hasTitle: false,
                            hasBottom: true,
                            width: 574,
                            height: 0,
                            showMask: true,
                            confirmBtnName: '马上设置',
                            isOneBottomBtn: true,
                            contentStyles: 'text-align: center; padding-top: 70px;color:red;',
                            confirmFun: function(){
                                game.$tabSetting.select(3,true);//跳转到高级设置
                            }
                        };
                        setTimeout(function(){
                            HdPortal.popup(options);
                            lockSave = false;
                        },500);
                        return;
                    }else if(result.rt == 79){
                        return breakSave("error", "奖品数量有变动，请刷新后再试", true);
                    }else{
                        return breakSave("error",result.msg,true);
                    } 
                }
                if(game.$$addCusCodeList){
                    game.$$addCusCodeList = null;
                }
                $.each(game._awardList,function(index,award){
                    delete award.cuscodes;
                });
                game._setting.oldWinningCycle =   game._setting.winningCycle;//保存的时候需要记录一下oldWinningCycle,用于controller_main.src.js有相应的弹窗效果
                game._setting.oldWinningRate =   game._setting.winningRate;//保存的时候需要记录一下oldWinningRate,用于controller_main.src.js有相应的重置效果
                save.lastDate = gameData;
                saveSuccess(result.id,result.msg);
                if(false && parent !== window){
                    parent.updateGameInfo(game.id);
                }
                if(saveGame.flagB512){
                    operateFlagList[30] = false;
                }else{
                    operateFlagList[29] = false;
                }
                if(saveGame.flagC131072){
                    operateFlagList[74] = true;
                }else{
                    operateFlagList[75] = true;
                }
                if(setting.limg != gameLast._setting.limg){
                    operateFlagList[53] = true;
                }
                if($.toJSON(setting.areaLimitList) != $.toJSON(gameLast._setting.areaLimitList)){
                    operateFlagList[54] = true;
                }
                if(changeBtnFlag){
                    operateFlagList[26] = true;
                }
                if (gameLast._flagC.f134217728 !== saveGame.flagC134217728) {
                    var index = saveGame.flagC134217728 ? 93 : 94;
                    operateFlagList[index] = true;
                }
                if (gameLast._flagC.f268435456 !== saveGame.flagC268435456) {
                    var index = saveGame.flagC268435456 ? 95 : 96;
                    operateFlagList[index] = true;
                }
                if (setting.advertisingDisplayModel !== gameLast._setting.advertisingDisplayModel) {
                    var index = setting.advertisingDisplayModel === 0 ? 98 : 97;
                    operateFlagList[index] = true;
                }
                if (setting.advertisingNumber !== gameLast._setting.advertisingNumber) {
                    operateFlagList[99] = true;
                }
                gameLast = lastGame;         
                if(setting.gameunit != gameOld._setting.gameunit){
                    operateFlagList[27] = true; //新增时 修改分数单位
                }
                for(var i = 0;i < operateFlagList.length;i++){
                    operateFlagList[i] && HdPortal.logDog(1000153,i);
                    operateFlagList[i] = false;
                }
            }
        });
    }
    
    //校验自定义兑奖码
    function checkCuscode(index,callback,isSave,data){
        var award = awardList[index];
        var cusCodeBox = $('#awardDetail .cusCodeBox').eq(index);
        if(cusCodeBox.length == 0) return beforeReturn(true);
        var start = new Date().getTime();
        var pattern = /^[^\u4E00-\u9FA5]{6,40}$/;
        var cuscode = '';
        var thisCuscodeList = [];
        var exitCuscodeList = [];
        var overLengthCuscodeList = [];
        var regErrList = [];
        var excelName = index != 8 ? award.excelName : '';
        var isExcelInput = index != 8  && award.iscuscode && true && (award.amount >= 8000);        
        var limitCardNum = award.awardtype == 4 ? 20 : 40;//微信卡券的券号长度不能超过20
        var defaultTip = !isExcelInput ? '8000个券号以上请先输入奖品数量再上传，一行一个券号，券号数量与奖品数量需一致，发布后生成券号方式将无法更改' : '每个券号不超过'+limitCardNum+'个字符，券号数量与奖品数量需一致，发布后生成券号方式将无法更改';
        var tipsColor = isExcelInput ? $('.uploadCusCode .uploadTip').eq(index) : $('.cusCodeInputBox .tipsColor').eq(index);
        var errObj = isExcelInput ? $('#awardsSetting .cusCodeFile').eq(index) : $('#awardsSetting .cusCodeBox').eq(index);
        var isCheckPTCuscode = (game.style == 71 || !true) && isPublish && award.level > game._setting.max_an;

        
            if(isSave && award.iscuscode && (!isPublish || award.level > game._setting.max_an)){
                var versions = [];
                $.each(awardList, function(i, awardLoop){
                    if(awardLoop.iscuscode && i != index && i < game._setting.an ){
                        versions.push({version: awardLoop.version, level: (i + 1)});
                    }
                });
                versions = JSON.stringify(versions);
                $.ajax({
                    url: '/ajax/hdportal_h.jsp?cmd=checkCuscodeNewLogic&level=' + (index+1) + '&gameid=' + game.id,
                    data : {
                       versions : versions,
                       amount   : award.amount,
                       version  : award.version
                    },
                    success: function(info){
                        info = $.parseJSON(info);
                        var isSuc = info.success;
                        if(info.success){
                            if(!isPublish){
                                if(info.count == award.amount){
                                    isSuc = true;
                                }
                            }
                        }
                        if(!isSuc){
                            if(game.style == 71){
                                if(info.count % game._setting.groupMemberNum != 0){
                                    tipsColor.addClass('errMsg');
                                    tipsColor.html('奖品增加数量必须是团员数量的倍数').show();
                                    ERR.addErr(errObj);
                                    callback && callback(index, false);
                                }else{
                                    tipsColor.removeClass('errMsg');
                                    if(index != 8){
                                        tipsColor.html(defaultTip);
                                    }
                                    ERR.removeErr(errObj);
                                }
                            }
                            tipsColor.text(info.msg);
                            ERR.addErr(errObj);
                            tipsColor.addClass('errMsg').show();
                            var gameSetKey = "$award_hight_set";
                            if( !game[gameSetKey] ){
                                game.$setBaseBoxStatus(gameSetKey);
                            }
                            callback && callback(index, false);
                        }else{
                            callback && callback(index, true);
                        }
                    }
                });
            }else{
                callback && callback(index, true);
            }
            return;
        

        if(isPublish){
            tipsColor = $('.addCuscodeBox .tipsColor').eq(index);
        }
        if(isCheckPTCuscode){
            tipsColor =  $('.cusCodeInputBox .tipsColor').eq(index);
        }

        function beforeReturn(success){
            if(!isPublish || isCheckPTCuscode){
                var checkCuscodeBtn = $('#awardDetail .checkCuscodeBtn').eq(index);
                checkCuscodeBtn.text('检测格式');
                cusCodeBox.removeAttr('disabled');
                ERR.removeErr(checkCuscodeBtn);
            }
            callback && callback(index,success,data);
            return success;
        }  
        
        //检测列表内是否重复或长度是否超出限制
        function checkCode(arr){
            var json = {};
            var existJson = {};
            for(var i = 0; i < arr.length; i++){
                var thisCuscode = arr[i];
                if(thisCuscode.length == 0){
                    continue;
                }
                if(!json[thisCuscode]){
                    json[thisCuscode] = 1;
                }else{
                    if(!existJson[thisCuscode]){
                        exitCuscodeList.push(thisCuscode);
                        existJson[thisCuscode] = 2;
                    }       
                }
                
                if(thisCuscode.length > limitCardNum){
                    overLengthCuscodeList.push(thisCuscode);
                }   
            }           
        }
        
        if(isPublish){
            if(index == 8){
                cuscode = $('#anweiCuscode').val().trim();
            }else{
                if(award.level > game._setting.max_an){
                    cuscode = cusCodeBox.val().trim();
                }else{
                    cuscode = $('.addCuscode').eq(index).val().trim();
                }
            }      
        }else{
            cuscode = cusCodeBox.val().trim();
        }   
        //当前奖项没开启自定义兑奖码则不需要做校验
        if(!award.iscuscode){
            return beforeReturn(true);
        }
 
        if((!isPublish || isCheckPTCuscode) && index != 8 && isExcelInput){
            if(cusCodelist.length > 0){
                thisCuscodeList = getCodeListByLevel(index);
            }
            if(thisCuscodeList.length == 0){
                $(".uploadCusCode").eq(index).find(".cusCodeFile span").show();
                ERR.addErr(errObj);
                return beforeReturn(false);
            }else{
                $(".uploadCusCode").eq(index).find(".cusCodeFile span").hide();
            }
        }else{
            if(cuscode.length > 0){
                thisCuscodeList = getCodeListByVal(cuscode);
            }
        }

        if(!isPublish || isCheckPTCuscode){
            if(award && thisCuscodeList.length != award.amount){
                tipsColor.addClass('inputErrMsg');
                tipsColor.html('当前券号数量为'+ thisCuscodeList.length + '个，与奖品数量不一致');
                ERR.addErr(errObj);
                return beforeReturn(false);
            }else{  
                tipsColor.removeClass('inputErrMsg');
                if(index != 8){
                    tipsColor.html(defaultTip);
                }
                
                ERR.removeErr(errObj);
            }
            if(index == 8){
                if(award.iscuscode && thisCuscodeList.length == 0){
                    ERR.addErr($('.cusCodeBox').eq(index),'安慰奖的自定义兑奖码不能为空');
                    return beforeReturn(false);
                }
            }   
        }else{
            if(!isSave){
                if(thisCuscodeList.length == 0){
                    ERR.addErr($('.addCuscode').eq(index),'增加奖品券号不能为空',$('.awardDetail'),"margin:0px;");
                    return beforeReturn(false);
                }else{
                    ERR.removeErr($('.addCuscode').eq(index));
                }
            }           
        }           

        var beginTime = new Date().getTime();
        var cusCodeMap = [];
        for(var i = 0; i < thisCuscodeList.length; i++){
            
            var thisCuscode = thisCuscodeList[i]; 
            if( !cusCodeMap[thisCuscode] ){
                cusCodeMap[thisCuscode] = 1;
            }else{
                cusCodeMap[thisCuscode]++;
                if(cusCodeMap[thisCuscode] == 2){
                    exitCuscodeList.push(thisCuscode); 
                }
            }
            
            /*for(var j = 0; j < thisCuscodeList.length; j++){
                var otherCuscode = thisCuscodeList[j];
                if(otherCuscode == thisCuscode && i !=j){
                    if(exitCuscodeList.indexOf(thisCuscode) == -1){
                        exitCuscodeList.push(thisCuscode);
                    }               
                }
            }*/
            if(thisCuscode.length > limitCardNum){
                overLengthCuscodeList.push(thisCuscode);
            }

            
            if(!pattern.test(thisCuscode)){
                regErrList.push(thisCuscode);
            }
            
            
            //发布检测是否和其他奖项的自定义兑奖码重复
            if(isPublish){
                for(var m = 0; m < cusCodelist.length;m++){
                    var otherCuscode = cusCodelist[m].custom;
                    var level = cusCodelist[m].level;
                    if(otherCuscode == thisCuscode){
                        if(exitCuscodeList.indexOf(thisCuscode) == -1){
                            exitCuscodeList.push(thisCuscode);
                        }   
                    }
                }
            }
        }
        cusCodeMap = null;
        
        //未发布检测是否和其他奖项的自定义兑奖码重复
        if(!isPublish || isCheckPTCuscode){         
            for(var i = 0; i < 9; i++){
                if(i != 8 && i > game._setting.an - 1){
                    continue;
                }
                var isCuscode = award.iscuscode;
                if(i == 8){
                    isCuscode = game._flag.f16 && isCuscode;
                }                
                
                if(isCuscode && index != i){
                    var excelInput = i != 8 && awardList[i].excelName != '' && true;
                    var cuscodeList = [];
                    if(excelInput){
                        cuscodeList = getCodeListByLevel(i);
                    }else{
                        cuscodeList = getCodeListByVal($('#awardDetail .cusCodeBox').eq(i).val());
                    }
                    for(var j = 0; j < thisCuscodeList.length; j++){
                        var thisCuscode = thisCuscodeList[j];
                        for(var m = 0; m < cuscodeList.length; m++){
                            var otherCuscode = cuscodeList[m];
                            if(thisCuscode == otherCuscode){
                                if(exitCuscodeList.indexOf(thisCuscode) == -1){
                                    exitCuscodeList.push(thisCuscode);
                                }
                            }
                        }
                    }           
                }   
            }
        }   
        if(exitCuscodeList.length > 0){
            if(isPublish){
                tipsColor.addClass('inputErrMsg');
                tipsColor.html('列表内存在重复券号，请确保券号唯一');
                ERR.addErr($('.addCuscode').eq(index));
                return beforeReturn(false);
            }else{
                var html = '<div class="abs exitCuscodeTips hide">'+
                                '<div style="padding-bottom:29px">重复券号：'+exitCuscodeList.join('、')+'</div>'+
                            '</div><div class="tipsArrow hide"></div><div class="exitCuscodeCloseBtn underline pointer hide" style="background-color:#fff;padding-top:4px;" onclick="$(\'.exitCuscodeTips,.tipsArrow,.exitCuscodeCloseBtn\').hide();">我知道了</div>';

                tipsColor.addClass('inputErrMsg').show();
                tipsColor.html('<div class="relative">列表内存在重复券号，请确保券号唯一 <span class="detailTip underline pointer" onclick="$(\'.exitCuscodeTips,.tipsArrow,.exitCuscodeCloseBtn \').show();">详细</span>'+html+'</div>');    
                ERR.addErr(errObj);             
                if(isExcelInput){
                    //因为excel导入后重复，所以清除该奖项的兑奖码
                    cusCodelist = cusCodelist.filter(function(item, _index) {
                        return item.level != index + 1;
                    });
                }
                return beforeReturn(false);
            }       
        }else{
            tipsColor.removeClass('inputErrMsg');
            if(index != 8){
                tipsColor.html(defaultTip);
            }
            ERR.removeErr(errObj);      
        }
        
        if(overLengthCuscodeList.length > 0){
            if(isPublish){
                tipsColor.addClass('inputErrMsg');
                tipsColor.html('每个券号的长度不能超过'+limitCardNum+'个字符');
                ERR.addErr($('.addCuscode').eq(index));
                return beforeReturn(false);
            }else{
                var html = '<div class="abs exitCuscodeTips hide">'+
                                '<div style="padding-bottom:29px">超出长度券号：'+overLengthCuscodeList.join('、')+'</div>'+
                            '</div><div class="tipsArrow hide"></div><div class="exitCuscodeCloseBtn underline pointer hide" style="background-color: #fff;padding-top:4px;" onclick="$(\'.exitCuscodeTips,.tipsArrow,.exitCuscodeCloseBtn\').hide();">我知道了</div>';

                tipsColor.addClass('inputErrMsg');
                tipsColor.html('<div class="relative">每个券号的长度不能超过'+limitCardNum+'个字符 <span class="detailTip underline pointer" onclick="$(\'.exitCuscodeTips,.tipsArrow,.exitCuscodeCloseBtn \').show();">详细</span>'+html+'</div>');              
                ERR.addErr(errObj);
                return beforeReturn(false);
            }       
        }else{
            tipsColor.removeClass('inputErrMsg');
            if(index != 8){
                tipsColor.html(defaultTip);
            }
            ERR.removeErr(errObj);
        }
        
        if(regErrList.length > 0){
            if(isPublish){
                tipsColor.addClass('inputErrMsg');
                tipsColor.html('每个券号的长度限6-'+limitCardNum+'个字符，且不能包含中文');
                ERR.addErr($('.addCuscode').eq(index));
                return beforeReturn(false);
            }else{
                var html = '<div class="abs exitCuscodeTips hide">'+
                                '<div >格式不正确券号：'+regErrList.join('、')+'</div>'+
                            '</div><div class="tipsArrow hide"></div><div class="exitCuscodeCloseBtn underline pointer hide" style="background-color:#fff;padding-top:4px;" onclick="$(\'.exitCuscodeTips,.tipsArrow,.exitCuscodeCloseBtn\').hide();">我知道了</div>';

                tipsColor.addClass('inputErrMsg');
                tipsColor.html('<div class="relative" style="width: 450px;line-height: 14px;">每个券号的长度限6-'+limitCardNum+'个字符，且不能包含中文 <span class="underline pointer detailTip" onclick="$(\'.exitCuscodeTips,.tipsArrow,.exitCuscodeCloseBtn \').show();">详细</span>'+html+'</div>');
                if(index != 8){
                    ERR.addErr(errObj);
                }else{
                    ERR.addErr(errObj,'自定义兑奖码长度限6-'+limitCardNum+'个字符，且不能包含中文');
                }
                return beforeReturn(false);
            }  
        }else{
            tipsColor.removeClass('inputErrMsg');
            if(index != 8){
                tipsColor.html(defaultTip);
            }
            ERR.removeErr(errObj);
        }
        if(game.style == 71){
            if(thisCuscodeList.length % game._setting.groupMemberNum !=0){
                tipsColor.addClass('inputErrMsg');
                tipsColor.html('奖品增加数量必须是团员数量的倍数');
                ERR.addErr($('.addCuscode').eq(index));
                return beforeReturn(false);
            }else{
                tipsColor.removeClass('inputErrMsg');
                if(index != 8){
                    tipsColor.html(defaultTip);
                }
                ERR.removeErr(errObj);
            }
        }
        $.ajax({
            type    : "post",
            url     : "/ajax/advanceUpload.jsp",
            data    : "cmd=checkCuscode&cusCodeList=" + $.toJSON(thisCuscodeList)+"&isPublish=false&gameId=4",
            success : function(data){
                var result = $.parseJSON(data);
                if(result.success){
                    var exitCodeList = result.exitCodeList;
                    if(exitCodeList.length > 0){
                        if(isPublish){
                            tipsColor.addClass('inputErrMsg');
                            tipsColor.html('某些券号已被其他活动使用');
                            ERR.addErr($('.addCuscode').eq(index));
                            return beforeReturn(false);
                        }else{
                            var html = '<div class="abs exitCuscodeTips hide"><div>';
                            for(var i = 0; i < exitCodeList.length; i++){
                                var exitCode = exitCodeList[i].custom;
                                var gameId = exitCodeList[i].gameid;
                                html += (exitCode + '已被HD'+gameId+"使用");
                                if(i < exitCodeList.length -1){
                                    html += "、";
                                }
                            }
                            html += '</div>';
                            html += '</div><div class="tipsArrow hide"></div><div class="exitCuscodeCloseBtn underline pointer hide" style="background-color:#fff;padding-top:4px;" onclick="$(\'.exitCuscodeTips,.tipsArrow,.exitCuscodeCloseBtn \').hide();">我知道了</div>';
                            tipsColor.addClass('inputErrMsg');
                            tipsColor.html('<div class="relative" style="width: 450px;line-height: 14px;">某些券号已被其他活动使用 <span class="underline pointer detailTip" onclick="$(\'.exitCuscodeTips,.tipsArrow,.exitCuscodeCloseBtn \').show();">详细</span>'+html+'</div>');
                            ERR.addErr(errObj);
                            if(index == 8){
                                tipsColor.show();
                            }
                            return beforeReturn(false);
                        }                   
                    }else{
                        tipsColor.removeClass('inputErrMsg');
                        if(index != 8){
                            tipsColor.html(defaultTip);
                        }else{
                            tipsColor.hide();
                        }
                        ERR.removeErr(errObj);
                        //callback && callback(index,true,data);
                        return beforeReturn(true);                  
                    }                   
                }else{
                    HdPortal.hdShowMsg("error",result.msg || "系统繁忙，请稍后重试",true);
                    //callback && callback(index,true,data);
                    return beforeReturn(false);
                }
                
            }
        }); 
    }
    
    function showTabByStyle(trigger){
        var columnList = new hdFai.HdList(0,[
            ['访问密钥', 'accessKey'],
            ['首页','home'],
            ['游戏过程','showGamePage'],
            ['活动奖品','showRule'],
            ['我的奖品','showAward'],
            ['奖品详情','showAwardDetail'],
            ['获奖名单','showRegAward'],
            ['挑战成功','showResult',true],
            ['挑战失败','showResult',false],
            ['摇奖页面','showShakePage'],
            ['中奖页面','showDraw',true],
            ['没中奖页','showDraw',false],
            ['排行榜','showRank']
        ]);
        if (!game._flagC.f2048) {
            columnList.not('访问密钥');
        }
        if(!true){
            columnList.not('排行榜');
        }
        if(true){
            if(true){
                columnList.not('挑战成功','挑战失败');
            }
            columnList.not('排行榜');
        }
        if( true ){
            columnList.not('摇奖页面');
        }
        switch(75){
            case 0:
            case 2:
            case 24:
            case 50:
            case 57:
            case 65:
                columnList.not('游戏过程');
                break;
            case 79:
                columnList.not('游戏过程');
                break;
            case 1:
                columnList.setName('游戏过程','刮奖页面');
                break;  
            case 9:
                columnList.replace('游戏过程',['选礼盒页','showXuanlihePage'],['拆礼盒页','showChailehePage']).not('摇奖页面');
                break;
            case 19:
                columnList.after('游戏过程',['接物品页','showGame2Page']).setName('游戏过程','抛物品页');
                break;
            case 18:
                columnList.after('游戏过程',['作答过程','showAnswerPage']).setName('游戏过程','听歌过程');
                break;
            case 25:
                columnList.replace('游戏过程',['录音页面','recordPage'],['上传录音','uploadRecord'],['好友进入','friendEnter']);
                break;
            case 27:
                columnList.replace('游戏过程',['选择照片','SelectPic'],['上传照片','uploadPicture'],['好友进入','friendEnter']);
                break;
            case 31:
                columnList.replace('游戏过程',['写祝福语','showGamePage'],['传递详情','translated']).not('挑战成功','挑战失败');
                break;
            case 34:
                columnList.replace('游戏过程',['选择游戏','showGamePage',0],['游戏项一','showGamePage',1],['游戏项二','showGamePage',2],['游戏项三','showGamePage',3],['成绩详情','showGamePage',4]).not('挑战成功','挑战失败');
                break;
            case 39:
                columnList.replace('游戏过程',['游戏过程1','showGamePage',1],['游戏过程2','showGamePage',2],['密码编辑','showGamePage',3],['宝藏编辑','showGamePage',4]);
                break;
            case 40:
                columnList.after('游戏过程',['作答过程','showAnswerPage']).after('奖品详情',['挑战成功','showTheResult',true],['挑战失败','showTheResult',false]);
                break;
            case 45 : 
                columnList.replace('游戏过程',['选择页面','selectLuck'],['领取页面','getLuck'],['未集齐页','notFull'],['已集齐页','hasFull'],['好友进入','friendEnter']);
                break;
            case 46 : 
                columnList.replace('游戏过程',['收集详情','showCollectionPage'],['好友进入','showFriendPage']);
                break;
            case 47 : 
                columnList.setName('首页','活动页面').replace('游戏过程',['支持成功','home2']);
                break;
            case 48 : 
                columnList.after('游戏过程',['好友进入','friendEnter']).replace('游戏过程',['砍价详情','barginInfo']).not('摇奖页面');
                break;
            case 49 : 
                columnList.replace('游戏过程',['报名页','showSignUpPage'],['参与详情','showDetailPage']).not('排行榜','挑战成功','挑战失败');
                break;
            case 51 :
                columnList.not('挑战成功','挑战失败');
                columnList.replace('游戏过程',['参与详情','joinDetailPage'],['挑战成功','successPage'],['好友进入','friendEnterPage'],['好友帮忙','friendHelpPage']);
                break;
            case 52 : 
                columnList.replace('挑战成功',['助力成功','helpResultPage']).after('游戏过程',['参与进度','showGamePage',true]).not('挑战失败');
                break;
             case 55 : 
                columnList.setName('游戏过程','拆礼过程');
                break;

        }
        if((game.gameType == 3 || game.gameType == 1)){
            columnList.not('中奖页面','没中奖页','摇奖页面');
        }else{
            columnList.not('获奖名单');
        }
        if(game.gameType == 3 && false){
            columnList.not('挑战成功');
        }else if(game.gameType == 0 && false){
            columnList.not('排行榜');
        }
        if(game.gameType == 3 && ![28,18].contains(75) ) {
            columnList.not("挑战失败");
        }
        if(game.gameType == 4){
            columnList.not('摇奖页面');
        }
        $$.on("load",function(){
            getPreviewWin().hg && getPreviewWin().hg.fire('showTabByStyle',columnList);
        });
        
        if(game._flagB.f1048576){
            columnList.unshift(['广告页']);
        }else{
            columnList.not('广告页');
        }
        (trigger != undefined) || (trigger = true);
        Edit.updataTopBarTap(columnList, trigger);
    }
    
    //统一设置版本版逻辑
    function setBuyInput(verInputs){
        if(!verInputs || verInputs.length == 0) return;
        verInputs.each(function(index, el) {
            var input = $(this), neepVer = parseInt(input.attr("_ver")), checked = input.is(':checked');
            if( isNaN(neepVer) ) return;
            if( !passAuthVer(neepVer, input.attr("_strict") == 'true', input.attr('type') == 'text' || checked) ){
                checked && input.siblings('input[name='+input.attr('name')+']').each(function(){
                    var other = $(this);
                    if(other.attr('_isDef') || (!other.hasClass('ver'))){
                        other.attr('checked','checked').click();
                        return false;
                    }
                });
                input.attr('disabled','disabled');
            }
        });
    }

    function passAuthVer(neepVer,isStrict,checked){
        var pass = false;
        if( HdPortal.compareHdVer(0, neepVer) ){
            pass = true;
        }else if( isPublish && !isStrict && checked && HdPortal.compareHdVer(0, neepVer) ){
            pass = true;
        }
        return pass;
    }

    //日期转成时间戳
    function strToTime(str_time){
        var new_str = str_time.replace(/:/g,'-').replace(/ /g,'-');
        var arr = new_str.split("-");
        if(arr.length < 6){
            for(i = arr.length;i < 6;i++){
                arr[i] = 0;
            }
        }
        var datum = new Date(Date.UTC(arr[0],arr[1]-1,arr[2],arr[3]-8,arr[4],arr[5]));
        return strtotime = datum.getTime()/1000;
    }
    //时间戳转为日期
    function date_time(unixtime) {   
      var timestr = new Date(parseInt(unixtime) * 1000);
      return timestr;
    }
    function getDateString(time){
        time = time.replace(/-/g,'/');
        var str = '',date = new Date(time);
        return HdPortal.pad(date.getFullYear(),4)+'-'+HdPortal.pad(date.getMonth()+1,2)+'-'+HdPortal.pad(date.getDate(),2)+' ';
    }

    function pageChange(){
        $('.input').one("keydown", function () {
            parent.window.change++;
            if(!pageChange.hasBind){
                pageChange.hasBind = true;
                $(window).on('beforeunload', function(event) {
                    if (top.window.$(top.window).data("sidebarClick")) {
                        return;
                    }
                    var message = '离开页面内容将会消失';
                    event.returnValue = message;
                    return message;
                });
                $(window).on("unload", function (event) {
                    if (top.window.$(top.window).data("sidebarClick")) {
                        top.window.$(top.window).data("sidebarClick", false);
                    }
                });
            }
        });
    }

    function unbindBeforeUnload(){
        $(window).off('beforeunload');
        pageChange.hasBind = false;
        pageChange();
    }
    function linkToShop(){
        //if((true ||　HdPortal.hdOpenTime <= HdPortal.timeLimit.quickPay) && true){

        if(false){
            var url = 'http://i.fkw.com/portal.jsp?#appId=shopCart&iParams=removeAds%3Dtrue%26gameId%3D4&iParams=0.03111188017097344';
            window.open(url);
            HdPortal.showRechargeBox("购买去广告", function(){
                $.ajax({
                    url: '/ajax/hdportal_h.jsp?cmd=checkByKill&id=4',
                    type: 'post',
                    success: function(result){
                        result = $.parseJSON(result);
                        if(result.success){
                            Edit.rootSafeApply(function(){
                                game._flagB.f8192 = true;
                            });
                        }
                    }
                });
            });
      //将遮挡层的click事件解绑，用
 //           top.$(".bg-mask").unbind("click");
        }else{
            var verInfo = 1;
            switch (0) {
                case 0:
                    verInfo = 1;
                    break;
                case 1:
                    verInfo = 2;
                    break;
                case 2:
                    verInfo = 3;
                    break;
                case 3:
                case 4:
                    verInfo = 4;
                    break;
            }
            checkKill(4,verInfo,true);
        }
    }

    function checkKill(id,verInfo,isShowPop){
        $.ajax({
            url: '/ajax/hdportal_h.jsp?cmd=checkByKill&id='+id,
            type: 'post',
            success: function(result){
                result = $.parseJSON(result);
                if(result.success){
                    HdPortal.hdShowMsg('right', '成功为HD4去除广告', true);
                    Edit.rootSafeApply(function(){
                        game._flagB.f8192 = true;
                    });
                }else{
                    if(isShowPop){
                        HdPortal.quickPayMent({verInfo: verInfo, type: 1, gameId: id, callback: function(){
                            checkKill(id,verInfo,false);
                        }});
                    }
                }
            }
        });
    }

    function showSmsTips(){
        var options = {
            name: '',
            content: '请先到个人中心选择防刷短信模板',
            hasTitle: false,
            hasBottom: true,
            title: '',
            width: 0,
            height: 0,
            showMask: true,
            confirmBtnName: '确认',
            cancelBtnName: '取消',
            confirmFun: null,
            cancelFun: null,
            closeFun: null,
            styles: '',
            contentStyles: 'text-align: center; padding-top: 70px;',
            isComfirmBox:false,
            hasAnimate : true,
        };
        //HdPortal.popup(options);
        HdPortal.hdShowMsg("error","请先到个人中心选择防刷短信模板",true);
    }
    function showNoTempTips(){
        HdPortal.hdShowMsg("error","请先到个人中心选择联系电话短信模板",true,function(){},'355px');
    }
    function initChangeSave() {
        $("#editActContainer").scope().initChangeSave();
    }
    function changeIsSave() {
        $("#editActContainer").scope().changeIsSave();
    }
    function getIsSave() {
        return $("#editActContainer").scope().getIsSave();
    }
    
    // 访问密钥相关逻辑
    (function () {
        $("#accessKey .accessKeyBtn").click(function () {
            Edit.showManagePopup({
                game: game,
                downLoadToken : $("#_TOKEN").attr("value"),
                resRoot: "//hd.faisys.com",
                searchKeyList: ["keyId", "cusKey"]
            });
        });
        function getUsualAccessKeyError () {
            if (game._setting.accessrule === 1) {
                HdPortal.hdShowMsg("error", "获取通用码失败，请刷新页面重试", false);
            }
        }
        app.controller("AccessKeyTips", ["$scope", "$rootScope", function ($scope, $rootScope) {
            $.ajax({
                type: "POST",
                url: HdPortal.versionURL + '/ajax/hdportal_h.jsp?cmd=getUsualAccessKey&gameid=' + game.id,
                success: function (response) {
                    response = JSON.parse(response);
                    if (response.rt) return getUsualAccessKeyError();
                    $scope.$apply(function () {
                        $scope.usualKey = response.key || "";
                    });
                    $scope.$watch("usualKey", function (newValue, oldValue) {
                        if (newValue == oldValue) return;
                        Edit.checkCusAccessKey(newValue, false);
                        changeIsSave();
                    });
                },
                error: getUsualAccessKeyError
            });
        }]);
    } ());
    (function(){
        var poupParam = $.extend(true,{
            "css_key" : "//hd.faisys.com/version2/css/poupBox/versionDead.min.css?v=201808290953",
            appendBox : top.$(".versionIcon"),
        },{"isBUser":false,"verName":"免费版","isNeedCoup":false});
        HdPortal.initVersionDead(poupParam);
    })()
</script>
</body>
</html>
